{"version":3,"sources":["serviceWorker.js","actions/types.js","actions/index.js","components/bottom_tab_bar.jsx","utilities/helper.js","components/nav_bar.jsx","components/explore.jsx","components/error_page/no_permission.jsx","components/error_page/not_signed_in.jsx","components/group_explore.jsx","components/notifications.jsx","components/readlists.jsx","components/settings.jsx","components/uploads/confirmation_dialog.jsx","components/uploads/uploads.jsx","components/main.jsx","App.js","components/auth_container.js","components/create_coterie_form.jsx","components/create_readlist_form.jsx","components/edit_readlist_form.jsx","components/document_viewer/document_viewer_helper.js","components/document_viewer/annotation_thread.jsx","components/document_viewer/float_button.jsx","components/document_viewer/document_viewer.jsx","components/readlist.jsx","components/add_to_readlist.jsx","components/profile/profile.jsx","components/search/applyCoterieDialog.jsx","components/search/search.jsx","components/login/login.jsx","reducers/index.js","reducers/reducer_user.js","reducers/reducer_documents.js","reducers/reducer_coteries.js","reducers/reducer_readlists.js","reducers/reducer_explore.js","reducers/reducer_notifications.js","reducers/reducer_invitations.js","reducers/reducer_search.js","index.js","utilities/pdf.png","logo.svg"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","USER_GET","USER_SIGN_OFF","DOCUMENT_GET_MY","COTERIE_GET_MY_DOCUMENTS","DOCUMENT_GET_EXPLORE","DOCUMENT_UPLOAD","DOCUMENT_RENAME","DOCUMENT_DELETE_SUCCESS","DOCUMENT_UNCOLLECT_SUCCESS","READLIST_GET_MY","READLIST_GET_EXPLORE","READLIST_GET","READLIST_CREATE","READLIST_EDIT","READLIST_DELETE_SUCCESS","READLIST_COLLECT_SUCCESS","READLIST_UNCOLLECT_SUCCESS","READLIST_REMOVE_DOCUMENT_SUCCESS","NOTIFICATION_GET_COMBINED","NOTIFICATION_READ","NOTIFICATION_READ_ALL_SUCCESS","NOTIFICATION_READ_ALL_ERROR","SEARCHRESULT_GET","SEARCH_ERROR","COTERIE_GET_MY","COTERIE_CREATE","COTERIE_UPDATE","COTERIE_UPDATE_SUCCESS","COTERIE_INVITE","COTERIE_MEMBER_REMOVE","COTERIE_DOCUMENT_UPLOAD","COTERIE_LEAVE","COTERIE_DELETE","COTERIE_JOIN_WITH_CODE","COTERIE_APPLY","COTERIE_APPLICATIONS_GET","COTERIE_APPLICATION_ACCEPT","COTERIE_APPLICATION_DECLINE","INVITATION_GET","INVITATION_ACCEPT","INVITATION_DECLINE","FILE_UPLOAD_API_URL","COTERIE_DOCUMENT_UPLOAD_API_URL","INVITE_TO_COTERIE_API_URL","GET_INVITATION_API_URL","getUser","request","axios","get","type","payload","signOff","data","method","url","getMyDocuments","uploadDocument","headers","Content-Type","uploadCoterieDocument","renameDocument","deleteDocument","slug","dispatch","deleteDocumentSuccess","uncollectDocument","uncollectDocumentSuccess","getMyReadlists","getReadlist","deleteReadlist","deleteReadlistSuccess","getExploreDocuments","getExploreReadlists","getCombinedNotifications","markNotificationAsRead","markAllNotificationsAsRead","unreadNotificationSlug","response","getMyCoteries","getMyCoteriesDocument","uuid","concat","getMyCoteriesReadlists","createReadlist","editReadlist","collectReadlist","collectReadlistSuccess","uncollectReadlist","uncollectReadlistSuccess","documentChangeReadlists","pk","removeFromReadlistSuccess","createCoterie","updateCoterie","updateCoterieSuccess","name","description","leaveCoterie","deleteCoterie","getSearchResults","term","getCoterieSearchResults","coterieUuid","inviteToCoterie","removeMember","email","getInvitations","acceptInvitation","declineInvitation","joinCoterieWithCode","applyCoterie","getCoterieApplication","acceptApplication","application","declineApplication","BottomTabBar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","selectedTab","path","split","pop","hidden","slices","slice","length","join","unread","_","filter","notifications","isEmpty","invitations","react_default","a","createElement","Notifications_default","badge_default","dot","standalone","_this2","style","position","height","getVisibleHeightString","width","top","paddingLeft","paddingRight","tab_bar_default","unselectedTintColor","tintColor","barTintColor","Item","icon","Explore_default","selectedIcon","title","key","selected","onPress","setState","history","push","getGroupPath","content","CloudUpload_default","ViewList_default","renderNotificationTabWithBadge","NotificationsActive_default","Settings_default","React","Component","connect","getCookie","cookieValue","document","cookie","cookies","i","trim","substring","decodeURIComponent","copyToClipboard","temp","innerHTML","body","appendChild","range","createRange","selectNodeContents","select","getSelection","removeAllRanges","addRange","execCommand","removeChild","MAX_DOCUMENT_UPLOAD_SIZE","getRandomColor","charCodeAt","library","add","faUsers","faUserPlus","faUserFriends","Navbar","coterieModal","e","preventDefault","defineProperty","tab","currentCoterie","coteries","params","groupUuid","currentTab","charAt","toUpperCase","pathname","coteriePk","coterie","list_default","extra","members","align","backgroundColor","onClick","goToGroup","onClose","Brief","_this3","hasAdministratedCoteries","user","administratedCoteries","hasJoinedCoteries","joinedCoteries","nav_bar_default","mode","boxShadow","zIndex","leftContent","portrait_url","Avatar_default","alt","src","rightContent","icon_default","marginRight","Badge_default","color","classes","badge","is_authenticated","modal_default","alert","text","onToggle","badgeContent","className","avatar","fontSize","PeopleOutline_default","popup","visible","animationType","renderHeader","overflow","maxHeight","map","renderCoterieItem","button_default","getNavbarTitle","actions","withStyles","theme","right","border","Explore","loading","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","t0","abrupt","stop","apply","arguments","fetchData","lib","_ref2","objectSpread","tabs_default","DefaultTabBar","documents","element","open_url","GridListTile_default","Grid_default","container","alignItems","image","GridListTileBar_default","fontWeight","subtitle","react_timeago_lib_default","date","upload_time","white_space_default","GridList_default","cellSpacing","cols","cellHeight","flexWrap","margin","readlists","_this4","create_time","thumb","multipleLine","owner","nickname","explore","renderDocumentsSubgrid","mostViewsDocuments","mostStarsDocuments","mostAnnotationsDocuments","renderReadlistsSublist","mostCollectorsReadlists","newestReadlists","tabs","initalPage","swipeable","_renderTabBar","renderReactSticky","justifyContent","renderExploreDocuments","renderExploreReadlists","activity_indicator_default","toast","animating","renderStickyTab","NoPermission","Logo","marginTop","Button_default","variant","NotSignedIn","GroupExplore","coteriedocument_set","pdfIcon","coterieId","uploader_name","reverse","textAlign","renderCoterieDocuments","renderCoterieReadlists","no_permission","not_signed_in","Notifications","action","replace","coterieName","timestamp","moment","isSame","format","unreadNotification","item","notification","FormData","append","items","invitation","Mail_default","display","flexDirection","float","Done_default","marginBottom","coterie_name","accept_url","Clear_default","reject_url","inviter_nickname","invitation_message","isAnnotationRelated","includes","verb","isApplicationToJoinGroup","image_url","borderRadius","formatNotificationTime","mark_read_url","stopPropagation","DraftsOutlined_default","redirect_url","actor","getActionDescription","coterie_uuid","getCoterieName","handleMarkAllAsRead","orderBy","renderInvitationList","renderNotificationsList","Readlists","createdReadlistActionModal","collectedReadlistActionModal","selectedReadlist","AddBoxOutlined_default","list","isCreated","arrow","_this5","renderAddReadlist","renderReadlist","createdReadlists","readlistSlug","_this6","collectedReadlists","renderCreatedReadlists","renderCollectedReadlists","Settings","handleChange","event","target","value","isFetching","memberModal","adminModal","applicationModal","inviteDialog","editDialog","applications","fetchApplications","prevProps","applicationPk","updatedApplications","_this$preprocessEmail","preprocessEmailsString","emails","_this$preprocessEmail2","slicedToArray","isValid","emailList","message","successful_applications","unregistered_emails","toast_default","success","fail","emailsString","rows","emailsArray","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","done","row","err","return","resultArray","matchesArray","index","potentialEmailString","validator","validate","copyPasteEmailArray","_handleCopyPasteEmailsFromEmailClient","emailArray","_emailsStringToArray","returnedEmailArray","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","new_name","new_desc","member","isAdmin","email_address","remove_member_url","applicant","removeApplicationCallback","application_message","_this7","wing_blank_default","size","card_default","Header","marginLeft","Edit_default","showModal","Body","_this8","renderMember","_this9","renderApplication","_this10","administrators","admin","renderAdmin","_this11","Dialog_default","open","aria-labelledby","DialogTitle_default","id","DialogContent_default","DialogContentText_default","TextField_default","required","autoFocus","multiline","label","fullWidth","onChange","DialogActions_default","disabled","handleFormSubmit","_this12","defaultValue","handleGroupEdit","_this13","renderGroupInfo","VpnKey_default","People_default","HowToVote_default","PersonAdd_default","ExitToApp_default","renderAdminModal","renderMemberModal","renderApplicationModal","renderInviteDialog","renderEditDialog","ConfirmationDialog","handleEntering","radioGroupRef","focus","handleCancel","handleClear","handleOk","nextProps","_this$props","disableBackdropClick","disableEscapeKeyDown","maxWidth","onEntering","RadioGroup_default","ref","values","readlist","FormControlLabel_default","control","Radio_default","Uploads","uploadedActionModal","collectedActionModal","uploadDialog","chooseReadlistRadio","uploadedFile","selectedDocument","handleFileDialog","file","finput","files","handleConfirmationDialogClose","handleFileSubmit","filenameWithoutExtension","filename","is_superuser","info","validateDocumentSize","uploading","coterie_pk","readlistData","newGroupUuid","isUpload","textOverflow","click","itemId","renderListItem","renderAddDocument","renderUploadedList","uploadedDocuments","docSlug","renderCollectedList","collectedDocuments","currDocument","prompt","renameUrl","protocol","host","Share_default","uncollectUrl","DeleteForever_default","renderRenameModal","Create_default","delete_url","ListItem_default","ListItemText_default","primary","whiteSpace","secondary","lastModified","padding","button","divider","aria-haspopup","confirmation_dialog","renderFileItem","renderFileNameTextField","renderReadlistSelect","_this14","renderUploadedActionModal","renderCollectedActionModal","renderUploadDialog","visibility","accept","Groups","Switch","Route","component","Main","App","justify","CircularProgress_default","thickness","components_nav_bar","components_bottom_tab_bar","main","AuthContainer","isAuthenticated","children","CreateCoterieForm","coterie_description","_this$state","onLeftClick","goBack","input_item_default","clear","placeholder","textarea_item_default","count","handleSubmit","CreateReadlistForm","readlist_name","readlist_description","EditReadlistForm","rename_url","change_desc_url","_React$createElement","handleDelete","end","Array","fill","idx","renderMathJax","hasOwnProperty","MathJax","Hub","Queue","getPrevAnnotation","selectedAnnotation","annotationsByPage","thisPage","page_index","thisPageAnnotations","indexInPage","indexOf","prevPageWithAnnotations","currentPageIndex","getPreviousPageIndexWithAnnotations","annotations","getNextAnnotation","numPages","nextPageWithAnnotations","getNextPageIndexWithAnnotations","SmallChip","root","Chip","SmallButton","minWidth","Button","reduce_comment","comment","prefix","timeago","isAnnotation","annotator","author","replier","authorpk","edit_time","post_time","numReplies","replies","AnnotationThread","commentMenuElement","commentMenuUuid","openContextMenu","isHead","currentTarget","selectedComment","selectedCommentIsReply","closeContextMenu","locateComment","scrollIntoView","behavior","replyAnnotation","setParentState","replyToAnnotationReplyId","replyToAnnotationReplyUuid","annotationOpen","annotationLinearLinkedListOpen","replyReply","likeAnnotation","post","likeSet","likeReply","editComment","editCommentOpen","editTextContent","shareComment","deleteComment","operation","idType","parseInt","pdfDocument","reply","splice","annotation","Set","Typography_default","dangerouslySetInnerHTML","__html","KeyboardArrowDown_default","annotationArea","react_fontawesome_index_es","faLocationArrow","faReply","has","faThumbsUped","faThumbsUp","faEllipsisV","commentBlock","Menu_default","anchorEl","PaperProps","MENU_ITEM_HEIGHT","MenuItem_default","faPencilAlt","faLink","faTrashAlt","FlaoatingButton","context","clickCallback","transitions","duration","enteringScreen","leavingScreen","Grow_default","in","show","fab","bottom","minHeight","spacing","unit","withTheme","faPaperPlane","faTimesCircle","RENDERING","ANNOTATION_WIDTH_THRESHOLD","ANNOTATION_HEIGHT_THRESHOLD","DocumentViewer","pdfDoc","taskList","finishList","rendering","clearnessLevel","annotationAreas","prevScroll","pageYOffset","annotationFirstTouch","currentScale","scaleFactor","sampleWidth","sampleHeight","newAnnotationInputOpen","showFloatButton","creatingAnnotationAtPageIndex","newAnnotationContent","newAnnotationReplyContent","dynamicRenderOnScroll","pageIndex","Math","ceil","viewerWrappper","scrollHeight","renderOrNot","pre","getElementById","pushNewPageRenderingTask","renderTaskList","handleScroll","thisScroll","status","taskObj","scale","self","assertThisInitialized","getPage","page","canvas","getContext","viewport","getViewport","renderContext","canvasContext","render","promise","shift","renderAnnotationAreas","isGroupDocument","scrollToTargetAnnotationIfInUrl","configSizeAccordingToLastPageAndRenderTheFirstSeveralPages","pdf","lastPage","innerWidth","styleDrawer","annotationWrapper","parentElement","classList","contains","selectAnnotation","remove","rgba","background","borderColor","deselectAnnotation","lockScroll","targetTouches","changeToCommentMode","getElementsByTagName","addEventListener","passive","changeToViewMode","removeEventListener","postAnnotation","newAnnotationWidth","newAnnotationHeight","newAnnotationY","newAnnotationX","getComputedStyle","getPropertyValue","newAnnotation","cancelCurrentAnnotation","postAnnotationReply","cancelCurrentAnnotationReply","postEdit","cancelEdit","annotation_uuid","URL","href","searchParams","block","PDFJS","workerSrc","getDocument","getPositionRelativeToPageTopLeft","touch_absolute_x","touches","pageX","touch_absolute_y","pageY","offsetLeft","offsetTop","gestureOnRND","annotationBeingCreated","viewWrapper","ele","onTouchStart","_getPositionRelativeT","_getPositionRelativeT2","bottom_right_relative_x","bottom_right_relative_y","originalAnnotationX","originalAnnotationY","onTouchMove","_getPositionRelativeT3","_getPositionRelativeT4","max","abs","min","rnd","updatePosition","x","y","onTouchEnd","draggable","react_rnd_lib","c","bounds","onDragStop","d","onResizeStop","direction","delta","toLowerCase","parseFloat","TapAndPinchable_default","moveThreshold","onTap","frame_color","width_percent","height_percent","left","left_percent","top_percent","annotation-id","annotation-uuid","Drawer_default","anchor","IconButton_default","prevAnnotation","KeyboardArrowLeft_default","FormatListBulletedRounded_default","nextAnnotation","KeyboardArrowRight_default","annotation_thread","bind","styles","createMuiTheme","palette","reopenAnnotationThread","annotationReplyText","editText","float_button","AddComment_default","DoneAll_default","Readlist","collected","onCollectIconClick","isOwner","Card_default","CardContent_default","CardHeader_default","paddingTop","wordBreak","hyphens","CardActions_default","aria-label","Favorite_default","FavoriteBorder_default","onShareIconClick","renderReadlistCard","renderDocumentList","AddToReadlist","checked","addReadlists","removeReadlists","currDocumentUuid","documents_uuids","Checkbox_default","renderOwnedReadlists","faFacebook","faGoogle","Profile","renderNavBar","ApplyCoterieDialog","applyCoterieModal","invitationCode","Search","searchTerm","applyCoterieDialog","results","sortKey","jsx","viewer_url","users","selectedCoterie","sort","b","localeCompare","Toolbar_default","InputBase_default","renderSearchResultList","search","faUniversity","Login","username","password","token","errorMessage","clickLogin","offline","facebookLogin","FB","login","JSON","stringify","authResponse","scope","nusLogin","handleMessageClose","reason","s","js","fjs","parentNode","insertBefore","loadFBSdk","fbAsyncInit","init","appId","xfbml","version","AppEvents","logPageView","fbLoginButtonLoading","auth2","gapi","load","client_id","cookiepolicy","attachClickHandler","googleUser","getAuthResponse","id_token","rootReducer","combineReducers","extend","coterieMyUploadedDocuments","addedUploadedDocuments","newUploadedDocuments","newCollectedDocuments","newCollected","joinedCoteriesAfterLeave","administratedCoteriesAfterDelete","coterie_joined_with_code","created_readlists","collected_readlists","keyBy","myUploadedDocuments","uploadedDocument","renamedDocument","omit","new_coterie","updated_coterie","member_removed_coterie","conterie_application_accepted","findKey","find","most_collectors_readlists","newest_readlists","notification_read","notifications_read_list","resultReadlists","resultDocuments","resultUsers","resultCoteries","typography","useNextVariants","suppressDeprecationWarnings","store","createStore","reducers","compose","applyMiddleware","ReduxPromise","ReduxThunk","ReactDOM","es","auth_container","BrowserRouter","document_viewer_document_viewer","renderDocumentViewer","renderGroupDocumentViewer","exact","Redirect","to","process","origin","fetch","ready","unregister","reload","checkValidServiceWorker","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.18cee368.chunk.js","sourcesContent":["// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\n\nexport function register(config) {\n  if ('serviceWorker' in navigator && !isLocalhost) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `/sw`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (response.status === 404 || response.headers.get('content-type').indexOf('javascript') === -1) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\n","export const USER_GET = 'user_get';\nexport const USER_SIGN_OFF = 'user_sign_off';\n\nexport const DOCUMENT_GET_MY = 'document_get_my';\nexport const COTERIE_GET_MY_DOCUMENTS = 'document_get_my_documents';\nexport const DOCUMENT_GET_EXPLORE = 'document_get_explore';\nexport const DOCUMENT_UPLOAD = 'document_upload';\nexport const DOCUMENT_RENAME = 'document_rename';\nexport const DOCUMENT_DELETE_SUCCESS = 'document_delete_success';\nexport const DOCUMENT_UNCOLLECT_SUCCESS = 'document_uncollect_success';\n\nexport const READLIST_GET_MY = 'readlist_get_my';\nexport const READLIST_GET_EXPLORE = 'readlist_get_explore';\nexport const READLIST_GET = 'readlist_get';\nexport const READLIST_CREATE = 'readlist_create';\nexport const READLIST_EDIT = 'readlist_edit';\nexport const READLIST_DELETE_SUCCESS = 'readlist_delete_success';\nexport const READLIST_COLLECT_SUCCESS = 'readlist_collect_success';\nexport const READLIST_UNCOLLECT_SUCCESS = 'readlist_uncollect_success';\nexport const READLIST_REMOVE_DOCUMENT_SUCCESS = 'readlist_remove_document_success';\n\nexport const NOTIFICATION_GET_COMBINED = 'notification_get_combined';\nexport const NOTIFICATION_READ = 'notification_read';\nexport const NOTIFICATION_READ_ALL_SUCCESS = 'notification_read_all_success';\nexport const NOTIFICATION_READ_ALL_ERROR = 'notification_read_all_error';\n\nexport const SEARCHRESULT_GET = 'search_result_get';\nexport const SEARCH_ERROR = 'search_error';\n\nexport const COTERIE_GET_MY = 'coterie_get_my';\nexport const COTERIE_CREATE = 'coterie_create';\nexport const COTERIE_UPDATE = 'coterie_update';\nexport const COTERIE_UPDATE_SUCCESS = 'coterie_update_success';\nexport const COTERIE_INVITE = 'coterie_invite';\nexport const COTERIE_MEMBER_REMOVE = 'coterie_member_delete';\nexport const COTERIE_DOCUMENT_UPLOAD = 'coterie_document_upload';\nexport const COTERIE_LEAVE = 'coterie_leave';\nexport const COTERIE_DELETE = 'coterie_delete';\nexport const COTERIE_JOIN_WITH_CODE = 'coterie_join_with_code';\nexport const COTERIE_APPLY = 'coterie_apply';\nexport const COTERIE_APPLICATIONS_GET = 'coterie_applications_get';\nexport const COTERIE_APPLICATION_ACCEPT = 'coterie_applications_accept';\nexport const COTERIE_APPLICATION_DECLINE = 'coterie_applications_decline';\n\nexport const INVITATION_GET = 'invitation_get';\nexport const INVITATION_ACCEPT = 'invitation_accept';\nexport const INVITATION_DECLINE = 'invitation_decline';\n","import axios from 'axios';\nimport {\n  USER_GET,\n  USER_SIGN_OFF,\n  DOCUMENT_GET_MY,\n  READLIST_GET_MY,\n  DOCUMENT_GET_EXPLORE,\n  READLIST_GET_EXPLORE,\n  NOTIFICATION_GET_COMBINED,\n  NOTIFICATION_READ,\n  NOTIFICATION_READ_ALL_SUCCESS,\n  NOTIFICATION_READ_ALL_ERROR,\n  COTERIE_GET_MY,\n  COTERIE_GET_MY_DOCUMENTS,\n  COTERIE_CREATE,\n  COTERIE_UPDATE,\n  COTERIE_UPDATE_SUCCESS,\n  COTERIE_INVITE,\n  COTERIE_MEMBER_REMOVE,\n  COTERIE_DOCUMENT_UPLOAD,\n  COTERIE_LEAVE,\n  COTERIE_DELETE,\n  COTERIE_JOIN_WITH_CODE,\n  COTERIE_APPLY,\n  COTERIE_APPLICATIONS_GET,\n  COTERIE_APPLICATION_ACCEPT,\n  COTERIE_APPLICATION_DECLINE,\n  SEARCHTERM_UPDATE,\n  SEARCHRESULT_GET,\n  SEARCH_ERROR,\n  READLIST_GET,\n  READLIST_CREATE,\n  READLIST_EDIT,\n  READLIST_DELETE_SUCCESS,\n  READLIST_COLLECT_SUCCESS,\n  READLIST_UNCOLLECT_SUCCESS,\n  READLIST_REMOVE_DOCUMENT_SUCCESS,\n  DOCUMENT_UPLOAD,\n  DOCUMENT_RENAME,\n  DOCUMENT_DELETE_SUCCESS,\n  DOCUMENT_UNCOLLECT_SUCCESS,\n  INVITATION_GET,\n  INVITATION_ACCEPT,\n  INVITATION_DECLINE\n} from './types';\n\n\nconst FILE_UPLOAD_API_URL = '/file_viewer/api/documents/upload';\nconst COTERIE_DOCUMENT_UPLOAD_API_URL = '/coterie/api/coteriedocuments/upload';\nconst INVITE_TO_COTERIE_API_URL = '/coterie/api/invite';\nconst GET_INVITATION_API_URL = '/coterie/api/invitations';\n\nexport function getUser() {\n  const url = '/api/user';\n  const request = axios.get(url);\n\n  return {type: USER_GET, payload: request};\n}\n\nexport function signOff(data) {\n  const url = '/api/signoff';\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  });\n\n  return {type: USER_SIGN_OFF, payload: request};\n}\n\nexport function getMyDocuments() {\n  const url = '/file_viewer/api/documents';\n  const request = axios.get(url);\n\n  return {type: DOCUMENT_GET_MY, payload: request};\n}\n\nexport function uploadDocument(data) {\n  const request = axios({\n    method: 'post',\n    headers: {'Content-Type': 'multipart/form-data'},\n    url: FILE_UPLOAD_API_URL,\n    data\n  });\n\n  return {type: DOCUMENT_UPLOAD, payload: request};\n}\n\nexport function uploadCoterieDocument(data) {\n  const request = axios({\n    method: 'post',\n    headers: {'Content-Type': 'multipart/form-data'},\n    url: COTERIE_DOCUMENT_UPLOAD_API_URL,\n    data\n  });\n\n  return {type: COTERIE_DOCUMENT_UPLOAD, payload: request};\n}\n\nexport function renameDocument(url, data) {\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  });\n\n  return {type: DOCUMENT_RENAME, payload: request};\n}\n\nexport function deleteDocument(url, data, slug) {\n  return function(dispatch) {\n    return axios({\n      method: 'post',\n      url,\n      data\n    })\n    .then(() => {\n      dispatch(deleteDocumentSuccess(slug));\n      return;\n    }).catch(error => {\n      throw(error);\n    })\n  }\n}\n\nexport function deleteDocumentSuccess(slug) {\n  return {type: DOCUMENT_DELETE_SUCCESS, payload: slug}\n}\n\nexport function uncollectDocument(url, data, slug) {\n  return function(dispatch) {\n    return axios({\n      method: 'post',\n      url,\n      data\n    })\n    .then(() => {\n      dispatch(uncollectDocumentSuccess(slug));\n      return;\n    }).catch(error => {\n      throw(error);\n    })\n  }\n}\n\nexport function uncollectDocumentSuccess(slug) {\n  return {type: DOCUMENT_UNCOLLECT_SUCCESS, payload: slug}\n}\n\n\nexport function getMyReadlists() {\n  const url = '/file_viewer/api/readlists';\n  const request = axios.get(url);\n\n  return {type: READLIST_GET_MY, payload: request};\n}\n\nexport function getReadlist(slug) {\n  const url = '/file_viewer/api/readlists/' + slug;\n  const request = axios.get(url);\n\n  return {type: READLIST_GET, payload: request};\n}\n\nexport function deleteReadlist(url, data, slug) {\n  return function(dispatch) {\n    return axios({\n      method: 'post',\n      url,\n      data\n    })\n    .then(() => {\n      dispatch(deleteDocumentSuccess(slug));\n      return;\n    }).catch(error => {\n      throw(error);\n    })\n  }\n}\n\nexport function deleteReadlistSuccess(slug) {\n  return {type: READLIST_DELETE_SUCCESS, payload: slug}\n}\n\n\nexport function getExploreDocuments() {\n  const url = '/file_viewer/api/documents/explore';\n  const request = axios.get(url);\n\n  return {type: DOCUMENT_GET_EXPLORE, payload: request};\n}\n\nexport function getExploreReadlists() {\n  const url = '/file_viewer/api/readlists/explore';\n  const request = axios.get(url);\n\n  return {type: READLIST_GET_EXPLORE, payload: request};\n}\n\nexport function getCombinedNotifications() {\n  const url = '/notifications/api/combined';\n  const request = axios.get(url);\n\n  return {type: NOTIFICATION_GET_COMBINED, payload: request};\n}\n\nexport function markNotificationAsRead(url, slug) {\n  const request = axios.get(url);\n\n  return {\n    type: NOTIFICATION_READ,\n    payload: request,\n    slug\n  }\n}\n\nexport function markAllNotificationsAsRead(data, unreadNotificationSlug) {\n  const url = '/notifications/api/mark-all-as-read';\n  return function(dispatch) {\n    axios({\n      method: 'post',\n      url,\n      data\n    })\n    .then((response) => {\n      dispatch({type: NOTIFICATION_READ_ALL_SUCCESS, payload: {unreadNotificationSlug}})\n    })\n    .catch((error) => {\n      dispatch({type: NOTIFICATION_READ_ALL_ERROR})\n    })\n  }\n}\n\nexport function getMyCoteries() {\n  const url = '/coterie/api/coteries';\n  const request = axios.get(url);\n\n  return {type: COTERIE_GET_MY, payload: request};\n}\n\nexport function getMyCoteriesDocument(uuid) {\n  const url = `/coteries/api/coteries/${uuid}/members/me/uploaded-documents`;\n  const request = axios.get(url);\n\n  return {type: COTERIE_GET_MY_DOCUMENTS, payload: request};\n}\n\nexport function getMyCoteriesReadlists(uuid) {\n  // const url = `/coteries/api/coteries/${uuid}/members/me/uploaded-documents`;\n  // const request = axios.get(url);\n\n  // return {type: COTERIE_GET_MY_DOCUMENTS, payload: request};\n}\n\nexport function createReadlist(data) {\n  const url = '/file_viewer/api/readlists/create';\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  });\n  return {type: READLIST_CREATE, payload: request};\n}\n\nexport function editReadlist(url, data) {\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  });\n\n  return {type: READLIST_EDIT, payload: request};\n}\n\nexport function collectReadlist(data, slug) {\n  const url = \"/file_viewer/api/readlists/\" + slug + \"/collect\";\n  return function(dispatch) {\n    return axios({\n      method: 'post',\n      url,\n      data\n    })\n    .then(() => {\n      dispatch(collectReadlistSuccess(slug));\n      return;\n    }).catch(error => {\n      throw(error);\n    })\n  }\n}\n\nexport function collectReadlistSuccess(slug) {\n  return {type: READLIST_COLLECT_SUCCESS, payload: slug}\n}\n\nexport function uncollectReadlist(data, slug) {\n  const url = \"/file_viewer/api/readlists/\" + slug + \"/uncollect\";\n  return function(dispatch) {\n    return axios({\n      method: 'post',\n      url,\n      data\n    })\n    .then(() => {\n      dispatch(uncollectReadlistSuccess(slug));\n      return;\n    }).catch(error => {\n      throw(error);\n    })\n  }\n}\n\nexport function uncollectReadlistSuccess(slug) {\n  return {type: READLIST_UNCOLLECT_SUCCESS, payload: slug}\n}\n\n\nexport function documentChangeReadlists(pk, data) {\n  const url = '/file_viewer/api/documents/' + pk + '/changereadlists'\n  console.log(\"making req to \" + url + \" with data\")\n  console.log(data)\n  return function(dispatch) {\n    return axios({\n      method: 'post',\n      url,\n      data\n    })\n    .then(() => {\n      dispatch(removeFromReadlistSuccess());\n      return;\n    }).catch(error => {\n      throw(error);\n    })\n  }\n}\n\nexport function removeFromReadlistSuccess() {\n  return {type: READLIST_REMOVE_DOCUMENT_SUCCESS, payload: {}}\n}\n\nexport function createCoterie(data) {\n  const url = '/coterie/api/coteries/create';\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  });\n\n  return {type: COTERIE_CREATE, payload: request};\n}\n\nexport function updateCoterie(data, pk) {\n  const url = `/coterie/api/coteries/${pk}/update`\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  });\n\n  return {type: COTERIE_UPDATE, payload: request};\n}\n\nexport function updateCoterieSuccess(uuid, name, description) {\n  return {\n    type: COTERIE_UPDATE_SUCCESS,\n    payload: {\n      uuid,\n      name,\n      description\n    }\n  }\n}\n\nexport function leaveCoterie(data, pk, uuid) {\n  const url = `/coterie/api/coteries/${pk}/exit`\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  });\n\n  return {type: COTERIE_LEAVE, payload: request, uuid};\n}\n\nexport function deleteCoterie(data, pk, uuid) {\n  const url = `/coterie/api/coteries/${pk}/delete`\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  });\n\n  return {type: COTERIE_DELETE, payload: request, uuid};\n}\n\nexport function getSearchResults(term) {\n  const url = '/api/search?key=' + term;\n  return function(dispatch) {\n    axios.get(url)\n    .then((response) => {\n      dispatch({type: SEARCHRESULT_GET, payload: response})\n    })\n    .catch((error) => {\n      dispatch({type: SEARCH_ERROR})\n    })\n  }\n}\n\nexport function getCoterieSearchResults(term, coterieUuid) {\n  const url = '/coterie/api/coteries/' + coterieUuid + '/search?key=' + term;\n  return function(dispatch) {\n    axios.get(url)\n    .then((response) => {\n      dispatch({type: SEARCHRESULT_GET, payload: response})\n    })\n    .catch((error) => {\n      dispatch({type: SEARCH_ERROR})\n    })\n  }\n}\n\nexport function inviteToCoterie(data) {\n  const request = axios({\n    method: 'post',\n    url: INVITE_TO_COTERIE_API_URL,\n    data\n  });\n\n  return {type: COTERIE_INVITE, payload: request};\n}\n\nexport function removeMember(url, data, uuid, email) {\n  return function(dispatch) {\n    return axios({\n      method: 'post',\n      url,\n      data\n    })\n    .then((response) => {\n      dispatch({type: COTERIE_MEMBER_REMOVE, payload: {uuid, email}})\n    }).catch(error => {\n      throw(error);\n    })\n  }\n}\n\nexport function getInvitations() {\n  const request = axios.get(GET_INVITATION_API_URL);\n\n  return {type: INVITATION_GET, payload: request};\n}\n\nexport function acceptInvitation(url, data, pk) {\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  })\n\n  return { type: INVITATION_ACCEPT, payload: request, pk }\n}\n\nexport function declineInvitation(url, data, pk) {\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  })\n\n  return { type: INVITATION_DECLINE, payload: request, pk }\n}\n\nexport function joinCoterieWithCode(data, pk) {\n  const url = `/coterie/api/coteries/${pk}/join_with_code`;\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  })\n\n  return { type: COTERIE_JOIN_WITH_CODE, payload: request }\n}\n\nexport function applyCoterie(data) {\n  const url = '/coterie/api/apply';\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  })\n\n  return { type: COTERIE_APPLY, payload: request }\n}\n\nexport function getCoterieApplication(pk) {\n  const url = `/coterie/api/applications?for=${pk}`;\n  const request = axios.get(url);\n\n  return { type: COTERIE_APPLICATIONS_GET, payload: request }\n}\n\nexport function acceptApplication(url, data, application) {\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  })\n\n  return { type: COTERIE_APPLICATION_ACCEPT, payload: request, application }\n}\n\nexport function declineApplication(url, data) {\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  })\n\n  return { type: COTERIE_APPLICATION_DECLINE, payload: request }\n}\n","import './bottom_tab_bar.css';\n\nimport { Badge, TabBar } from 'antd-mobile';\n\nimport ExploreIcon from '@material-ui/icons/Explore';\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport React from 'react';\nimport ReadlistIcon from '@material-ui/icons/ViewList';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport UploadIcon from '@material-ui/icons/CloudUpload';\nimport _ from 'lodash';\nimport { connect } from 'react-redux';\n\nclass BottomTabBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedTab: this.props.path.split('/').pop(),\n      hidden: false\n    };\n  }\n\n  getGroupPath() {\n    const path = this.props.path\n    const slices = path.split('/').slice(1)\n    if (slices.length >= 1 && slices[0] === 'groups')\n      return path.split('/').slice(0, -1).join('/')\n    return ''\n  }\n\n  renderNotificationTabWithBadge() {\n    const unread = _.filter(this.props.notifications, 'unread');\n    if (_.isEmpty(unread) && _.isEmpty(this.props.invitations)) {\n      return (\n        <NotificationsIcon />\n      )\n    } else {\n      return (\n        <Badge dot><NotificationsIcon /></Badge>\n      )\n    }\n  }\n\n  getVisibleHeightString() {\n    // This function is especially for adapting the iPhoneX view\n    if (window.navigator.standalone === true) return 'calc(100% - 50px - env(safe-area-inset-bottom))';\n    else return 'calc(100% - 50px)';\n  }\n\n  render() {\n    return (\n      <div style={{\n        position: 'fixed',\n        height: this.getVisibleHeightString(),\n        width: 'calc(100% - env(safe-area-inset-left) - env(safe-area-inset-right)',\n        top: 50,\n        paddingLeft: 'env(safe-area-inset-left)',\n        paddingRight: 'env(safe-area-inset-right)',\n      }}>\n        <TabBar\n          unselectedTintColor=\"#949494\"\n          tintColor=\"#1BA39C\"\n          barTintColor=\"white\"\n          hidden={this.state.hidden}\n        >\n          <TabBar.Item\n            icon={<ExploreIcon />}\n            selectedIcon={<ExploreIcon />}\n            title={this.state.selectedTab === 'explore' ? 'explore' : ''}\n            key=\"explore\"\n            selected={this.state.selectedTab === 'explore'}\n            onPress={() => {\n              this.setState({\n                selectedTab: 'explore',\n              });\n              this.props.history.push(`${this.getGroupPath()}/explore`);\n            }}\n          >\n            {this.state.selectedTab === 'explore' && this.props.content}\n          </TabBar.Item>\n          <TabBar.Item\n            icon={<UploadIcon />}\n            selectedIcon={<UploadIcon />}\n            title={this.state.selectedTab === 'uploads' ? 'uploads' : ''}\n            key=\"Uploads\"\n            selected={this.state.selectedTab === 'uploads'}\n            onPress={() => {\n              this.setState({\n                selectedTab: 'uploads',\n              });\n              this.props.history.push(`${this.getGroupPath()}/uploads`);\n            }}\n          >\n            {this.state.selectedTab === 'uploads' && this.props.content}\n          </TabBar.Item>\n          <TabBar.Item\n            icon={<ReadlistIcon />}\n            selectedIcon={<ReadlistIcon />}\n            title={this.state.selectedTab === 'readlists' ? 'readlists' : ''}\n            key=\"Readlists\"\n            selected={this.state.selectedTab === 'readlists'}\n            onPress={() => {\n              this.setState({\n                selectedTab: 'readlists',\n              });\n              this.props.history.push(`${this.getGroupPath()}/readlists`);\n            }}\n          >\n            {this.state.selectedTab === 'readlists' && this.props.content}\n          </TabBar.Item>\n          <TabBar.Item\n            icon={this.renderNotificationTabWithBadge()}\n            selectedIcon={<NotificationsActiveIcon />}\n            title={this.state.selectedTab === 'notifications' ? 'notifications' : ''}\n            key=\"Notifications\"\n            selected={this.state.selectedTab === 'notifications'}\n            onPress={() => {\n              this.setState({\n                selectedTab: 'notifications',\n              });\n              this.props.history.push(`${this.getGroupPath()}/notifications`);\n            }}\n          >\n            {this.state.selectedTab === 'notifications' && this.props.content}\n          </TabBar.Item>\n          <TabBar.Item\n            icon={<SettingsIcon />}\n            selectedIcon={<SettingsIcon />}\n            title={this.state.selectedTab === 'settings' ? 'settings' : ''}\n            key=\"Settings\"\n            selected={this.state.selectedTab === 'settings'}\n            onPress={() => {\n              this.setState({\n                selectedTab: 'settings',\n              });\n              this.props.history.push(`${this.getGroupPath()}/settings`);\n            }}\n          >\n            {this.state.selectedTab === 'settings' && this.props.content}\n          </TabBar.Item>\n        </TabBar>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    notifications: state.notifications,\n    invitations: state.invitations\n  };\n}\n\nexport default connect(mapStateToProps)(BottomTabBar);\n","import { Toast } from 'antd-mobile';\n\nexport function getCookie(name) {\n  var cookieValue = null\n  if (document.cookie && document.cookie !== '') {\n    var cookies = document.cookie.split(';')\n    for (var i = 0; i < cookies.length; i++) {\n      var cookie = cookies[i].trim()\n      // Does this cookie string begin with the name we want?\n      if (cookie.substring(0, name.length + 1) === (name + '=')) {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1))\n        break\n      }\n    }\n  }\n  return cookieValue\n}\n\nexport function copyToClipboard(content) {\n  const temp = document.createElement('span')\n  temp.style.hidden = true\n  temp.innerHTML = content\n  document.body.appendChild(temp)\n  const range = document.createRange()\n  range.selectNodeContents(temp)\n  const select = window.getSelection()\n  select.removeAllRanges()\n  select.addRange(range)\n  document.execCommand('copy')\n  document.body.removeChild(temp)\n}\n\nconst MAX_DOCUMENT_UPLOAD_SIZE = 5 * 1024 * 1024;\n\nexport function validateDocumentSize(file) {\n  if (file.size > MAX_DOCUMENT_UPLOAD_SIZE) {\n    Toast.info('Document size should be less than 5 MB', 1);\n    return false\n  }\n  return true\n}\n\nexport function getValFromUrlParam(key) {\n  return new URL(window.location.href).searchParams.get(key)\n}\n\nexport function uuidWithHyphen(uuid) {\n  return uuid.slice(0, 8) + \"-\"\n          + uuid.slice(8, 12) + \"-\"\n          + uuid.slice(12, 16) + \"-\"\n          + uuid.slice(16, 20) + \"-\"\n          + uuid.slice(20, 32);\n}\n\nexport function getRandomColor(uuid){\n  const colors = ['#f472d0', '#1abc9c', '#2ecc71', '#3498db', '#9b59b6', '#34495e', '#f1c40f', '#e67e22', '#e74c3c'];\n  return colors[uuid.charCodeAt(0)%9];\n}\n","import * as actions from '../actions';\n\nimport { Button, List, Modal, NavBar, Icon } from 'antd-mobile';\nimport React, { Component } from 'react';\nimport {\n  faUserFriends,\n  faUserPlus,\n  faUsers,\n} from '@fortawesome/free-solid-svg-icons'\nimport { withStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport PeopleOutlineIcon from '@material-ui/icons/PeopleOutline';\nimport SupervisedUserCircleIcon from '@material-ui/icons/SupervisedUserCircle';\nimport Badge from '@material-ui/core/Badge';\nimport { getRandomColor } from '../utilities/helper';\nimport _ from 'lodash';\nimport { connect } from 'react-redux';\nimport { library } from '@fortawesome/fontawesome-svg-core'\nlibrary.add(faUsers, faUserPlus, faUserFriends)\n\n\nclass Navbar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      coterieModal: false\n    };\n  }\n\n  showModal(key, e) {\n    e.preventDefault();\n    this.setState({\n      [key]: true,\n    });\n  }\n\n  onClose(key) {\n    this.setState({\n      [key]: false,\n    });\n  }\n\n  onToggle(key) {\n    this.setState({\n      [key]: !this.state[key]\n    });\n  }\n\n  getNavbarTitle(tab) {\n    let currentCoterie = this.props.coteries[this.props.match.params.groupUuid];\n    let currentTab = this.props.path ? this.props.path.split('/').pop() : '';\n\n    if (currentCoterie && currentTab === 'explore') {\n      return currentCoterie.name;\n    } else if (currentTab) {\n      return currentTab.charAt(0).toUpperCase() + currentTab.slice(1);\n    } else {\n      return currentTab\n    }\n  }\n\n  goToGroup(uuid) {\n    let currentTab = this.props.history.location.pathname.split('/').pop();\n    this.props.history.push(`/groups/${uuid}/${currentTab}`);\n  }\n\n  renderCoterieItem(coteriePk) {\n    let coterie = this.props.coteries[coteriePk];\n    return (\n      <List.Item\n        key={coterie.pk}\n        extra={coterie.members.length + \" members\"}\n        align=\"top\"\n        style={{backgroundColor: this.props.match.params.groupUuid === coterie.uuid ? '#edf9f6' : ''}}\n        onClick={() => {\n          this.goToGroup(coterie.uuid);\n          this.onClose('coterieModal');\n        }}\n      >\n        {coterie.name}\n        <List.Item.Brief>{coterie.description}</List.Item.Brief>\n      </List.Item>\n    );\n  }\n\n  render() {\n    const hasAdministratedCoteries = !_.isEmpty(this.props.user.administratedCoteries);\n    const hasJoinedCoteries = !_.isEmpty(this.props.user.joinedCoteries);\n    const currentCoterie = this.props.coteries[this.props.match.params.groupUuid];\n\n    return (\n        <NavBar\n          mode=\"light\"\n          style={{\n            boxShadow: '0px 1px 3px rgba(28, 28, 28, .1)',\n            zIndex: 10000000,\n            position: 'fixed',\n            width: '98%',\n            paddingRight: 8,\n            height: 50\n          }}\n          leftContent={\n            this.props.user.portrait_url &&\n            <Avatar\n              alt=\"avatar\"\n              style={{width: 28, height: 28}}\n              src={this.props.user.portrait_url}\n              onClick={(e) => {\n                this.props.history.push('/profile')\n              }}\n            />\n          }\n          rightContent={[\n            <Icon\n              key=\"0\"\n              type=\"search\"\n              style={{ marginRight: '16px' }}\n              onClick={(e) => {this.props.match.params.groupUuid ? this.props.history.push('/search/' + this.props.match.params.groupUuid) : this.props.history.push('/search')}}\n            />,\n            <div key = \"1\">\n            {\n              currentCoterie\n              ?\n              <Badge\n                color=\"primary\"\n                classes={{ badge: this.props.classes.badge }}\n                onClick={(e) => {\n                  if (!this.props.user || !this.props.user.is_authenticated) {\n                    return (\n                      Modal.alert('', 'You need to sign in to view and switch groups', [\n                        { text: 'Cancel', onPress: () => {} },\n                        { text: 'Go login', onPress: () => this.props.history.push('/sign-in') },\n                      ])\n                    )\n                  }\n                  this.props.getMyCoteries();\n                  this.onToggle('coterieModal');\n                }}\n                badgeContent={\n                  <Avatar className={this.props.classes.avatar}\n                    style={{backgroundColor: getRandomColor(this.props.match.params.groupUuid)}}>\n                    <span style={{fontSize: '80%'}}>\n                        {this.props.coteries[this.props.match.params.groupUuid] ? this.props.coteries[this.props.match.params.groupUuid]['name'].charAt(0) : ''}\n                    </span>\n                  </Avatar>}\n              >\n                <PeopleOutlineIcon\n                  style={{color: \"rgb(101, 119, 134)\", height: 25, width: 25}}\n                  onClick={(e) => {\n                    if (!this.props.user || !this.props.user.is_authenticated) {\n                      return (\n                        Modal.alert('', 'You need to sign in to view and switch groups', [\n                          { text: 'Cancel', onPress: () => {} },\n                          { text: 'Go login', onPress: () => this.props.history.push('/sign-in') },\n                        ])\n                      )\n                    }\n                    this.props.getMyCoteries();\n                    this.onToggle('coterieModal');\n                  }}\n                />\n              </Badge>\n              :\n              <PeopleOutlineIcon\n                style={{color: \"rgb(101, 119, 134)\", height: 25, width: 25}}\n                onClick={(e) => {\n                  if (!this.props.user || !this.props.user.is_authenticated) {\n                    return (\n                      Modal.alert('', 'You need to sign in to view and switch groups', [\n                        { text: 'Cancel', onPress: () => {} },\n                        { text: 'Go login', onPress: () => this.props.history.push('/sign-in') },\n                      ])\n                    )\n                  }\n                  this.props.getMyCoteries();\n                  this.onToggle('coterieModal');\n                }}\n              />\n            }\n\n            <Modal\n              popup\n              visible={this.state.coterieModal}\n              onClose={() => this.onClose('coterieModal')}\n              animationType=\"slide-up\"\n            >\n              <List\n                renderHeader={() =>\n                  <b style={{color: \"#1BA39C\"}}>SWITCH GROUP</b>\n                }\n                className=\"popup-list\"\n              >\n              <List\n                style={{overflow: 'auto', maxHeight: '60vh'}}>\n                <List.Item\n                  style={{backgroundColor: this.props.match.params.groupUuid ? '' : '#edf9f6'}}\n                  onClick={() => {\n                    let currentTab = this.props.history.location.pathname.split('/').pop();\n                    this.props.history.push(`/${currentTab}`);\n                    this.onClose('coterieModal');\n                  }}\n                >\n                  Public\n                </List.Item>\n                { !hasJoinedCoteries && !hasAdministratedCoteries &&\n                  <div>You have not joined any groups.</div>\n                }\n                { hasAdministratedCoteries &&\n                  <List\n                    renderHeader={() =>\n                      <b>Administrated</b>\n                    }\n                  >\n                    {this.props.user.administratedCoteries.map((coteriePk) => {\n                      return this.renderCoterieItem(coteriePk);\n                    })}\n                  </List>\n                }\n                { hasJoinedCoteries &&\n                  <List\n                    renderHeader={() =>\n                      <b>Joined</b>\n                    }\n                  >\n                    {this.props.user.joinedCoteries.map((coteriePk) => {\n                      return this.renderCoterieItem(coteriePk);\n                    })}\n                  </List>\n                }\n                </List>\n                <List.Item>\n                  <Button\n                    type=\"primary\"\n                    style={{backgroundColor: \"#1BA39C\"}}\n                    onClick={() => {\n                      this.onClose('coterieModal');\n                      this.props.history.push(\"/create-coterie-form\");\n                    }}\n                  >Create a new group</Button>\n                </List.Item>\n              </List>\n            </Modal>\n          </div>\n          ]\n          }\n        >\n          <span className='navbar-title'>{this.getNavbarTitle(this.props.path)}</span>\n        </NavBar>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    coteries: state.coteries\n  };\n}\n\nconst styles = theme => ({\n  badge: {\n    top: 6,\n    right: -16,\n    border: `1px solid white`,\n  },\n  avatar: {\n    width: '100%',\n    height: '100%',\n  },\n});\nexport default connect(mapStateToProps, actions)(withStyles(styles)(Navbar));\n","import './theme.css'\n\nimport * as actions from '../actions';\n\nimport { ActivityIndicator, List, Tabs, WhiteSpace } from 'antd-mobile';\nimport React, { Component } from 'react';\nimport { Sticky, StickyContainer } from 'react-sticky';\n\nimport Grid from '@material-ui/core/Grid';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport TimeAgo from 'react-timeago';\nimport _ from 'lodash';\nimport { connect } from 'react-redux';\n\nclass Explore extends Component {\n  state = { loading: true }\n\n  componentDidMount() {\n    const fetchData = async () => {\n      try {\n        await this.props.getExploreDocuments();\n        await this.props.getExploreReadlists();\n      } catch (error) {\n        console.error(error);\n        return;\n      }\n      this.setState({loading: false})\n    }\n    fetchData();\n  }\n\n  renderReactSticky(props) {\n    return (\n      <Sticky>\n        {({ style }) =>\n          <div style={{  ...style, zIndex: 1 }}>\n            <Tabs.DefaultTabBar {...props} />\n          </div>\n        }\n      </Sticky>\n    )\n  }\n\n  renderDocumentsSubgrid(documents, title) {\n    if (!documents.length) {\n      return (<div></div>)\n    }\n    const data = documents.map((element) => {\n      return (\n        <div key={element.open_url}>\n          <GridListTile className={'grid-tile'} key={element.open_url} onClick={() => {this.props.history.push(`${element.open_url}`)}}>\n              <Grid container alignItems=\"center\" style={{height: '100%'}}>\n                <img src={element.image} alt={element.title}/>\n              </Grid>\n              <GridListTileBar\n                style={{height: '25%'}}\n                title={<div style={{fontSize: '0.8rem', fontWeight: 'bold'}}>{element.title}</div>}\n                subtitle={<div style={{fontSize: '0.7rem'}}>{<TimeAgo date={element.upload_time} />}</div>}\n              />\n          </GridListTile>\n        </div>\n      )\n    });\n\n    return (\n      <div>\n        <WhiteSpace />\n        <div style={{color: '#888', fontSize: '14px'}}>{title}</div>\n        <WhiteSpace />\n\n        <GridList cellSpacing={0} cols={1} cellHeight={'auto'} style={{flexWrap: 'nowrap', margin: 0}}>\n          {data}\n        </GridList>\n\n      </div>\n    )\n  }\n\n  renderReadlistsSublist(readlists, title) {\n    if (!readlists.length) {\n      return (<div></div>)\n    }\n    const data = readlists.map(element => {\n      return (\n        <List.Item\n          key={element.slug}\n          extra={<TimeAgo date={element.create_time} />}\n          thumb=\"https://cdn0.iconfinder.com/data/icons/small-n-flat/24/678072-folder-document-512.png\"\n          multipleLine\n          onClick={() => {this.props.history.push(`${element.url}`)}}\n        >\n          {element.name}\n          <List.Item.Brief>{element.owner.nickname}</List.Item.Brief>\n        </List.Item>\n      )\n    })\n    return (\n      <div>\n        <List renderHeader={() => title}>\n          {data}\n        </List>\n      </div>\n    )\n  }\n\n  renderExploreDocuments() {\n    const documents = this.props.explore.documents;\n    return (\n      <div>\n        {this.renderDocumentsSubgrid(documents.mostViewsDocuments, \"Most Views\")}\n        {this.renderDocumentsSubgrid(documents.mostStarsDocuments, \"Most Stars\")}\n        {this.renderDocumentsSubgrid(documents.mostAnnotationsDocuments, \"Most Annotations\")}\n      </div>\n    )\n  }\n\n  renderExploreReadlists() {\n    const readlists = this.props.explore.readlists;\n    return (\n      <div>\n        {this.renderReadlistsSublist(readlists.mostCollectorsReadlists, \"Trending Lists\")}\n        {this.renderReadlistsSublist(readlists.newestReadlists, \"Recent Lists\")}\n      </div>\n    )\n  }\n\n  renderStickyTab() {\n    return (\n      <div>\n        <WhiteSpace />\n        <StickyContainer>\n          <Tabs\n            tabs={[{ title: \"Documents\"}, { title: \"Readlists\"}]}\n            initalPage={'t2'}\n            swipeable={false}\n            _renderTabBar={this.renderReactSticky}\n          >\n            <div style={{ justifyContent: 'center', height: '100%'}}>\n              {this.renderExploreDocuments()}\n            </div>\n            <div style={{ justifyContent: 'center', height: '100%'}}>\n              {this.renderExploreReadlists()}\n            </div>\n          </Tabs>\n        </StickyContainer>\n        <WhiteSpace />\n      </div>\n    )\n  }\n\n  render() {\n    if (this.state.loading)\n      return <ActivityIndicator toast animating={this.state.loading} />\n\n    return (\n      <div>\n        {this.renderStickyTab()}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    explore: state.explore\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Explore);\n","import React from 'react';\nimport Logo from '../../logo.svg';\nimport Button from '@material-ui/core/Button';\n\nclass NoPermission extends React.Component {\n\n  render() {\n    return (\n      <div>\n        <img src={Logo} alt='logo' style={{height: 108, marginTop:'20vh'}}/>\n        <h3 style={{color:'grey'}}>You are not a member of this group!</h3>\n        <h3 style={{color:'grey'}}>Accept invitation and try again</h3>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => {this.props.history.push('/explore')}}\n        >\n          Back to public\n        </Button>\n      </div>\n    )\n  }\n}\n\nexport default NoPermission;\n","import React from 'react';\nimport Logo from '../../logo.svg';\nimport Button from '@material-ui/core/Button';\n\nclass NotSignedIn extends React.Component {\n\n  render() {\n    return (\n      <div>\n        <img src={Logo} alt='logo' style={{height: 108, marginTop:'20vh'}}/>\n        <h3 style={{color:'grey'}}>You are not signed in!</h3>\n        <h3 style={{color:'grey'}}>Sign in for more functionalities</h3>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => {this.props.history.push('/sign-in')}}\n        >\n          Sign in\n        </Button>\n      </div>\n    )\n  }\n}\n\nexport default NotSignedIn;\n","import './theme.css'\n\nimport * as actions from '../actions';\n\nimport { ActivityIndicator, List, Tabs, WhiteSpace } from 'antd-mobile';\nimport React, { Component } from 'react';\nimport { Sticky, StickyContainer } from 'react-sticky';\n\nimport Grid from '@material-ui/core/Grid';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport NoPermission from './error_page/no_permission';\nimport NotSignedIn from './error_page/not_signed_in';\nimport TimeAgo from 'react-timeago';\nimport _ from 'lodash';\nimport { connect } from 'react-redux';\nimport pdfIcon from '../utilities/pdf.png';\n\nclass GroupExplore extends Component {\n  state = { loading: true }\n\n  componentDidMount() {\n    this.props.getMyCoteries().then(() => {\n      this.setState({ loading: false });\n    });\n  }\n\n  renderReactSticky(props) {\n    return (\n      <Sticky>\n        {({ style }) =>\n          <div style={{  ...style, zIndex: 1 }}>\n            <Tabs.DefaultTabBar {...props} />\n          </div>\n        }\n      </Sticky>\n    )\n  }\n\n  renderCoterieDocuments() {\n    const coterieDocs = this.props.coteries[this.props.match.params.groupUuid].coteriedocument_set;\n    const data = coterieDocs.map(element => {\n      return (\n        <List.Item\n          key={element.slug}\n          extra={<TimeAgo date={element.upload_time} />}\n          thumb={<img src={pdfIcon} alt='pdf-icon' style={{height: 28, width: 24}} />}\n          multipleLine\n          onClick={() => {\n            const groupUuid = this.props.match.params.groupUuid\n            const coterie = this.props.coteries[groupUuid]\n            const coterieId = coterie.pk\n            this.props.history.push(`/coteries/${coterieId}/documents/${element.slug}`)\n          }}\n        >\n          {element.title}\n          <List.Item.Brief>{element.uploader_name}</List.Item.Brief>\n        </List.Item>\n      )\n    }).reverse()\n    return (\n      <List>\n        {data}\n      </List>\n    )\n  }\n\n  renderCoterieReadlists() {\n    // ======= TODO: Implement coterie readlists  ==========\n    return (\n      <List>\n        <List.Item>\n          <div style={{color: 'grey', textAlign:'center' }}>\n            Group-based readlists still in development.\n          </div>\n        </List.Item>\n      </List>\n    )\n    // ======================================================\n  }\n\n  renderStickyTab() {\n    return (\n      <div>\n        <WhiteSpace />\n        <StickyContainer>\n          <Tabs\n            tabs={[{ title: \"Documents\"}, { title: \"Readlists\"}]}\n            initalPage={'t2'}\n            swipeable={true}\n            _renderTabBar={this.renderReactSticky}\n          >\n            <div style={{ justifyContent: 'center', height: '100%'}}>\n              {this.renderCoterieDocuments()}\n            </div>\n            <div style={{ justifyContent: 'center', height: '100%'}}>\n              {this.renderCoterieReadlists()}\n            </div>\n          </Tabs>\n        </StickyContainer>\n        <WhiteSpace />\n      </div>\n    )\n  }\n\n  render() {\n    if (this.state.loading)\n      return <ActivityIndicator toast animating={this.state.loading} />\n\n    if (!this.props.user || !this.props.user.is_authenticated) {\n      return (\n        <NotSignedIn history={this.props.history}/>\n      )\n    }\n\n    const currentCoterie = this.props.coteries[this.props.match.params.groupUuid];\n\n    if (!currentCoterie) {\n      return (\n        <NoPermission />\n      )\n    }\n\n    return (\n      <div>\n        {this.renderStickyTab()}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    explore: state.explore,\n    coteries: state.coteries\n  };\n}\n\nexport default connect(mapStateToProps, actions)(GroupExplore);\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport * as actions from '../actions';\nimport { connect } from 'react-redux';\nimport { ActivityIndicator, Badge, List, WhiteSpace, Modal, Toast } from 'antd-mobile';\nimport NotSignedIn from './error_page/not_signed_in';\nimport moment from 'moment';\nimport Avatar from '@material-ui/core/Avatar';\nimport MButton from '@material-ui/core/Button';\nimport Chip from '@material-ui/core/Chip';\nimport PeopleOutlineIcon from '@material-ui/icons/PeopleOutline';\nimport MailIcon from '@material-ui/icons/Mail';\nimport DoneIcon from '@material-ui/icons/Done';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport MailReadIcon from '@material-ui/icons/DraftsOutlined';\nimport { getCookie, getRandomColor } from '../utilities/helper';\n\nclass Notifications extends Component {\n  state = { loading: true }\n\n  componentDidMount() {\n    this.props.getCombinedNotifications().then(() => {\n      this.props.getInvitations().then(() => {\n        this.setState({ loading: false })\n      })\n    })\n  }\n\n  getActionDescription(action) {\n    if (action === 'reply to annotation' || action === 'reply to annotation reply') {\n      return 'replied'\n    }\n    else if (action === 'post annotation') {\n      return 'posted'\n    }\n    return action;\n  }\n\n  getCoterieName(uuid) {\n    //Clean uuid for now\n    if (uuid) {\n      uuid = uuid.replace(/-/g, \"\");\n      let coterieName = this.props.coteries[uuid].name\n      console.log(uuid);\n      if (coterieName.length > 14) return coterieName.slice(0, 14) + \"...\";\n      return coterieName\n    }\n    return \"\";\n  }\n\n  formatNotificationTime(timestamp) {\n    if (moment(timestamp).isSame(moment(), 'day')) {\n      return moment(timestamp).format('H:mm');\n    }\n    else if (moment(timestamp).isSame(moment(), 'year')) {\n      return moment(timestamp).format('M-d')\n    }\n    else {\n      return moment(timestamp).format('YYYY-M-d')\n    }\n  }\n\n  handleMarkAllAsRead() {\n    const unreadNotification = _.filter(this.props.notifications, (item) => item.unread === true)\n    let unreadNotificationSlug = []\n    unreadNotification.map(notification => {\n      unreadNotificationSlug.push(notification.slug)\n    })\n    let data = new FormData();\n    data.append('notif_slugs_to_mark_as_read',  unreadNotificationSlug.join());\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n\n    this.props.markAllNotificationsAsRead(data, unreadNotificationSlug);\n  }\n\n  renderInvitationList(invitations) {\n    const items = invitations.map((invitation) => {\n      return (\n        <List.Item\n          key={invitation.pk}\n          thumb={<Avatar style={{height:50, width:50, backgroundColor:'#1BA39C'}}><MailIcon style={{height:40}}/></Avatar>}\n          extra={\n            <div style={{  display: 'flex', justifyContent: 'center', flexDirection: 'column', float:'right'}}>\n              <DoneIcon style={{marginBottom: 20, color: '1BA39C'}}\n                onClick={() => {\n                  Modal.alert('Accept', 'Accept invitation to join ' + invitation.coterie_name + '?', [\n                    { text: 'Cancel' },\n                    { text: 'Join', style: {color: '#1BA39C'},\n                      onPress: () => {\n                        let data = new FormData();\n                        data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n                        this.props.acceptInvitation(invitation.accept_url, data, invitation.pk);\n                    }},\n                  ])\n                }}\n              />\n              <ClearIcon style={{color: 'red'}}\n                onClick={() => {\n                  Modal.alert('Decline', 'Decline invitation to join ' + invitation.coterie_name + '?', [\n                    { text: 'Cancel' },\n                    { text: 'Decline', style: {color: '#FF0000'},\n                      onPress: () => {\n                        let data = new FormData();\n                        data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n                        this.props.declineInvitation(invitation.reject_url, data, invitation.pk);\n                    }},\n                  ])\n                }} />\n            </div>\n          }\n          align='middle'\n          multipleLine\n          wrap\n          style={{backgroundColor: '#edf9f6'}}\n          onClick={() => {}}\n        >\n          <b>{invitation.inviter_nickname + \" invited you to join \" + invitation.coterie_name}</b>\n          <List.Item.Brief>\n            { invitation.invitation_message }\n          </List.Item.Brief>\n        </List.Item>\n      )\n    })\n\n    return (\n      <div>\n        <List renderHeader={() => 'Pending invitaions'}\n          style={{textAlign: 'left'}}\n        >\n          {items}\n        </List>\n      </div>\n    )\n  }\n\n  renderNotificationsList(notifications) {\n    const items = notifications.map((notification) => {\n      let isAnnotationRelated = ['reply to annotation', 'post annotation', 'reply to annotation reply'].includes(notification.verb);\n      let isApplicationToJoinGroup = ['apply join group'].includes(notification.verb);\n      return (\n        <List.Item\n          key={notification.slug}\n          thumb={(isAnnotationRelated && notification.data) ?\n            <img src={notification.data.image_url} style={{height:50, width:50, borderRadius:'50%'}} /> :\n            <Avatar style={{height:50, width:50, backgroundColor:'#1BA39C'}}><MailIcon style={{height:40}}/></Avatar>}\n          extra={\n            <div style={{display: 'flex', justifyContent: 'center', flexDirection: 'column', float: 'right'}}>\n              <span style={{marginBottom: 10}}>{this.formatNotificationTime(notification.timestamp)}</span>\n              { notification.unread ?\n                <span style={{textAlign: 'right', zIndex: 1000}}\n                  onClick={(e) => {\n                    this.props.markNotificationAsRead(notification.mark_read_url, notification.slug)\n                    e.stopPropagation()}}>\n                  <MailIcon/>\n                </span> :\n                <span style={{textAlign: 'right', zIndex: 1}}><MailReadIcon/></span>\n              }\n            </div>\n          }\n          align=\"middle\"\n          multipleLine\n          wrap\n          style={{backgroundColor: notification.unread ? '#edf9f6' : ''}}\n          onClick={() => {\n            this.props.markNotificationAsRead(notification.mark_read_url, notification.slug)\n            if (isAnnotationRelated && notification.data) {\n              this.props.history.push(notification.data.redirect_url)\n            }\n            if (isApplicationToJoinGroup && notification.data) {\n              this.props.history.push(notification.data.redirect_url.split('/').slice(0, -1).concat('settings').join('/'));\n            }\n          }}\n        >\n          { notification.unread ?\n            <div>\n              <b>{notification.actor + \" \" + this.getActionDescription(notification.verb)}</b>\n              { notification.data.coterie_uuid &&\n                <b>{\" in \"}\n                  <span\n                    style={{color: getRandomColor(notification.data.coterie_uuid)}}>\n                    {this.getCoterieName(notification.data.coterie_uuid)}\n                  </span>\n                </b>\n              }\n            </div>\n            :\n            <div>\n              {notification.actor + \" \" + this.getActionDescription(notification.verb)}\n              { notification.data.coterie_uuid &&\n                <span>{\" in \"}\n                  <span\n                    style={{color: getRandomColor(notification.data.coterie_uuid)}}>\n                    {this.getCoterieName(notification.data.coterie_uuid)}\n                  </span>\n                </span>\n              }\n            </div>\n          }\n          <List.Item.Brief>\n            { notification.description }\n          </List.Item.Brief>\n        </List.Item>\n      )\n    })\n\n    return (\n      <div>\n          <List\n            renderHeader={() =>\n\n                <MailReadIcon\n                  onClick={() => {\n                    Modal.alert('Mark all notifications as read?', '', [\n                      { text: 'Cancel' },\n                      { text: 'OK', style:{color:'#1BA39C'},\n                        onPress: () => {\n                          this.handleMarkAllAsRead();\n                      }},\n                    ])\n                  }}\n                />\n            }\n            style={{textAlign: 'center'}}\n          >\n            {items}\n          </List>\n        <WhiteSpace />\n      </div>\n    )\n  }\n\n  render() {\n    if (this.state.loading)\n      return <ActivityIndicator toast animating={this.state.loading} />\n\n    if (!this.props.user || !this.props.user.is_authenticated) {\n      return (\n        <NotSignedIn history={this.props.history}/>\n      )\n    }\n\n    if (_.isEmpty(this.props.notifications) && _.isEmpty(this.props.invitations)) {\n      return (\n        <div>\n          <List>\n            <List.Item>\n              <List.Item.Brief>\n                You are up to date!\n              </List.Item.Brief>\n            </List.Item>\n          </List>\n        </div>\n      )\n    }\n\n    const notifications = _.orderBy(this.props.notifications, 'timestamp', 'desc');\n    const invitations = _.orderBy(this.props.invitations, 'pk', 'desc');\n\n    return (\n      <div>\n        { invitations.length !== 0 && this.renderInvitationList(invitations) }\n        { this.renderNotificationsList(notifications) }\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    notifications: state.notifications,\n    invitations: state.invitations,\n    coteries: state.coteries,\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Notifications);\n","import * as actions from '../actions';\n\nimport { ActivityIndicator, Icon, List, Modal, Tabs, Toast, WhiteSpace } from 'antd-mobile';\nimport React, { Component } from 'react';\nimport { Sticky, StickyContainer } from 'react-sticky';\nimport { copyToClipboard, getCookie } from '../utilities/helper';\n\nimport AddIcon from '@material-ui/icons/AddBoxOutlined';\nimport DeleteIcon from '@material-ui/icons/DeleteForever';\nimport NoPermission from './error_page/no_permission';\nimport NotSignedIn from './error_page/not_signed_in';\nimport ShareIcon from '@material-ui/icons/Share';\nimport _ from 'lodash';\nimport { connect } from 'react-redux';\nimport moment from 'moment';\n\nclass Readlists extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      createdReadlistActionModal: false,\n      collectedReadlistActionModal: false,\n      selectedReadlist: null,\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    let groupUuid = this.props.match.params.groupUuid;\n    if (groupUuid) {\n      // this.props.getMyCoteriesReadlists(groupUuid).then(() => {\n        this.setState({loading: false})\n      // })\n    } else {\n      this.props.getMyReadlists().then(() => {\n        this.setState({loading: false})\n      })\n    }\n  }\n\n  renderReactSticky(props) {\n    return (\n      <Sticky>\n        {({ style }) =>\n          <div style={{ ...style, zIndex: 1 }}>\n            <Tabs.DefaultTabBar {...props} />\n          </div>\n        }\n      </Sticky>\n    )\n  }\n\n  renderAddReadlist() {\n    // ================ TODO: TEMP CODE UNTIL GROUP-BASED READLISTS ========================\n    let groupUuid = this.props.match.params.groupUuid;\n    if (groupUuid) {\n      return (\n        <div></div>\n      )\n    }\n    // =====================================================================================\n    return (\n      <List.Item\n        thumb={<AddIcon style={{color:'grey'}} />}\n        onClick={() => {this.props.history.push(\"/create-readlist-form\")}}\n      >\n        <div style={{color:'grey'}}>New readlist</div>\n        <List.Item.Brief>Click to create...</List.Item.Brief>\n      </List.Item>\n    )\n  }\n\n  renderReadlist(list, isCreated) {\n    // ================ TODO: TEMP CODE UNTIL GROUP-BASED READLISTS ========================\n    let groupUuid = this.props.match.params.groupUuid;\n    if (groupUuid) {\n      return (\n        <List>\n          <List.Item>\n            <div style={{color: 'grey', textAlign:'center' }}>\n              Group-based readlists still in development.\n            </div>\n          </List.Item>\n        </List>\n      )\n    }\n    // =====================================================================================\n\n    if (!list.length) {\n      return (\n        <List>\n          <List.Item>\n            <div style={{color: 'grey', textAlign:'center' }}>\n              You haven't {isCreated ? 'created' : 'collected'} any readlists.\n            </div>\n          </List.Item>\n        </List>\n      )\n    }\n    const data = list.map(slug => {\n      let element = this.props.readlists[slug];\n      return (\n        <div key={slug}>\n          <List.Item\n            thumb=\"https://cdn0.iconfinder.com/data/icons/small-n-flat/24/678072-folder-document-512.png\"\n            multipleLine\n            arrow=\"horizontal\"\n            onClick={() => {this.props.history.push(`readlists/${slug}`)}}\n          >\n            {element.name}\n            <List.Item.Brief>{moment(element.create_time).format(\"MMMM Do YYYY, h:mm a\")}</List.Item.Brief>\n          </List.Item>\n        </div>\n      )\n    })\n    return (\n      <div>\n        <List>\n          {data}\n        </List>\n      </div>\n    )\n  }\n\n  renderCreatedReadlists() {\n    return (\n      <div>\n        {this.renderAddReadlist()}\n        {this.renderReadlist(_.orderBy(this.props.user.createdReadlists, (readlistSlug) => {return this.props.readlists[readlistSlug].create_time}, 'desc'), true)}\n      </div>\n    )\n  }\n\n  renderCollectedReadlists() {\n    return (\n      <div>\n        {this.renderReadlist(_.orderBy(this.props.user.collectedReadlists, (readlistSlug) => {return this.props.readlists[readlistSlug].create_time}, 'desc'), false)}\n      </div>\n    )\n  }\n\n  renderStickyTab() {\n    return (\n      <div>\n        <WhiteSpace />\n        <StickyContainer>\n          <Tabs\n            tabs={[{ title: \"Created\"}, { title: \"Collected\"}]}\n            initalPage={'t2'}\n            _renderTabBar={this.renderReactSticky}\n          >\n            <div style={{ justifyContent: 'center', height: '100%', backgroundColor: '#fff' }}>\n              {this.renderCreatedReadlists()}\n            </div>\n            <div style={{ justifyContent: 'center', height: '100%', backgroundColor: '#fff' }}>\n              {this.renderCollectedReadlists()}\n            </div>\n          </Tabs>\n        </StickyContainer>\n        <WhiteSpace />\n      </div>\n    )\n  }\n\n  render() {\n    if (this.state.loading)\n      return <ActivityIndicator toast animating={this.state.loading} />\n\n    if (!this.props.user || !this.props.user.is_authenticated) {\n      return (\n        <NotSignedIn history={this.props.history}/>\n      )\n    }\n\n    const currentCoterie = this.props.coteries[this.props.match.params.groupUuid];\n    if (this.props.match.params.groupUuid && !currentCoterie) {\n      return (\n        <NoPermission />\n      )\n    }\n\n    return (\n      <div>\n        {this.renderStickyTab()}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    readlists: state.readlists,\n    coteries: state.coteries,\n  };\n}\n\n\nexport default connect(mapStateToProps, actions)(Readlists);\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport * as actions from '../actions';\nimport { connect } from 'react-redux';\nimport validator from 'email-validator';\nimport NotSignedIn from './error_page/not_signed_in';\nimport NoPermission from './error_page/no_permission';\nimport { ActivityIndicator, List, WingBlank, WhiteSpace, Card, Modal, Toast } from 'antd-mobile';\nimport PeopleOutlineIcon from '@material-ui/icons/PeopleOutline';\nimport EditIcon from '@material-ui/icons/Edit';\nimport PeopleIcon from '@material-ui/icons/People';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport ApplicationIcon from '@material-ui/icons/HowToVote';\nimport ExitIcon from '@material-ui/icons/ExitToApp';\nimport KeyIcon from '@material-ui/icons/VpnKey';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport DoneIcon from '@material-ui/icons/Done';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport { getCookie } from '../utilities/helper';\n\n\nclass Settings extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFetching: true,\n      memberModal: false,\n      adminModal: false,\n      applicationModal: false,\n      inviteDialog: false,\n      editDialog: false,\n      applications: []\n    }\n  }\n\n  componentDidMount() {\n    this.props.getMyCoteries().then(() => {\n      this.setState({isFetching: false})\n    })\n\n    if (this.props.user.is_authenticated && this.props.match.params.groupUuid) {\n      this.fetchApplications();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.user.is_authenticated && this.props.match.params.groupUuid && this.props.match.params.groupUuid !== prevProps.match.params.groupUuid) {\n      this.fetchApplications();\n    }\n  }\n\n  fetchApplications() {\n    return this.props.getCoterieApplication(this.props.coteries[this.props.match.params.groupUuid].pk).then(response => {\n      this.setState({applications: response.payload.data})\n    })\n    .catch(error => {\n      this.setState({applications: []})\n      console.log(error);\n    })\n  }\n\n  removeApplicationCallback(applicationPk) {\n    let updatedApplications = this.state.applications.filter(function(application) {return application.pk !== applicationPk} )\n    this.setState({ applications: updatedApplications });\n  }\n\n  showModal(key, e) {\n    e.preventDefault();\n    this.setState({\n      [key]: true,\n    });\n  }\n\n  onClose(key) {\n    this.setState({\n      [key]: false,\n    });\n  }\n\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value,\n    });\n  };\n\n  handleFormSubmit() {\n    var [isValid, emailList] = this.preprocessEmailsString(this.state.emails)\n    if (!isValid) {\n      if (emailList)\n        Toast.fail(emailList + ' is not valid! Verify and try again', 2.8)\n      else\n        Toast.fail('Email input is not valid! Try emails separated by commas', 2.8)\n      return\n    }\n    var data = new FormData();\n    data.append('coterie_id', this.props.coteries[this.props.match.params.groupUuid].pk);\n    data.append('invitee_emails', emailList);\n    data.append('invitation_message', this.state.message ? this.state.message : 'No message');\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n    this.props.inviteToCoterie(data).then((response) => {\n      var successful_applications = response.payload.data['successful_invitations']\n      var unregistered_emails = response.payload.data['unregistered_emails']\n      if (successful_applications.length > 0)\n        Toast.success('Invitations successfully sent', 1)\n      if (unregistered_emails.length > 0)\n        Toast.fail('Following emails are not registered yet: ' + unregistered_emails.join(\"\\n\"), 5)\n    })\n  }\n\n  _emailsStringToArray(emailsString) {\n    var rows = emailsString.trim().split(/\\n| /)\n    var emailsArray = []\n    for (var row of rows){\n      emailsArray = emailsArray.concat(row.trim().split(',').filter(element => element !== ''))\n    }\n    return emailsArray\n  }\n\n  _handleCopyPasteEmailsFromEmailClient(emailsString) {\n    let resultArray = []\n    // use regex to extract everything between each \"< >\"\n    let matchesArray = emailsString.match(/<.+?>/g)\n    // validate each extracted term to ensure valid email\n    for (let index in matchesArray) {\n      let match = matchesArray[index]\n      let potentialEmailString = match.replace('<', '').replace('>', '')\n      if (validator.validate(potentialEmailString) && !(resultArray.includes(potentialEmailString))) {\n        resultArray.push(potentialEmailString)\n      }\n    }\n    return resultArray\n  }\n\n  preprocessEmailsString(emailsString) {\n    // handle copy paste from email client first\n    var copyPasteEmailArray = this._handleCopyPasteEmailsFromEmailClient(emailsString)\n    if (copyPasteEmailArray.length != 0) {\n      return [true, copyPasteEmailArray.join(',')]\n    }\n\n    // do normal flow\n    var emailArray = this._emailsStringToArray(emailsString)\n    var returnedEmailArray = []\n    for (var email of emailArray) {\n      email = email.trim()\n      if (!validator.validate(email))\n        return [false, [email]]\n      if (!returnedEmailArray.includes(email)) {\n        returnedEmailArray.push(email)\n      }\n    }\n    return [true, returnedEmailArray.join(',')]\n  }\n\n  handleGroupEdit(currentCoterie) {\n\n    let data = new FormData();\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n\n    if (this.state.new_name && (this.state.new_name !== currentCoterie.name)) {\n      data.append('new_name', this.state.new_name);\n    }\n    if (this.state.new_desc && (this.state.new_desc !== currentCoterie.description)) {\n      data.append('new_desc', this.state.new_desc);\n    }\n    this.props.updateCoterie(data, currentCoterie.pk).then((response) => {\n      this.props.updateCoterieSuccess(currentCoterie.uuid, this.state.new_name, this.state.new_desc)\n    })\n  }\n\n  renderMember(member, currentCoterie) {\n    let isAdmin = this.props.user.administratedCoteries.includes(currentCoterie.uuid);\n    return (\n      <List.Item\n        key={member.pk}\n        thumb={<img src={member.portrait_url} alt='ortrait' style={{borderRadius: '50%'}} />}\n        align='middle'\n        extra={\n          isAdmin &&\n            <ClearIcon style={{color: 'red'}}\n              onClick={() => {\n                Modal.alert('Remove member ' + member.nickname + '?', '', [\n                  { text: 'Cancel' },\n                  { text: 'Remove', style:{color:'#FF0000'},\n                    onPress: () => {\n                      let data = new FormData();\n                      data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n                      data.append('member_email_address', member.email_address);\n                      this.props.removeMember(currentCoterie.remove_member_url, data, currentCoterie.uuid, member.email_address);\n                  }},\n                ])\n              }}\n            />\n        }\n      >\n        {member.nickname}\n      </List.Item>\n    )\n  }\n\n  renderApplication(application) {\n    let applicant = application.applicant;\n    return (\n      <List.Item\n        key={application.pk}\n        thumb={<img src={applicant.portrait_url} alt='ortrait' style={{borderRadius: '50%'}} />}\n        align='middle'\n        extra={\n          <div style={{  display: 'flex', justifyContent: 'center', flexDirection: 'row', float:'right'}}>\n            <DoneIcon style={{marginRight: 20, color: '1BA39C'}}\n              onClick={() => {\n                let data = new FormData();\n                data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n                this.props.acceptApplication(application.accept_url, data, application);\n                this.removeApplicationCallback(application.pk);\n              }}\n            />\n            <ClearIcon style={{color: 'red'}}\n              onClick={() => {\n                let data = new FormData();\n                data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n                this.props.declineApplication(application.reject_url, data);\n                this.removeApplicationCallback(application.pk);\n              }} />\n          </div>\n        }\n      >\n        {applicant.nickname}\n        <List.Item.Brief>{application.application_message}</List.Item.Brief>\n      </List.Item>\n    )\n  }\n\n  renderAdmin(member) {\n    return (\n      <List.Item\n        key={member.pk}\n        thumb={<img src={member.portrait_url} alt='ortrait' style={{borderRadius: '50%'}} />}\n      >\n        {member.nickname}\n      </List.Item>\n    )\n  }\n\n  renderGroupInfo(currentCoterie) {\n    let isAdmin = this.props.user.administratedCoteries.includes(currentCoterie.uuid);\n    return (\n      <WingBlank size=\"lg\">\n        <WhiteSpace size=\"lg\" />\n        <Card>\n          <Card.Header\n            title={<span style={{marginLeft:20}}>{currentCoterie.name}</span>}\n            thumb={<PeopleOutlineIcon style={{color: 'rgb(101, 119, 134)'}} />}\n            extra={ isAdmin &&\n              <EditIcon onClick={(e) => {this.showModal('editDialog', e)}} />\n            }\n          />\n          <Card.Body>\n            <div>{currentCoterie.description}</div>\n          </Card.Body>\n        </Card>\n        <WhiteSpace size=\"lg\" />\n      </WingBlank>\n    )\n  }\n\n  renderMemberModal(currentCoterie) {\n    return (\n      <Modal\n        popup\n        visible={this.state.memberModal}\n        onClose={() => this.onClose('memberModal')}\n        animationType=\"slide-up\"\n        style={{overflow: 'auto', maxHeight: '80vh'}}\n      >\n        <List\n          renderHeader={() =>\n            <b style={{color: \"#1BA39C\"}}>Members</b>\n          }\n          className=\"popup-list\"\n        >\n          {currentCoterie.members.map((member) => {\n            return this.renderMember(member, currentCoterie);\n          })}\n        </List>\n      </Modal>\n    )\n  }\n\n  renderApplicationModal() {\n    return (\n      <Modal\n        popup\n        visible={this.state.applicationModal}\n        onClose={() => this.onClose('applicationModal')}\n        animationType=\"slide-up\"\n        style={{overflow: 'auto', maxHeight: '80vh'}}\n      >\n        <List\n          renderHeader={() =>\n            <b style={{color: \"#1BA39C\"}}>Applications</b>\n          }\n          className=\"popup-list\"\n        >\n          {this.state.applications.map((application) => {\n            return this.renderApplication(application);\n          })}\n        </List>\n      </Modal>\n    )\n  }\n\n  renderAdminModal(currentCoterie) {\n    return (\n      <Modal\n        popup\n        visible={this.state.adminModal}\n        onClose={() => this.onClose('adminModal')}\n        animationType=\"slide-up\"\n        style={{overflow: 'auto', maxHeight: '80vh'}}\n      >\n        <List\n          renderHeader={() =>\n            <b style={{color: \"#1BA39C\"}}>Administrators</b>\n          }\n          className=\"popup-list\"\n        >\n          {currentCoterie.administrators.map((admin) => {\n            return this.renderAdmin(admin);\n          })}\n        </List>\n      </Modal>\n    )\n  }\n\n  renderInviteDialog() {\n    const dialogMessage = \"To invite new members to the group, enter their email addresses here, separated by commas. (Alternatively, you can copy paste the emails directly from your email client - we will detect emails within < >). We will send invitation messages.\"\n    return (\n      <div>\n        <Dialog\n          open={this.state.inviteDialog}\n          onClose={() => this.onClose('inviteDialog')}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Invite new members</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              {dialogMessage}\n            </DialogContentText>\n            <TextField\n              required\n              autoFocus\n              multiline\n              margin=\"dense\"\n              id=\"emails\"\n              label=\"Email Address\"\n              type=\"email\"\n              fullWidth\n              onChange={this.handleChange('emails')}\n            />\n            <TextField\n              multiline\n              margin=\"dense\"\n              id=\"message\"\n              label=\"Message\"\n              fullWidth\n              onChange={this.handleChange('message')}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => this.onClose('inviteDialog')} color=\"primary\">\n              Cancel\n            </Button>\n            <Button disabled={_.isEmpty(this.state.emails)}\n              onClick={() => {this.onClose('inviteDialog'); this.handleFormSubmit();}} color=\"primary\">\n              Send\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    )\n  }\n\n  renderEditDialog(currentCoterie) {\n\n    return (\n      <div>\n        <Dialog\n          open={this.state.editDialog}\n          onClose={() => this.onClose('editDialog')}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Edit Group Info</DialogTitle>\n          <DialogContent>\n            <TextField\n              autoFocus\n              multiline\n              margin=\"dense\"\n              id=\"new_name\"\n              label=\"New name\"\n              defaultValue={currentCoterie.name}\n              fullWidth\n              onChange={this.handleChange('new_name')}\n            />\n            <TextField\n              multiline\n              margin=\"dense\"\n              id=\"new_desc\"\n              label=\"New description\"\n              defaultValue={currentCoterie.description}\n              fullWidth\n              onChange={this.handleChange('new_desc')}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => this.onClose('editDialog')} color=\"primary\">\n              Cancel\n            </Button>\n            <Button onClick={() => {this.onClose('editDialog'); this.handleGroupEdit(currentCoterie);}} color=\"primary\">\n              Send\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    )\n  }\n\n  render() {\n    if (this.state.isFetching)\n      return <ActivityIndicator toast animating={this.state.isFetching} />\n\n    if (!this.props.user || !this.props.user.is_authenticated)\n      return <NotSignedIn history={this.props.history}/>\n\n    const currentCoterie = this.props.coteries[this.props.match.params.groupUuid]\n\n    if (this.props.match.params.groupUuid && !currentCoterie)\n      return <NoPermission />\n\n    if (!this.props.match.params.groupUuid) {\n      return (\n        <h2 style={{color: 'grey'}}> You are in the public group. </h2>\n      )\n    }\n\n    let isAdmin = this.props.user.administratedCoteries.includes(currentCoterie.uuid);\n    return (\n      <div>\n        {this.renderGroupInfo(currentCoterie)}\n\n        <List>\n          <List.Item\n            thumb={<KeyIcon style={{color: 'orange'}} />}\n            extra={currentCoterie.administrators.length}\n            arrow=\"horizontal\"\n            onClick={(e) => {this.showModal('adminModal', e)}}\n          >\n            Administrators\n          </List.Item>\n          <List.Item\n            thumb={<PeopleIcon style={{color: '42A5F5'}} />}\n            extra={currentCoterie.members.length}\n            arrow=\"horizontal\"\n            onClick={(e) => {this.showModal('memberModal', e)}}\n          >\n            Members\n          </List.Item>\n          { isAdmin &&\n            <List.Item\n              thumb={<ApplicationIcon style={{color: '#1BA39C'}} />}\n              extra={this.state.applications.length}\n              arrow=\"horizontal\"\n              onClick={(e) => {this.showModal('applicationModal', e)}}\n            >\n              Applications\n            </List.Item>\n          }\n          { isAdmin &&\n            <List.Item\n              thumb={<PersonAddIcon style={{color: '#1BA39C'}} />}\n              onClick={(e) => {this.showModal('inviteDialog', e)}}\n            >\n              Add someone\n            </List.Item>\n          }\n        </List>\n\n        <WhiteSpace size=\"lg\" />\n        { !isAdmin &&\n          <List>\n            <List.Item\n              thumb={<ExitIcon style={{color: '#FF0000'}} />}\n              onClick={() => {\n                Modal.alert('Leave ' + currentCoterie.name + '?',\n                'Are you sure to exit this group? This cannot be undone',\n                [\n                  { text: 'Cancel' },\n                  { text: 'Leave', style:{color:'#FF0000'},\n                    onPress: () => {\n                      let data = new FormData();\n                      data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n                      this.props.leaveCoterie(data, currentCoterie.pk, currentCoterie.uuid);\n                      this.props.history.push('/explore');\n                  }},\n                ])\n              }}>\n              Leave group\n            </List.Item>\n          </List>\n        }\n        { isAdmin &&\n          <List>\n            <List.Item\n              thumb={<ExitIcon style={{color: '#FF0000'}} />}\n              onClick={() => {\n                Modal.alert('Delete ' + currentCoterie.name + '?',\n                'Are you sure? Deleting the group can affect all existing members. This cannot be undone',\n                [\n                  { text: 'Cancel' },\n                  { text: 'Leave', style:{color: '#FF0000'},\n                    onPress: () => {\n                      let data = new FormData();\n                      data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n                      this.props.deleteCoterie(data, currentCoterie.pk, currentCoterie.uuid);\n                      this.props.history.push('/explore');\n                  }},\n                ])\n              }}>\n              Delete group\n            </List.Item>\n          </List>\n        }\n\n        {this.renderAdminModal(currentCoterie)}\n        {this.renderMemberModal(currentCoterie)}\n        {this.renderApplicationModal()}\n        {this.renderInviteDialog()}\n        {this.renderEditDialog(currentCoterie)}\n\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    coteries: state.coteries\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Settings);\n","import _ from 'lodash';\nimport React from 'react';\nimport * as actions from '../../actions';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nclass ConfirmationDialog extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      value: props.value,\n    };\n  }\n\n  componentDidMount() {\n    // TODO: Change to group readlist to after it is implemented\n    this.props.getMyReadlists();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.value !== this.props.value) {\n      this.setState({ value: nextProps.value });\n    }\n  }\n\n  handleEntering = () => {\n    this.radioGroupRef.focus();\n  };\n\n  handleCancel = () => {\n    this.props.onClose(this.props.value);\n  };\n\n  handleClear = () => {\n    this.props.onClose(undefined);\n  };\n\n  handleOk = () => {\n    this.props.onClose(this.state.value);\n  };\n\n  handleChange = (event, value) => {\n    this.setState({ value });\n  };\n\n  render() {\n    const { value, onClose, open } = this.props;\n\n    return (\n      <Dialog\n        disableBackdropClick\n        disableEscapeKeyDown\n        maxWidth=\"xs\"\n        onEntering={this.handleEntering}\n        aria-labelledby=\"confirmation-dialog-title\"\n        onClose={onClose}\n        open={open}\n      >\n        <DialogTitle id=\"confirmation-dialog-title\">Select Readlist</DialogTitle>\n        <DialogContent>\n          <RadioGroup\n            ref={ref => {\n              this.radioGroupRef = ref;\n            }}\n            value={this.state.value}\n            onChange={this.handleChange}\n          >\n            {_.isEmpty(this.props.readlists) &&\n              <span>You don't have any readlist</span>\n            }\n            {_.values(this.props.readlists).map(readlist => (\n              <FormControlLabel value={readlist.slug} key={readlist.slug} control={<Radio color='primary' />} label={readlist.name} />\n            ))}\n          </RadioGroup>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.handleClear} color=\"primary\">\n            Clear\n          </Button>\n          <Button onClick={this.handleCancel} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={this.handleOk} color=\"primary\">\n            Ok\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    readlists: state.readlists\n  };\n}\n\nexport default connect(mapStateToProps, actions)(ConfirmationDialog);\n","import * as actions from '../../actions';\n\nimport { ActivityIndicator, Icon, List, Modal, Tabs, Toast, WhiteSpace } from 'antd-mobile';\nimport React, { Component } from 'react';\nimport { Sticky, StickyContainer } from 'react-sticky';\nimport { copyToClipboard, getCookie, validateDocumentSize } from '../../utilities/helper';\n\nimport AddIcon from '@material-ui/icons/AddBoxOutlined';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport ConfirmationDialog from './confirmation_dialog';\nimport CreateIcon from '@material-ui/icons/Create';\nimport DeleteIcon from '@material-ui/icons/DeleteForever';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Navbar from '../nav_bar';\nimport NoPermission from '../error_page/no_permission';\nimport NotSignedIn from '../error_page/not_signed_in';\nimport ShareIcon from '@material-ui/icons/Share';\nimport TextField from '@material-ui/core/TextField';\nimport _ from 'lodash';\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport pdfIcon from '../../utilities/pdf.png';\n\nclass Uploads extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uploadedActionModal: false,\n      collectedActionModal: false,\n      uploadDialog: false,\n      chooseReadlistRadio: false,\n      uploadedFile: null,\n      selectedDocument: null,\n      loading: true,\n    };\n\n    this.handleFileDialog = () => {\n      const file = this.finput.files[0];\n      this.setState({uploadDialog: true, uploadedFile: file});\n    }\n\n    this.handleConfirmationDialogClose = value => {\n      this.setState({ value, chooseReadlistRadio: false });\n    };\n\n    this.handleFileSubmit = () => {\n      const file = this.state.uploadedFile;\n      const filenameWithoutExtension = file.name.split('.').slice(0, -1).join('.');\n      const filename = this.state.name ? this.state.name : filenameWithoutExtension;\n      const readlist = this.state.value ? this.props.readlists[this.state.value].uuid : undefined;\n\n      if (file.type !== 'application/pdf') {\n        Toast.fail('File type is not PDF', 1.8)\n        return\n      }\n\n      const user = this.props.user;\n      if ((user === undefined || !user.is_superuser) && !validateDocumentSize(file))\n        return false\n\n      if (filename.includes('.')) {\n        Toast.fail('Special characters are not allowed in file name', 2.8)\n        return\n      }\n\n      var data = new FormData()\n      // TODO: REPLACE WITH USER INPUT NAME\n      data.append('title', filename)\n      data.append('file_upload', file)\n      data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n      this.setState({ uploading: true })\n      Toast.loading('Loading...')\n\n      if (!this.props.match.params.groupUuid) {\n        this.props.uploadDocument(data)\n        .then((response) => {\n          let pk = response.payload.data.pk;\n          if (readlist) {\n            let readlistData = new FormData();\n            readlistData.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n            readlistData.append('add_readlists[]', readlist);\n            this.props.documentChangeReadlists(pk, readlistData)\n            .catch((error) => {\n              Toast.fail('Add to readlist failed!', 2);\n            })\n          }\n        })\n        .then(() => {\n          Toast.success('Upload success!', 1);\n          this.setState({ uploading: false })\n        })\n        .catch((error) => {\n          Toast.fail('Upload failed!', 2);\n        })\n      } else {\n        const coterie_pk = this.props.coteries[this.props.match.params.groupUuid].pk;\n        data.append('coterie_pk', coterie_pk);\n        this.props.uploadCoterieDocument(data).then(() => {\n          // TODO: NEED TO ADD READLIST FOR GROUP ALSO\n          Toast.success('Upload success!', 1);\n          this.setState({ uploading: false })\n        }).catch((error) => {\n          Toast.fail('Upload failed!', 1);\n        })\n      }\n\n      this.finput.value = ''\n    }\n  }\n\n  componentDidMount() {\n    let groupUuid = this.props.match.params.groupUuid;\n    if (groupUuid) {\n      this.props.getMyCoteriesDocument(groupUuid).then(() => {\n        this.setState({loading: false})\n      }).catch((error) => {\n        this.setState({loading: false})\n      })\n    } else {\n      this.props.getMyDocuments().then(() => {\n        this.setState({loading: false})\n      }).catch((error) => {\n        this.setState({loading: false})\n      })\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    let newGroupUuid = this.props.match.params.groupUuid;\n    if (newGroupUuid !== prevProps.match.params.groupUuid) {\n      if (newGroupUuid) {\n        this.props.getMyCoteriesDocument(newGroupUuid);\n      } else {\n        this.props.getMyDocuments();\n      }\n    }\n  }\n\n  showModal(key, e) {\n    e.preventDefault();\n    this.setState({\n      [key]: true,\n    });\n  }\n\n  onClose(key) {\n    this.setState({\n      [key]: false,\n    });\n  }\n\n  renderReactSticky(props) {\n    return (\n      <Sticky>\n        {({ style }) =>\n          <div style={{ ...style, zIndex: 1 }}>\n            <Tabs.DefaultTabBar {...props} />\n          </div>\n        }\n      </Sticky>\n    )\n  }\n\n  renderListItem(item, isUpload) {\n    return (\n      <div key={item.slug}>\n        <List.Item\n          thumb={<img src={pdfIcon} alt='pdf-icon' style={{height: 28, width: 24}} />}\n          multipleLine\n          onClick={() => {\n            const groupUuid = this.props.match.params.groupUuid\n            if (groupUuid) {\n              const coterie = this.props.coteries[groupUuid]\n              const coterieId = coterie.pk\n              this.props.history.push(`/coteries/${coterieId}/documents/${item.slug}`)\n            } else\n              this.props.history.push(`/documents/${item.slug}`)\n          }}\n        >\n          <div style={{width: '88%', overflow: 'hidden', textOverflow: 'ellipsis'}}>\n            {item.title}\n          </div>\n          <List.Item.Brief>{moment(item.upload_time).format(\"MMMM Do YYYY, h:mm a\")}</List.Item.Brief>\n        </List.Item>\n        <Icon type=\"ellipsis\"\n          style={{position: 'absolute', width:'10%', marginTop: -50, right: 5, color:'#a8a8a8', zIndex: 1}}\n          onClick={(e) => {\n            this.setState({selectedDocument: item.slug})\n            this.showModal(isUpload ? 'uploadedActionModal' : 'collectedActionModal', e);\n          }}/>\n      </div>\n    )\n  }\n\n  renderAddDocument() {\n    return (\n      <List.Item\n        thumb={<AddIcon style={{color:'grey'}} />}\n        onClick={() => this.finput.click()}\n      >\n        <div style={{color:'grey'}}>New document</div>\n        <List.Item.Brief>Click to upload...</List.Item.Brief>\n      </List.Item>\n    )\n  }\n\n  renderUploadedList(list) {\n    const items = list.map((itemId) => {\n      return this.renderListItem(this.props.documents[itemId], true)\n    })\n    return (\n      <List>\n        {this.renderAddDocument()}\n        {items}\n      </List>\n    )\n  }\n\n  renderCollectedList(list) {\n    if (!list.length) {\n      return (\n        <List>\n          <List.Item>\n            <div style={{color: 'grey', textAlign:'center' }}>\n              You haven't collected any document.\n            </div>\n          </List.Item>\n        </List>\n      )\n    }\n    const items = list.map((itemId) => {\n      return this.renderListItem(this.props.documents[itemId], false)\n    })\n    return (\n      <List>\n        {items}\n      </List>\n    )\n  }\n\n  renderStickyTab() {\n    return (\n      <div>\n        <WhiteSpace />\n        <StickyContainer>\n          <Tabs\n            tabs={[{ title: \"Uploaded\"}, { title: \"Collected\"}]}\n            swipeable\n            _renderTabBar={this.renderReactSticky}\n          >\n            <div style={{ justifyContent: 'center', height: '100%', backgroundColor: '#fff' }}>\n              {this.renderUploadedList(_.orderBy(this.props.user.uploadedDocuments, (docSlug) => {return this.props.documents[docSlug].upload_time}, 'desc'))}\n            </div>\n            <div style={{ justifyContent: 'center', height: '100%', backgroundColor: '#fff' }}>\n              {this.renderCollectedList(_.orderBy(this.props.user.collectedDocuments, (docSlug) => {return this.props.documents[docSlug].upload_time}, 'desc'))}\n            </div>\n          </Tabs>\n        </StickyContainer>\n        <WhiteSpace />\n      </div>\n    )\n  }\n\n  renderRenameModal(currDocument) {\n    return (\n      Modal.prompt('Rename', 'Enter the new name', [\n      { text: 'Cancel' },\n      { text: 'Confirm', onPress: value => {\n        let data = new FormData();\n        data.append('new_title', value);\n        data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n        this.props.renameDocument(currDocument.renameUrl, data);\n      }},\n    ], 'default', currDocument.title)\n    )\n  }\n\n  renderCollectedActionModal() {\n    let currDocument = this.props.documents[this.state.selectedDocument];\n\n    return (\n      <Modal\n        popup\n        visible={this.state.collectedActionModal}\n        onClose={() => this.onClose('collectedActionModal')}\n        animationType=\"slide-up\"\n      >\n        <List\n          renderHeader={() =>\n            <b style={{ color: \"#1BA39C\"}}>{currDocument.title}</b>\n          }\n          className=\"popup-list\"\n        >\n          {\n            // ===== temporarily disable add to list if in group =====\n            this.props.match.params.groupUuid ? null :\n            // =======================================================\n            <List.Item\n              onClick={() => {\n                this.props.history.push('/add-to-readlists')\n              }}>\n              <AddIcon style={{height: 18, color:'#1BA39C',marginRight: 20}}/>\n              Add To Readlist\n            </List.Item>\n          }\n            <List.Item\n              onClick={() => {\n                let url;\n                const location = window.location;\n                const groupUuid = this.props.match.params.groupUuid\n                if (groupUuid) {\n                  const coterie = this.props.coteries[groupUuid];\n                  const coterieId = coterie.pk;\n                  url = [location.protocol, '//', location.host, '/coteries/', coterieId, '/documents/', currDocument.slug].join('');\n                } else {\n                  url = [location.protocol, '//', location.host, '/documents/', currDocument.slug].join('');\n                }\n                copyToClipboard(url);\n                Toast.success('Copied to clipboard!', 1);}}\n            >\n              <ShareIcon style={{height: 18, color:'#1BA39C',marginRight: 20}}/>\n              Share\n            </List.Item>\n          <List.Item\n            onClick={() => {\n              Modal.alert('Uncollect ' + currDocument.title + '?', '', [\n                { text: 'Cancel' },\n                { text: 'Uncollect', style:{color:'#FF0000'},\n                  onPress: () => {\n                    this.onClose('collectedActionModal');\n                    let data = new FormData();\n                    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n                    this.props.uncollectDocument(currDocument.uncollectUrl, data, currDocument.slug);\n                }},\n              ])\n            }}\n          >\n            <DeleteIcon style={{height: 18, color:'#e74c3c',marginRight: 20}}/>\n            <span style={{color:'#e74c3c'}}>Uncollect</span>\n          </List.Item>\n        </List>\n      </Modal>\n    )\n  }\n\n  renderUploadedActionModal() {\n    let currDocument = this.props.documents[this.state.selectedDocument];\n    return (\n      <Modal\n        popup\n        visible={this.state.uploadedActionModal}\n        onClose={() => this.onClose('uploadedActionModal')}\n        animationType=\"slide-up\"\n      >\n        <List\n          renderHeader={() =>\n            <b style={{ color: \"#1BA39C\"}}>{currDocument.title}</b>\n          }\n          className=\"popup-list\"\n        >\n        {\n          // ===== temporarily disable add to list if in group =====\n          this.props.match.params.groupUuid ? null :\n          // =======================================================\n          <List.Item\n            onClick={() => {\n              this.props.history.push('/add-to-readlists/' + currDocument.slug)\n            }}>\n            <AddIcon style={{height: 18, color:'#1BA39C',marginRight: 20}}/>\n            Add To Readlist\n          </List.Item>\n        }\n          <List.Item\n            onClick={() => {\n              let url;\n              const location = window.location;\n              const groupUuid = this.props.match.params.groupUuid\n              if (groupUuid) {\n                const coterie = this.props.coteries[groupUuid];\n                const coterieId = coterie.pk;\n                url = [location.protocol, '//', location.host, '/coteries/', coterieId, '/documents/', currDocument.slug].join('');\n              } else {\n                url = [location.protocol, '//', location.host, '/documents/', currDocument.slug].join('');\n              }\n              copyToClipboard(url);\n              Toast.success('Copied to clipboard!', 1);}}\n          >\n            <ShareIcon style={{height: 18, color:'#1BA39C',marginRight: 20}}/>\n            Share\n          </List.Item>\n          <List.Item\n            onClick={() => {this.renderRenameModal(currDocument)}}\n          >\n            <CreateIcon style={{height: 18, color:'#1BA39C',marginRight: 20}}/>\n            Rename\n          </List.Item>\n          <List.Item\n            onClick={() => {\n              Modal.alert('Delete ' + currDocument.title + '?', '', [\n                { text: 'Cancel' },\n                { text: 'Delete', style:{color:'#FF0000'},\n                  onPress: () => {\n                    this.onClose('uploadedActionModal');\n                    let data = new FormData();\n                    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n                    this.props.deleteDocument(currDocument.delete_url, data, currDocument.slug);\n                }},\n              ])\n            }}\n          >\n            <DeleteIcon style={{height: 18, color:'#e74c3c',marginRight: 20}}/>\n            <span style={{color:'#e74c3c'}}>Delete</span>\n          </List.Item>\n        </List>\n      </Modal>\n    )\n  }\n\n  renderFileItem(file) {\n    if (!file) return (<div>File upload failed!</div>)\n    return (\n      <ListItem style={{paddingLeft: 0, paddingRight: 0}}>\n        <img src={pdfIcon} alt='pdf-icon' style={{height: 28, width: 24}} />\n        <ListItemText\n          primary={<div style={{textOverflow: 'ellipsis', whiteSpace: 'nowrap', overflow: 'hidden'}}>{file.name}</div>}\n          secondary={\"Modified \" + moment(file.lastModified).format('MMM D, HH:mm')}\n        />\n      </ListItem>\n    )\n  }\n\n  renderFileNameTextField(file) {\n    if (!file) return (<div></div>)\n    return (\n      <TextField\n        multiline\n        margin=\"dense\"\n        id=\"name\"\n        label=\"Name\"\n        defaultValue={file.name.split('.').slice(0, -1).join('.')}\n        fullWidth\n        onChange={(e) => this.setState({name: e.target.value})}\n      />\n    )\n  }\n\n  renderReadlistSelect(){\n    return (\n      <div>\n        <ListItem\n          style={{padding: 0}}\n          button\n          divider\n          aria-haspopup=\"true\"\n          onClick={(e) => {this.showModal('chooseReadlistRadio', e)}}\n        >\n          <ListItemText primary=\"Readlist\"\n            secondary={this.state.value ?\n              this.props.readlists[this.state.value].name :\n              'Click to select... (optional)'\n            }\n          />\n        </ListItem>\n        <ConfirmationDialog\n          open={this.state.chooseReadlistRadio}\n          onClose={this.handleConfirmationDialogClose}\n          value={this.state.value}\n        />\n      </div>\n    )\n  }\n\n  renderUploadDialog() {\n    let file = this.state.uploadedFile;\n    return (\n      <Dialog\n        onClose={() => {this.onClose('uploadDialog'); this.finput.value = ''}}\n        open={this.state.uploadDialog}\n        aria-labelledby=\"simple-dialog-title\">\n        <DialogTitle id=\"simple-dialog-title\">Upload</DialogTitle>\n        <DialogContent>\n          {this.renderFileItem(file)}\n          {this.renderFileNameTextField(file)}\n          {!this.props.match.params.groupUuid && this.renderReadlistSelect()}\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={() => {\n              this.onClose('uploadDialog');\n              this.finput.value = '';\n            }}\n            color=\"primary\">\n            Cancel\n          </Button>\n          <Button\n            onClick={() => {\n              this.onClose('uploadDialog');\n              this.handleFileSubmit();\n              this.finput.value = '';\n            }}\n            color=\"primary\">\n            Upload\n          </Button>\n        </DialogActions>\n      </Dialog>\n    )\n  }\n\n  render() {\n    if (this.state.loading)\n      return <ActivityIndicator toast animating={this.state.loading} />\n\n    if (!this.props.user || !this.props.user.is_authenticated) {\n      return (\n        <NotSignedIn history={this.props.history}/>\n      )\n    }\n\n    const currentCoterie = this.props.coteries[this.props.match.params.groupUuid];\n\n    if (this.props.match.params.groupUuid && !currentCoterie) {\n      return (\n        <NoPermission />\n      )\n    }\n\n    return (\n      <div>\n        {this.renderStickyTab()}\n        {this.renderUploadedActionModal()}\n        {this.renderCollectedActionModal()}\n        {this.renderUploadDialog()}\n        <input\n          ref={item => this.finput = item}\n          style={{ visibility: 'hidden' }}\n          type={'file'}\n          accept=\"application/pdf\"\n          onChange={async () => this.handleFileDialog()}>\n        </input>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    documents: state.documents,\n    coteries: state.coteries,\n    readlists: state.readlists,\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Uploads);\n","import { Route, Switch } from 'react-router-dom';\n\nimport Explore from './explore';\nimport GroupExplore from './group_explore';\nimport Notifications from './notifications';\nimport React from 'react';\nimport Readlists from './readlists';\nimport Settings from './settings';\nimport Uploads from './uploads/uploads';\n\nconst Main = () => (\n  <main>\n    <Switch>\n      <Route path=\"/groups\" component={Groups}/>\n      <Route path='/explore' component={Explore}/>\n      <Route path='/uploads' component={Uploads}/>\n      <Route path='/readlists' component={Readlists}/>\n      <Route path='/notifications' component={Notifications}/>\n      <Route path='/settings' component={Settings}/>\n    </Switch>\n  </main>\n)\n\nconst Groups = ({match}) => {\n  return(\n    <Switch>\n      <Route path={`${match.url}/:groupUuid?/explore`} component={GroupExplore}/>\n      <Route path={`${match.url}/:groupUuid?/uploads`} component={Uploads}/>\n      <Route path={`${match.url}/:groupUuid?/readlists`} component={Readlists}/>\n      <Route path={`${match.url}/:groupUuid?/notifications`} component={Notifications}/>\n      <Route path={`${match.url}/:groupUuid?/settings`} component={Settings}/>\n    </Switch>\n  );\n};\n\nexport default Main;\n","import './App.css';\n\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\"\nimport { Link, Route, BrowserRouter as Router, Switch } from 'react-router-dom'\nimport React, { Component } from 'react'\nimport _ from 'lodash';\nimport { connect } from 'react-redux';\nimport * as actions from './actions';\nimport BottomTabBar from './components/bottom_tab_bar';\nimport Navbar from './components/nav_bar';\nimport Main from './components/main';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport logo from './logo.svg'\nimport Grid from '@material-ui/core/Grid';\n\n\nclass App extends Component {\n  state = {\n    loading: true\n  }\n\n  componentDidMount() {\n    this.props.getMyCoteries().then(() => {\n      this.setState({loading: false})\n    });\n    this.props.getCombinedNotifications();\n    this.props.getInvitations();\n  }\n\n  render() {\n    if (_.isEmpty(this.props.user) || this.state.loading) {\n      return (\n        <Grid container justify=\"center\" alignItems=\"center\" wrap=\"nowrap\" style={{height: '95vh'}}>\n          <CircularProgress style={{color:\"#1BA39C\"}} size='10vw' thickness={5} />\n        </Grid>\n      )\n    }\n\n    return (\n      <div className=\"App\">\n        <Navbar\n          path={this.props.location.pathname}\n          history={this.props.history}\n          match={this.props.match}\n        />\n\n        <BottomTabBar\n          path={this.props.location.pathname}\n          history={this.props.history}\n          content={<Main />}\n        />\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    coteries: state.coteries,\n  };\n}\n\nexport default connect(mapStateToProps, actions)(App);\n","import React from 'react';\nimport {connect} from 'react-redux'\nimport * as actions from '../actions';\n\nclass AuthContainer extends React.Component {\n\n  componentDidMount() {\n    if (!this.props.user || !this.props.user.isAuthenticated) {\n      this.props.getUser();\n    }\n  }\n\n  render() {\n    return this.props.children;\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps, actions)(AuthContainer);\n","import React, { Component } from 'react';\nimport * as actions from '../actions';\nimport { connect } from 'react-redux';\nimport { Button, Icon, InputItem, List, NavBar, TextareaItem, WhiteSpace, Toast } from 'antd-mobile';\nimport { getCookie } from '../utilities/helper';\n\nclass CreateCoterieForm extends Component {\n\n  state = {\n    coterie_name: \"\",\n    coterie_description: \"\"\n  };\n\n  handleSubmit() {\n    let { coterie_name, coterie_description } = this.state;\n\n    let data = new FormData();\n    data.append('coterie_name', coterie_name);\n    data.append('coterie_description', coterie_description);\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n\n    this.props.createCoterie(data).then((response) => {\n      let coterie = response.payload.data;\n      this.props.history.push(`/groups/${coterie.uuid}/settings`);\n      Toast.success('You are now in the group ' + coterie.name, 2);\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <NavBar\n          mode=\"light\"\n          icon={<Icon type=\"left\" color=\"#1BA39C\" />}\n          onLeftClick={() => this.props.history.goBack()}\n        >Create Group</NavBar>\n        <List renderHeader={() => 'You will be the administrator upon creation'}>\n          <InputItem\n            clear\n            placeholder=\"Name of the group\"\n            onChange={(value) => this.setState({coterie_name: value})}\n          >Name</InputItem>\n        </List>\n        <List renderHeader={() => 'Description'}>\n          <TextareaItem\n            rows={5}\n            count={100}\n            onChange={(value) => this.setState({coterie_description: value})}\n          />\n          <List.Item>\n            <Button\n              disabled={this.state.coterie_name.length === 0}\n              type=\"primary\"\n              style={{backgroundColor: \"#1BA39C\"}}\n              onClick={() => this.handleSubmit()}\n            >Create</Button>\n          </List.Item>\n        </List>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n  };\n}\n\nexport default connect(mapStateToProps, actions)(CreateCoterieForm);\n","import React, { Component } from 'react';\nimport * as actions from '../actions';\nimport { connect } from 'react-redux';\nimport { Button, Icon, InputItem, List, NavBar, TextareaItem, WhiteSpace } from 'antd-mobile';\nimport { getCookie } from '../utilities/helper';\n\nclass CreateReadlistForm extends Component {\n\n  state = {\n    readlist_name: \"\",\n    readlist_description: \"\"\n  };\n\n  handleSubmit() {\n    let { readlist_name, readlist_description } = this.state;\n\n    let data = new FormData();\n    data.append('readlist_name', readlist_name);\n    data.append('description', readlist_description);\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n\n    this.props.createReadlist(data);\n    this.props.history.goBack();\n  }\n\n  render() {\n    return (\n      <div>\n        <NavBar\n          mode=\"light\"\n          icon={<Icon type=\"left\" color=\"#1BA39C\" />}\n          onLeftClick={() => this.props.history.goBack()}\n        >Create Readlist</NavBar>\n        <List>\n          <InputItem\n            clear\n            placeholder=\"Name of the readlist\"\n            onChange={(value) => this.setState({readlist_name: value})}\n          >Name</InputItem>\n        </List>\n        <List renderHeader={() => 'Description'}>\n          <TextareaItem\n            rows={5}\n            count={100}\n            onChange={(value) => this.setState({readlist_description: value})}\n          />\n          <List.Item>\n            <Button\n              disabled={this.state.readlist_name.length === 0}\n              type=\"primary\"\n              style={{backgroundColor: \"#1BA39C\"}}\n              onClick={() => this.handleSubmit()}\n            >Create</Button>\n          </List.Item>\n        </List>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n  };\n}\n\nexport default connect(mapStateToProps, actions)(CreateReadlistForm);\n","import * as actions from '../actions';\n\nimport { Button, Icon, InputItem, List, Modal, NavBar, TextareaItem, WhiteSpace } from 'antd-mobile';\nimport React, { Component } from 'react';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport { connect } from 'react-redux';\nimport { getCookie } from '../utilities/helper';\n\nclass EditReadlistForm extends Component {\n\n  state = {\n    readlist_name: \"\",\n    readlist_description: \"\"\n  };\n\n  componentDidMount() {\n    const { slug } = this.props.match.params\n    this.props.getReadlist(slug).then(() => {\n      this.setState({readlist_name: this.props.readlists.readlist.name, readlist_description: this.props.readlists.readlist.description})\n    });\n  }\n\n  handleSubmit() {\n    let { readlist_name, readlist_description } = this.state;\n\n    let data = new FormData();\n    data.append('new_name', readlist_name);\n    data.append('new_desc', readlist_description);\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n\n    this.props.editReadlist(this.props.readlists.readlist.rename_url, data)\n      .then(() => {this.props.editReadlist(this.props.readlists.readlist.change_desc_url, data)})\n      .then(() => {this.props.history.goBack()})\n  }\n\n  handleDelete() {\n    const readlist = this.props.readlists.readlist;\n    Modal.alert('Delete ' + this.state.readlist_name + '?', 'All followers and you will no longer have access', [\n      { text: 'Cancel' },\n      { text: 'Delete', style:{color:'#FF0000'},\n        onPress: () => {\n          let data = new FormData();\n          data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n          this.props.deleteReadlist(readlist.delete_url, data, readlist.slug);\n          this.props.history.push('/readlists')\n      }},\n    ])\n  }\n\n  render() {\n    return (\n      <div>\n        <NavBar\n          mode=\"light\"\n          icon={<Icon type=\"left\" color=\"#1BA39C\" />}\n          onLeftClick={() => this.props.history.goBack()}\n        >Edit Readlist</NavBar>\n      <WhiteSpace />\n      <WhiteSpace />\n        <List>\n          <InputItem\n            clear\n            placeholder=\"Name of the readlist\"\n            value={this.state.readlist_name}\n            onChange={(value) => this.setState({readlist_name: value})}\n          >Name</InputItem>\n        </List>\n        <List renderHeader={() => 'Description'}>\n          <TextareaItem\n            rows={5}\n            count={100}\n            value={this.state.readlist_description}\n            onChange={(value) => this.setState({readlist_description: value})}\n          />\n          <List.Item>\n            <Button\n              disabled={this.state.readlist_name.length === 0}\n              type=\"primary\"\n              style={{backgroundColor: \"#1BA39C\"}}\n              onClick={() => this.handleSubmit()}\n            >Edit</Button>\n          </List.Item>\n          <List.Item>\n            <Button\n              type=\"danger\"\n              type=\"primary\"\n              style={{backgroundColor: \"#e74c3c\"}}\n              onClick={() => this.handleDelete()}\n            >Delete</Button>\n          </List.Item>\n        </List>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    readlists: state.readlists\n  };\n}\n\nexport default connect(mapStateToProps, actions)(EditReadlistForm);\n","function range(end) {\n  return Array(end - 0).fill().map((_, idx) => 0 + idx)\n}\n\n\nfunction constructGetAnnotationsQueryUrl(slug, isGroupDocument) {\n  if (!isGroupDocument)\n    return '/file_viewer/api/documents/byslug/' + slug + '/annotations'\n  else\n    return '/coteries/api/coteriedocuments/byslug/' + slug + '/annotations'\n}\n\n\nfunction constructGetDocumentQueryUrl(slug, isGroupDocument) {\n  if (!isGroupDocument)\n    return '/file_viewer/api/documents/byslug/' + slug\n  else\n    return '/coteries/api/coteriedocuments/byslug/' + slug\n}\n\n\n/*eslint no-undef: \"off\"*/\nfunction renderMathJax() {\n  if (window.hasOwnProperty('MathJax'))\n    MathJax.Hub.Queue(['Typeset', MathJax.Hub])\n}\n\n\nfunction getNextPageIndexWithAnnotations(currentPageIndex, annotationsByPage, numPages) {\n  var i = currentPageIndex + 1\n  while (true) {\n    if (i > numPages) return undefined  // index starts from 1\n\n    if (annotationsByPage[i].length > 0) return i\n    else i += 1\n  }\n}\n\n\nfunction getPreviousPageIndexWithAnnotations(currentPageIndex, annotationsByPage) {\n  var i = currentPageIndex - 1\n  while (true) {\n    if (i < 1) return undefined\n\n    if (annotationsByPage[i].length > 0) return i\n    else i -= 1\n  }\n}\n\n\nfunction getPrevAnnotation(selectedAnnotation, annotationsByPage) {\n  if (selectedAnnotation === undefined || annotationsByPage === undefined) return undefined\n\n  const thisPage = selectedAnnotation.page_index\n  const thisPageAnnotations = annotationsByPage[thisPage]\n  const indexInPage = thisPageAnnotations.indexOf(selectedAnnotation)\n\n  if (indexInPage > 0)\n    return thisPageAnnotations[indexInPage - 1]\n  else {\n    const prevPageWithAnnotations = getPreviousPageIndexWithAnnotations(thisPage, annotationsByPage)\n    if (prevPageWithAnnotations === undefined)\n      return undefined\n\n    const annotations = annotationsByPage[prevPageWithAnnotations]\n    return annotations[annotations.length - 1]\n  }\n}\n\n\nfunction getNextAnnotation(selectedAnnotation, annotationsByPage, numPages) {\n  if (selectedAnnotation === undefined || annotationsByPage === undefined || numPages === undefined) return undefined\n\n  const thisPage = selectedAnnotation.page_index\n  const thisPageAnnotations = annotationsByPage[thisPage]\n  const indexInPage = thisPageAnnotations.indexOf(selectedAnnotation)\n\n  if (indexInPage < thisPageAnnotations.length - 1)\n    return thisPageAnnotations[indexInPage + 1]\n  else {\n    const nextPageWithAnnotations = getNextPageIndexWithAnnotations(thisPage, annotationsByPage, numPages)\n    if (nextPageWithAnnotations === undefined)\n      return undefined\n\n    const annotations = annotationsByPage[nextPageWithAnnotations]\n    return annotations[0]\n  }\n}\n\n\nexport {\n  range,\n  constructGetAnnotationsQueryUrl,\n  constructGetDocumentQueryUrl,\n  renderMathJax,\n  getNextAnnotation,\n  getPrevAnnotation,\n}\n","import * as actions from '../../actions';\n\nimport { copyToClipboard, getCookie } from '../../utilities/helper';\nimport { faEllipsisV, faLink, faLocationArrow, faPencilAlt, faReply, faThumbsUp as faThumbsUped, faTrashAlt } from '@fortawesome/free-solid-svg-icons'\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Chip from '@material-ui/core/Chip';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport Grid from '@material-ui/core/Grid';\nimport KeyboardArrowDown from '@material-ui/icons/KeyboardArrowDown';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport React from 'react'\nimport ReactDOM from 'react-dom';\nimport TimeAgo from 'react-timeago';\nimport Typography from '@material-ui/core/Typography';\nimport axios from 'axios'\nimport { connect } from 'react-redux';\nimport { faThumbsUp } from '@fortawesome/fontawesome-free-regular'\nimport { renderMathJax } from './document_viewer_helper'\nimport { withStyles } from '@material-ui/core/styles';\n\nconst SmallChip = withStyles({\n  root: {\n    height: '20px',\n    margin: '5px',\n  },\n  avatar: {\n    height: '20px',\n    width: '20px',\n  },\n})(Chip);\n\nconst SmallButton = withStyles({\n  root: {\n    minWidth: 0,\n  }\n})(Button);\n\nfunction reduce_comment(comment) {\n  var nickname, portrait_url, prefix, timeago, content\n  var isAnnotation = comment.annotator ? true : false\n  var author = isAnnotation ? comment.annotator : comment.replier\n  var authorpk = author.pk\n  nickname = author.nickname ? author.nickname : 'Anonymous'\n  portrait_url = author.portrait_url ? (\n    author.portrait_url\n    ) : ('/media/portrait/anonymous_portrait.png')\n  if (comment.edit_time === null) {\n    prefix = 'posted'\n    timeago = comment.post_time\n  } else {\n    prefix = 'edited'\n    timeago = comment.edit_time\n  }\n  content = comment.content\n  return {\n    nickname: nickname,\n    portrait_url: portrait_url,\n    prefix: prefix,\n    timeago: timeago,\n    content: content,\n    uuid: comment.uuid,\n    pk: comment.pk,\n    numReplies: comment.replies ? comment.replies.length : 0,\n    isAnnotation: isAnnotation,\n    authorpk: authorpk,\n  }\n}\n\nconst MENU_ITEM_HEIGHT = 48;\n\nclass AnnotationThread extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state.likeSet = new Set();\n  }\n\n  commentBlock (comment, isHead=false) {\n    return (\n      <div key={comment.uuid} className={isHead ? 'comment-head' : 'comment-body'}>\n        <Grid>\n          <Grid container justify=\"flex-start\" alignItems=\"center\" wrap=\"nowrap\">\n            <Grid item>\n              <SmallChip\n                label={comment.nickname}\n                avatar={<Avatar src={comment.portrait_url} />}\n              />\n            </Grid>\n            <Grid item>\n              <Typography variant=\"caption\">{comment.prefix} <TimeAgo date={comment.timeago} /></Typography>\n            </Grid>\n          </Grid>\n          {/* TOP ROW OF COMMENT --- Contains: content */}\n          <Grid>\n            <div className='comment-text' dangerouslySetInnerHTML={{__html: comment.content}}></div>\n          </Grid>\n          {/* BOTTOM ROW OF COMMENT --- Contains: User info, 4 buttons to modify comment */}\n          <Grid container justify=\"space-between\" alignItems=\"center\" wrap=\"nowrap\">\n            {/* BOTTOM ROW LEFT SIDE --- Contains: portrait, name, post/edit time */}\n            <Grid container justify=\"flex-start\" alignItems=\"center\" wrap=\"nowrap\">\n              {isHead && <SmallChip icon={<KeyboardArrowDown/>} label={comment.numReplies + ((comment.numReplies === 1) ? ' reply' : ' replies')} variant='outlined'></SmallChip>}\n            </Grid>\n            {/* BOTTOM ROW RIGHT SIDE --- Contains: Locate, Reply, Like, More options */}\n            <Grid container justify=\"flex-end\" alignItems=\"center\" wrap=\"nowrap\">\n              {isHead && //Locate Arrow only exists for header\n              <Grid item>\n                <SmallButton color=\"primary\" onClick={() => {this.locateComment(this.props.annotationArea)}} >\n                  <FontAwesomeIcon icon={faLocationArrow} />\n                </SmallButton>\n              </Grid>}\n              <Grid item>\n                <SmallButton color=\"primary\" onClick={() => {isHead ? this.replyAnnotation(comment) : this.replyReply(comment)}} >\n                  <FontAwesomeIcon icon={faReply} />\n                </SmallButton>\n              </Grid>\n              <Grid item>\n                <SmallButton color=\"primary\" style={{color: '#1BA39C'}} disabled={this.state.likeSet.has(comment.uuid)} onClick={() => {isHead ? this.likeAnnotation(comment) : this.likeReply(comment)}} >\n                  <FontAwesomeIcon icon={this.state.likeSet.has(comment.uuid) ? faThumbsUped : faThumbsUp} />\n                </SmallButton>\n              </Grid>\n              <Grid item>\n                <SmallButton color=\"primary\" onClick={event => this.openContextMenu(event, comment, isHead)}>\n                  <FontAwesomeIcon icon={faEllipsisV} />\n                </SmallButton>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </div>\n    )\n  }\n\n  state = {\n    commentMenuElement: null,\n    commentMenuUuid: null,\n  };\n\n  openContextMenu = (event, comment, isHead) => {\n    this.setState({\n      commentMenuElement: event.currentTarget,\n      selectedComment: comment,\n      selectedCommentIsReply: !isHead,\n    });\n  };\n\n  closeContextMenu = value => {\n    this.setState({\n      commentMenuElement: null,\n      selectedComment: null,\n    });\n  };\n\n  /** LOCATE REPLY LIKE EDIT SHARE DELETE */\n\n  locateComment = (element) => {\n    element.scrollIntoView({behavior: \"smooth\"});\n  }\n\n  replyAnnotation = (comment) => {\n    this.props.setParentState({\n      replyToAnnotationReplyId: null,\n      replyToAnnotationReplyUuid: null,\n      annotationOpen: false,\n      annotationLinearLinkedListOpen: true,\n    }) /**Hide current annotation drawer and show text input */\n  }\n\n  replyReply = (comment) => {\n    this.props.setParentState({\n      replyToAnnotationReplyId: comment.pk,\n      replyToAnnotationReplyUuid: comment.uuid,\n      annotationOpen: false,\n      annotationLinearLinkedListOpen: true,\n    }) /**Hide current annotation drawer and show text input */\n  }\n\n  likeAnnotation = (comment) => {\n    var data = new FormData()\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n    data.append('operation', 'like_annotation')\n    data.append('annotation_id', comment.pk)\n    axios.post(window.location.pathname + '/', data).then(response => {\n      this.setState({likeSet: this.state.likeSet.add(comment.uuid)})\n    })\n  }\n\n  likeReply = (comment) => {\n    var data = new FormData()\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n    data.append('operation', 'like_annotation_reply')\n    data.append('annotation_reply_id', comment.pk)\n    axios.post(window.location.pathname + '/', data).then(response => {\n      this.setState({likeSet: this.state.likeSet.add(comment.uuid)})\n    })\n  }\n\n  editComment = () => {\n    this.closeContextMenu();\n    this.props.setParentState({\n      annotationOpen: false,\n      editCommentOpen: true,\n      editTextContent: this.state.selectedComment.content,\n      selectedComment: this.state.selectedComment,\n    })\n  }\n\n  shareComment = () => {\n    let url = [window.location.protocol, '//', window.location.host, window.location.pathname].join('') + '?annotation=' + this.state.selectedComment.uuid;\n    copyToClipboard(url);\n    /* TODO: Debug why not copying. Add toast to indicate copied to clipboard to util? or here. Change to share function in future?*/\n    console.log(url)\n    this.closeContextMenu();\n  }\n\n  deleteComment = () => {\n    var operation = this.state.selectedCommentIsReply ? 'delete_annotation_reply' : 'delete_annotation'\n    var idType = this.state.selectedCommentIsReply ? 'reply_id' : 'annotation_id'\n    var index = parseInt(this.state.selectedComment.page_index)\n    var data = new FormData()\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n    data.append('operation', operation)\n    data.append(idType, this.state.selectedComment.pk)\n    data.append('document_id', this.props.pdfDocument.pk)\n    console.log(this.state.selectedComment)\n    var selectedAnnotation = this.props.selectedAnnotation;\n    var annotations = this.props.annotations\n    var annotationsByPage = this.props.annotationsByPage\n    var selectedComment = this.state.selectedComment\n    axios.post(window.location.pathname + '/', data).then(response => {\n      console.log(response)\n      console.log(annotations)\n      console.log(annotationsByPage)\n      if (this.state.selectedCommentIsReply) {\n        var i = 0\n        selectedAnnotation.replies.map((reply) => {\n          if (reply.uuid == selectedComment.uuid) {\n            selectedAnnotation.replies.splice(i, 1)\n            annotations[selectedAnnotation.uuid] = selectedAnnotation\n            this.props.setParentState({annotations: annotations})\n          }\n          i++;\n        })\n      } else {\n        delete annotations[selectedAnnotation.uuid]\n        var i = 0\n        annotationsByPage[selectedAnnotation.page_index].map((annotation) => {\n          if (annotation.uuid == selectedAnnotation.uuid) {\n            annotationsByPage[selectedAnnotation.page_index].splice(i, 1)\n            this.props.setParentState({\n              annotations: annotations,\n              annotationsByPage: annotationsByPage,\n              annotationOpen: false,\n              selectedAnnotation: undefined,\n            })\n          }\n          i ++;\n        })\n      }\n    })\n    this.closeContextMenu();\n  }\n\n  componentDidMount() {renderMathJax()}\n\n  render() {\n    renderMathJax()\n    const { commentMenuElement } = this.state;\n    const open = Boolean(commentMenuElement);\n    var selectedAnnotation = this.props.selectedAnnotation;\n    return (\n      <div>\n        {this.commentBlock(reduce_comment(selectedAnnotation), true)}\n        {selectedAnnotation.replies.map(reply =>\n          this.commentBlock(reduce_comment(reply))\n        )}\n        <Menu\n          className='menu'\n          anchorEl={commentMenuElement}\n          open={open}\n          onClose={this.closeContextMenu}\n          PaperProps={{\n            style: {\n              maxHeight: MENU_ITEM_HEIGHT * 4.5,\n            },\n          }}\n        >\n          { this.state.selectedComment && this.props.user.pk == this.state.selectedComment.authorpk && <MenuItem onClick={this.editComment}>\n            <SmallButton color=\"primary\">\n              <FontAwesomeIcon icon={faPencilAlt} />\n            </SmallButton><Typography>Edit</Typography>\n          </MenuItem> }\n          <MenuItem onClick={this.shareComment}>\n            <SmallButton color=\"primary\">\n              <FontAwesomeIcon icon={faLink} />\n            </SmallButton><Typography>Share link</Typography>\n          </MenuItem>\n          { this.state.selectedComment && this.props.user.pk == this.state.selectedComment.authorpk && <MenuItem onClick={this.deleteComment}>\n            <SmallButton color=\"primary\">\n              <FontAwesomeIcon icon={faTrashAlt} />\n            </SmallButton><Typography>Delete</Typography>\n          </MenuItem> }\n        </Menu>\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    coteries: state.coteries,\n    // document: state.document,\n  };\n}\n\nexport default connect(mapStateToProps, actions)(AnnotationThread);\n","import Button from '@material-ui/core/Button';\nimport React from 'react'\nimport { withStyles } from '@material-ui/core/styles';\nimport Grow from '@material-ui/core/Grow';\n\n\nconst styles = theme => ({\n  root: {\n    position: 'relative',\n    minHeight: 200,\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing.unit * 2,\n    right: theme.spacing.unit * 2,\n  },\n});\n\n\nclass FlaoatingButton extends React.Component {\n  constructor(props, context) {\n    super(props, context)\n    this.state = {\n      value: 0,\n      content: undefined,\n    };\n\n    this.onClick = () => {\n      this.props.clickCallback()\n    }\n  }\n\n\n  render() {\n    const { classes, theme } = this.props;\n    const transitionDuration = {\n      enter: theme.transitions.duration.enteringScreen,\n      exit: theme.transitions.duration.leavingScreen,\n    };\n\n    return (\n      // <div>\n        <Grow in={this.props.show}>\n          <Button\n            variant=\"fab\"\n            className={classes.fab + ' scan-receipt-btn'}\n            style={{position: 'fixed', bottom: 60, zIndex: 1000, backgroundColor: this.props.color,}}\n            onClick={this.onClick}\n          >\n            {this.props.icon}\n          </Button>\n        </Grow>\n      // </div>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(FlaoatingButton);\n","import './document_viewer.css'\n\nimport * as actions from '../../actions';\n\nimport { ActivityIndicator, Icon, Modal, NavBar, TextareaItem } from 'antd-mobile';\nimport {MuiThemeProvider, createMuiTheme} from '@material-ui/core/styles';\nimport {\n  constructGetAnnotationsQueryUrl,\n  constructGetDocumentQueryUrl,\n  range,\n  getNextAnnotation,\n  getPrevAnnotation,\n} from './document_viewer_helper'\nimport {\n  faPaperPlane,\n  faTimesCircle\n} from '@fortawesome/free-solid-svg-icons'\n\nimport AddComment from '@material-ui/icons/AddComment';\nimport AnnotationThread from './annotation_thread'\nimport Avatar from '@material-ui/core/Avatar';\nimport DoneAll from '@material-ui/icons/DoneAll';\nimport Drawer from '@material-ui/core/Drawer';\nimport FloatButton from './float_button'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport Grid from '@material-ui/core/Grid';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport FormatListBulletedRounded from '@material-ui/icons/FormatListBulletedRounded';\nimport React from 'react'\nimport { Rnd } from 'react-rnd'\nimport Tappable from 'react-tappable';\nimport TextField from '@material-ui/core/TextField';\nimport axios from 'axios'\nimport { connect } from 'react-redux';\nimport { getCookie, getValFromUrlParam, uuidWithHyphen } from '../../utilities/helper';\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport IconButton from '@material-ui/core/IconButton';\n\nlibrary.add(faPaperPlane, faTimesCircle)\n\n// import Drawer from 'rc-drawer';\n\n// const TAP_TIME_THRESHOLD = 180  // in milisecond\n\n/*eslint no-undef: \"off\"*/\n\nconst RENDERING = 'RENDERING'\nconst ANNOTATION_WIDTH_THRESHOLD = 8\nconst ANNOTATION_HEIGHT_THRESHOLD = 8\nconst alert = Modal.alert;\n\n\nclass DocumentViewer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.pdfDoc = undefined\n    this.taskList = []\n    this.finishList = []\n    this.rendering = false\n    this.clearnessLevel = 3.8  // too small then not clear, not large then rendering consumes much resource\n    this.currentPageIndex = 1\n    this.annotationAreas = {}\n    this.prevScroll = window.pageYOffset\n    this.annotationFirstTouch = false\n    // this.touchLength = 0\n    this.state = {\n      document: {\n        title: ''\n      },\n      loading: true,\n      numPages: 0,\n      currentScale: 1,\n      scaleFactor: 1.08,\n      sampleWidth: undefined,\n      sampleHeight: undefined,\n      annotations: {},\n      annotationsByPage: {},\n      annotationOpen: false,\n      annotationLinearLinkedListOpen: false,\n      editCommentOpen: false,\n      newAnnotationInputOpen: false,\n      selectedAnnotation: undefined,\n      mode: 'view',  // view or comment\n      showFloatButton: true,\n      creatingAnnotationAtPageIndex: undefined,\n      newAnnotationContent: '',\n      newAnnotationReplyContent: '',\n      editTextContent: '',\n      // pageCanvasWidth: 660,\n    }\n\n    this.dynamicRenderOnScroll = () => {\n      var pageIndex = Math.ceil((window.pageYOffset / this.viewerWrappper.scrollHeight * this.state.numPages))\n      if (pageIndex === this.currentPageIndex)\n        return\n\n      this.currentPageIndex = pageIndex\n\n      const left = 2\n      const right = 6\n      var renderOrNot = range(right + left + 1).map(i => true)\n\n      // clear pages which are out of view\n      var index = 0\n      for (var i = 0; i < this.finishList.length; i++) {\n        if (this.finishList[index] - pageIndex >= -left && this.finishList[index] - pageIndex <= right) {\n          renderOrNot[this.finishList[index] - (pageIndex - left)] = false\n          index += 1\n        } else {\n          var pre = document.getElementById('page-canvas-' + this.finishList[index])\n          pre.width = 0\n          pre.height = 0\n          this.finishList.splice(index, 1)\n        }\n      }\n\n      // keep the first renderTask since it is still in RENDERING status,\n      // delete the rest since they are in PENDING status\n      this.taskList.splice(1)\n\n      // add in the new task\n      for (var i = 0; i < renderOrNot.length; i++)\n        if (renderOrNot[i])\n          this.pushNewPageRenderingTask(pageIndex - left + i)\n      if (!this.rendering)\n        this.renderTaskList()\n    }\n\n    this.handleScroll = () => {\n      this.dynamicRenderOnScroll()\n      const thisScroll = window.pageYOffset\n      if (thisScroll - this.prevScroll > 8)  // scroll down\n        this.setState({showFloatButton: false})\n      else if (this.prevScroll - thisScroll > 8)\n        this.setState({showFloatButton: true})\n      this.prevScroll = thisScroll\n    }\n\n    this.pushNewPageRenderingTask = (pageIndex) => {\n      if (pageIndex >= 1 && pageIndex <= this.state.numPages)\n        this.taskList.push({\n          pageIndex: pageIndex,\n          status: RENDERING,\n          taskObj: null,\n        })\n    }\n\n    this.renderTaskList = () => {\n      if (this.taskList.length <= 0)\n        return\n      this.rendering = true\n      var scale = this.state.currentScale\n      var clearnessLevel = this.clearnessLevel\n\n      var currentPageIndex = this.taskList[0].pageIndex\n      const self = this\n      this.pdfDoc.getPage(currentPageIndex).then(function(page) {\n        var canvas = document.getElementById('page-canvas-' + currentPageIndex)\n        if (canvas === null) return\n        var context = canvas.getContext('2d')\n        var viewport = page.getViewport(clearnessLevel * scale)\n        canvas.height = viewport.height\n        canvas.width = viewport.width\n        canvas.style.height = viewport.height / clearnessLevel + 'px'\n        canvas.style.width = viewport.width / clearnessLevel + 'px'\n        var renderContext = {\n          canvasContext: context,\n          viewport: viewport,\n        }\n        self.taskList[0].status = RENDERING\n        self.taskList[0].taskObj = page.render(renderContext)\n        self.taskList[0].taskObj.promise.then(function() {\n          self.taskList.shift()\n          self.finishList.push(currentPageIndex)\n          self.rendering = false\n          self.renderTaskList()\n        })\n      })\n    }\n\n    this.renderAnnotationAreas = (numPages) => {\n      axios.get(constructGetAnnotationsQueryUrl(this.props.match.params.slug, this.props.isGroupDocument)).then(response => {\n        var data = response.data\n\n        var annotationsByPage = {}\n        var annotations = {}\n        for (var i = 1; i <= numPages; i++)\n          annotationsByPage[i] = []\n        for (var annotation of data) {\n          annotationsByPage[parseInt(annotation.page_index)].push(annotation)\n          annotations[annotation.uuid] = annotation\n        }\n\n        this.setState({ annotations: annotations, annotationsByPage: annotationsByPage })\n        console.log(annotations)\n        console.log(annotationsByPage)\n        this.scrollToTargetAnnotationIfInUrl()\n      })\n    }\n\n    this.configSizeAccordingToLastPageAndRenderTheFirstSeveralPages = (pdf) => {\n      const self = this\n      pdf.getPage(pdf.numPages).then(function(lastPage) {\n        var currentScale = (window.innerWidth * 1.0) / lastPage.getViewport(1).width\n\n        self.setState({\n          currentScale: currentScale,\n          sampleWidth: lastPage.getViewport(currentScale).width,\n          sampleHeight: lastPage.getViewport(currentScale).height\n        })\n        self.pushNewPageRenderingTask(1)\n        self.pushNewPageRenderingTask(2)\n        self.pushNewPageRenderingTask(3)\n        self.pushNewPageRenderingTask(4)\n        self.renderTaskList()\n      })\n    }\n\n    this.styleDrawer = () => {\n      if (this.annotationWrapper === undefined) return\n      if (this.annotationWrapper.parentElement.classList.contains('annotation-drawer')) return\n      this.annotationWrapper.parentElement.classList.add('annotation-drawer')\n    }\n\n    this.selectAnnotation = (uuid) => {\n      if (this.state.selectedAnnotation !== undefined)\n        this.annotationAreas[this.state.selectedAnnotation.uuid].classList.remove('highlighted-annotation-area')\n\n      this.setState({selectedAnnotation: this.state.annotations[uuid]})\n      this.annotationAreas[uuid].classList.add('highlighted-annotation-area')\n      const rgba = this.annotationAreas[uuid].style.background\n      this.annotationAreas[uuid].style.borderColor = rgba.split(',').slice(0,3).join(',') + ', 0.38)'\n\n      if (!this.state.annotationOpen) {\n        this.styleDrawer()\n        this.setState({ annotationOpen: true, annotationLinearLinkedListOpen: false, editCommentOpen: false });\n      }\n    }\n\n    this.deselectAnnotation = () => {\n      if (this.state.selectedAnnotation !== undefined)\n        this.annotationAreas[this.state.selectedAnnotation.uuid].classList.remove('highlighted-annotation-area')\n      this.setState({ annotationOpen: false });\n      this.setState({ selectedAnnotation: undefined })\n    }\n\n    this.lockScroll = (e) => {\n      if (e.targetTouches.length === 1)\n        e.preventDefault()\n    }\n\n    this.changeToCommentMode = () => {\n      this.setState({mode: 'comment'})\n      document.getElementsByTagName(\"BODY\")[0].addEventListener('touchmove', this.lockScroll, { passive: false })\n    }\n\n    this.changeToViewMode = () => {\n      this.setState({mode: 'view', creatingAnnotationAtPageIndex: undefined, newAnnotationInputOpen: false})\n      document.getElementsByTagName(\"BODY\")[0].removeEventListener('touchmove', this.lockScroll)\n    }\n\n    this.postAnnotation = () => {\n      if (this.state.newAnnotationWidth < ANNOTATION_WIDTH_THRESHOLD || this.state.newAnnotationHeight < ANNOTATION_HEIGHT_THRESHOLD)\n        return\n\n      var data = new FormData()\n      data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n      data.append('operation', 'annotate')\n      data.append('page_id', 'page_id_' + this.state.creatingAnnotationAtPageIndex)\n      data.append('annotation_content', this.state.newAnnotationContent)\n      data.append('top_percent', this.state.newAnnotationY / this.state.sampleHeight)\n      data.append('left_percent', this.state.newAnnotationX / this.state.sampleWidth)\n      data.append('height_percent', this.state.newAnnotationHeight / this.state.sampleHeight)\n      data.append('width_percent', this.state.newAnnotationWidth / this.state.sampleWidth)\n      data.append('frame_color', window.getComputedStyle(document.getElementById('annotation-being-created') ,null).getPropertyValue('background-color'))\n      data.append('document_id', this.state.document.pk)\n      data.append('is_public', true)\n      axios.post(window.location.pathname + '/', data).then(response => {\n        var newAnnotation = response.data['new_annotation_json']\n        var annotationsByPage = this.state.annotationsByPage\n        var annotations = this.state.annotations\n        annotationsByPage[parseInt(newAnnotation.page_index)].push(newAnnotation)\n        annotations[newAnnotation.uuid] = newAnnotation\n        this.setState({\n          annotations: annotations,\n          annotationsByPage: annotationsByPage,\n          newAnnotationContent: '',\n          mode: 'view', creatingAnnotationAtPageIndex: undefined, newAnnotationInputOpen: false\n        })\n        document.getElementsByTagName(\"BODY\")[0].removeEventListener('touchmove', this.lockScroll)\n      }).catch(err => {\n        alert('', 'You need to login to post', [\n          { text: 'Cancel', onPress: () => {\n            this.setState({newAnnotationContent: '', mode: 'view', creatingAnnotationAtPageIndex: undefined, newAnnotationInputOpen: false})\n          } },\n          { text: 'Go login', onPress: () => this.props.history.push('/sign-in') },\n        ])\n      })\n    }\n\n    this.cancelCurrentAnnotation = () => {\n      this.setState({creatingAnnotationAtPageIndex: undefined, newAnnotationInputOpen: false})\n    }\n\n    this.postAnnotationReply = () => {\n      var data = new FormData()\n      console.log(this.state.replyToAnnotationReplyId)\n      data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n      data.append('operation', 'reply_annotation')\n      data.append('annotation_reply_content', this.state.newAnnotationReplyContent)\n      data.append('reply_to_annotation_id', this.state.selectedAnnotation.pk)\n      this.state.replyToAnnotationReplyId && data.append('reply_to_annotation_reply_id', this.state.replyToAnnotationReplyId)\n      data.append('document_id', this.state.document.pk)\n      data.append('is_public', true)\n      axios.post(window.location.pathname + '/', data).then(response => {\n        var annotations = this.state.annotations\n        annotations[this.state.selectedAnnotation.uuid].replies.push(response.data['new_annotationreply_json'])\n        this.setState({\n          annotations: annotations,\n          newAnnotationReplyContent: '',\n          annotationOpen: true, annotationLinearLinkedListOpen: false,\n        })\n      }).catch(err => {\n        alert('', 'You need to login to post', [\n          { text: 'Cancel', onPress: () => {\n            this.setState({newAnnotationReplyContent: '', annotationOpen: true, annotationLinearLinkedListOpen: false})\n          } },\n          { text: 'Go login', onPress: () => this.props.history.push('/sign-in') },\n        ])\n      })\n    }\n\n    this.cancelCurrentAnnotationReply = () => {\n      this.setState({annotationOpen: true, annotationLinearLinkedListOpen: false,})\n    }\n\n    this.postEdit = () => {\n      var appName = window.location.pathname.split('/')[1]\n      var api = this.state.selectedComment.isAnnotation ? '/api/annotations/' : '/api/annotationreplies/'\n      var path = '/' + appName + api + this.state.selectedComment.pk + '/edit'\n      console.log(path)\n      var data = new FormData()\n      data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n      data.append('new_content', this.state.editTextContent)\n      axios.post(path, data).then(response => {\n        var annotations = this.state.annotations\n        if (this.state.selectedComment.isAnnotation) {\n          annotations[this.state.selectedAnnotation.uuid].content = this.state.editTextContent\n        } else {\n          for (var i=0; i < annotations[this.state.selectedAnnotation.uuid].replies.length; i++) {\n            if (annotations[this.state.selectedAnnotation.uuid].replies[i].uuid == this.state.selectedComment.uuid) {\n              annotations[this.state.selectedAnnotation.uuid].replies[i].content = this.state.editTextContent\n              break\n            }\n          }\n        }\n        this.setState({\n          annotationOpen: true,\n          editCommentOpen: false,\n          annotations: annotations,\n        })\n      })\n    }\n\n    this.cancelEdit = () => {\n      this.setState({annotationOpen: true, editCommentOpen: false,})\n    }\n\n    this.scrollToTargetAnnotationIfInUrl = () => {\n      var annotation_uuid = getValFromUrlParam('annotation')\n      if (annotation_uuid != null) {\n        annotation_uuid = uuidWithHyphen(annotation_uuid)\n        if (this.annotationAreas[annotation_uuid] === undefined) return\n        this.selectAnnotation(annotation_uuid)\n        this.annotationAreas[annotation_uuid].scrollIntoView({block: \"start\", behavior: \"smooth\"})\n      }\n    }\n  }\n\n  componentDidMount() {\n    axios.get(constructGetDocumentQueryUrl(this.props.match.params.slug, this.props.isGroupDocument)).then(response => {\n      this.setState({\n        document: response.data\n      })\n      console.log(response.data)\n      PDFJS.workerSrc = '/static/pdfjs/pdf.worker.js'\n\n      const self = this\n      PDFJS.getDocument(response.data.url).then(function(pdf) {  // hard code a pdf ulr and test\n        self.pdfDoc = pdf\n        self.setState({\n          numPages: pdf.numPages,\n        })\n        self.setState({loading: false})\n        self.renderAnnotationAreas(pdf.numPages)\n        self.configSizeAccordingToLastPageAndRenderTheFirstSeveralPages(pdf)\n      })\n\n      window.addEventListener('scroll', this.handleScroll, { passive: true })\n    })\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll)\n    this.changeToViewMode()  // enable scrolling\n  }\n\n  render() {\n    var selectedAnnotation = this.state.selectedAnnotation\n\n    function getPositionRelativeToPageTopLeft(e, pageIndex) {\n      var touch_absolute_x = e.touches.item(0).pageX  // relative to the left top corner of the body\n      var touch_absolute_y = e.touches.item(0).pageY\n      const page = document.getElementById('page-div-' + pageIndex)\n      const page_top_left_x = page.offsetLeft\n      const page_top_left_y = page.offsetTop\n      return [touch_absolute_x - page_top_left_x, touch_absolute_y - page_top_left_y]\n    }\n\n    function gestureOnRND(e) {\n      var target;\n      if (e.touches.item(0) === null)\n        target = e.target\n      else\n        target = e.touches.item(0).target\n      const annotationBeingCreated = document.getElementById('annotation-being-created')\n      if (annotationBeingCreated !== null)\n        if (annotationBeingCreated === target || annotationBeingCreated.contains(target))\n          return true\n      return false\n    }\n\n    var viewWrapper = (\n      <div\n        ref={(ele) => this.viewerWrappper = ele}\n        className='viewer-wrapper'\n      >\n        {\n          range(this.state.numPages).map((i) => {\n            const pageIndex = i + 1\n            return (\n              <div\n                className='page-div' key={pageIndex}\n                id={'page-div-' + pageIndex}\n                style={{position: 'relative', width: this.state.sampleWidth, height: this.state.sampleHeight}}\n                onTouchStart={(e) => {\n                  if (this.state.mode === 'view') return\n                  if (gestureOnRND(e)) return\n                  if (this.state.creatingAnnotationAtPageIndex !== undefined) return  // && this.state.creatingAnnotationAtPageIndex === pageIndex\n\n                  this.annotationFirstTouch = true\n                  const [bottom_right_relative_x, bottom_right_relative_y] = getPositionRelativeToPageTopLeft(e, pageIndex)\n                  this.setState({\n                    creatingAnnotationAtPageIndex: pageIndex,\n                    originalAnnotationX: bottom_right_relative_x,\n                    originalAnnotationY: bottom_right_relative_y,\n                    newAnnotationX: bottom_right_relative_x,\n                    newAnnotationY: bottom_right_relative_y,\n                    newAnnotationWidth: 0,\n                    newAnnotationHeight: 0,\n                  })\n                }}\n                onTouchMove={(e) => {\n                  if (this.state.mode === 'view') return\n                  if (gestureOnRND(e)) return\n                  if (!this.annotationFirstTouch) return\n\n                  const [bottom_right_relative_x, bottom_right_relative_y] = getPositionRelativeToPageTopLeft(e, pageIndex)\n                  var newAnnotationX = bottom_right_relative_x > this.state.originalAnnotationX ? this.state.originalAnnotationX : bottom_right_relative_x\n                  newAnnotationX = Math.max(0.01, newAnnotationX)\n                  var newAnnotationY = bottom_right_relative_y > this.state.originalAnnotationY ? this.state.originalAnnotationY : bottom_right_relative_y\n                  newAnnotationY = Math.max(0.01, newAnnotationY)\n\n                  var newAnnotationWidth = Math.abs(bottom_right_relative_x - this.state.originalAnnotationX)\n                  if (bottom_right_relative_x < this.state.originalAnnotationX)\n                    newAnnotationWidth = Math.min(newAnnotationWidth, this.state.originalAnnotationX)\n                  else\n                    newAnnotationWidth = Math.min(newAnnotationWidth, this.state.sampleWidth - newAnnotationX)\n\n                  var newAnnotationHeight = Math.abs(bottom_right_relative_y - this.state.originalAnnotationY)\n                  if (bottom_right_relative_y < this.state.originalAnnotationY)\n                    newAnnotationHeight = Math.min(newAnnotationHeight, this.state.originalAnnotationY)\n                  else\n                    newAnnotationHeight = Math.min(newAnnotationHeight, this.state.sampleHeight - newAnnotationY)\n\n                  this.setState({ newAnnotationWidth: newAnnotationWidth, newAnnotationHeight: newAnnotationHeight })\n                  this.rnd.updatePosition({ x: newAnnotationX, y: newAnnotationY })\n                }}\n                onTouchEnd={(e) => {\n                  if (this.state.mode === 'view') return\n                  if (gestureOnRND(e)) return\n                  this.setState({\n                    newAnnotationX: this.rnd.draggable.state.x,\n                    newAnnotationY: this.rnd.draggable.state.y,\n                    newAnnotationWidth: this.rnd.props.size.width,\n                    newAnnotationHeight: this.rnd.props.size.height,\n                  })\n                  if (this.annotationFirstTouch) {\n                    this.annotationFirstTouch = false\n                    this.setState({newAnnotationInputOpen: true})\n                    return\n                  }\n                }}\n              >\n                <canvas style={{position: 'absolute'}} className='page-canvas' id={'page-canvas-' + (i + 1)}></canvas>\n                {\n                  this.state.creatingAnnotationAtPageIndex === pageIndex ?\n                  <Rnd\n                    ref={c => { this.rnd = c; }}\n                    bounds='parent'\n                    size={{ width: this.state.newAnnotationWidth,  height: this.state.newAnnotationHeight }}\n                    id='annotation-being-created'\n                    className='annotation-area'\n                    onDragStop={(e, d) => { this.setState({ newAnnotationX: d.x, newAnnotationY: d.y }) }}\n                    onResizeStop={(e, direction, ref, delta, position) => {\n                      direction = direction.toLowerCase()\n                      this.setState({\n                        newAnnotationWidth: parseFloat(ref.style.width),\n                        newAnnotationHeight: parseFloat(ref.style.height),\n                        newAnnotationX: position.x - (direction.includes(\"left\") ? delta.width : 0),\n                        newAnnotationY: position.y - (direction.includes(\"top\") ? delta.height : 0),\n                      });\n                    }}\n                  >\n                  </Rnd> : null\n                }\n                {\n                  this.state.annotationsByPage[pageIndex] !== undefined ?\n                    this.state.annotationsByPage[pageIndex].map(annotation =>\n                      <Tappable\n                        key={annotation.pk}\n                        moveThreshold={10}\n                        onTap={() => {\n                          if (this.state.mode === 'comment') return\n                          this.selectAnnotation(annotation.uuid)\n                        }}\n                      >\n                        <div\n                          className='annotation-area'\n                          style={{\n                            background: annotation.frame_color,\n                            position: 'absolute',\n                            width: this.state.sampleWidth * annotation.width_percent,\n                            height: this.state.sampleHeight * annotation.height_percent,\n                            left: this.state.sampleWidth * annotation.left_percent,\n                            top: this.state.sampleHeight * annotation.top_percent,\n                          }}\n                          ref={ele => this.annotationAreas[annotation.uuid] = ele}\n                          annotation-id={annotation.pk}\n                          annotation-uuid={annotation.uuid}\n                        >\n                        </div>\n                      </Tappable>\n                    ) : null\n                }\n              </div>\n            )\n          })\n        }\n      </div>\n    )\n\n    return (\n      <div>\n        <NavBar\n          mode=\"light\"\n          icon={<Icon type=\"left\" onClick={() => {\n            // handle case where user clicks on a document link that opens\n            // a new browser tab. in this case, history.goBack() will\n            // do nothing since there is no previous page.\n            if (this.props.history && this.props.history.length < 2) {\n              // TODO: if this is a group's document, go to the group's explore instead\n\n              // else go to public explore\n              this.props.history.push('/explore')\n            } else {\n              this.props.history.goBack()\n            }\n          }}/>}\n          rightContent={[\n            <Icon key=\"1\" type=\"ellipsis\" />,\n          ]}\n          style={{\n            boxShadow: '0px 1px 3px rgba(28, 28, 28, .1)',\n            zIndex: 10000000, position: 'relative',\n            // borderBottom: '1px solid #c8c8c8',\n            // height: 38\n          }}\n        >\n          <span className='document-title'>{this.state.document.title}</span>\n        </NavBar>\n\n        <ActivityIndicator toast animating={this.state.loading} />\n\n        <Tappable\n          // onTouchStart={e => this.touchTimer = setInterval((() => this.touchLength += 10), 10)}\n          moveThreshold={10}\n          onTap={(e) => {\n            // console.log(e.targetTouches)\n            // console.log(e.target)\n            // console.log(e.touches)\n            // console.log(this.touchLength)\n            // if (this.touchLength < TAP_TIME_THRESHOLD) {\n            if (this.state.mode === 'comment') return\n            const target = e.target\n            if (target.classList.contains('page-canvas'))\n              this.deselectAnnotation()\n            this.setState({showFloatButton: !this.state.showFloatButton})\n            // }\n            // this.touchLength = 0\n            // clearInterval(this.touchTimer)\n          }}\n        >\n          {viewWrapper}\n        </Tappable>\n\n        <Drawer\n          anchor=\"bottom\"\n          open={this.state.annotationOpen}\n          onClose={() => this.deselectAnnotation()}\n          // ModalProps={{BackdropProps: {invisible: true}}}\n          variant='persistent'\n        >\n          <div>\n            <div\n              // style={{borderBottom: 'solid #ddd 1px', marginBottom: 8}}\n            >\n              <IconButton component=\"span\" style={{left: 8, padding: 6}}\n                disabled={getPrevAnnotation(this.state.selectedAnnotation, this.state.annotationsByPage) === undefined}\n                onClick={e => {\n                  const prevAnnotation = getPrevAnnotation(this.state.selectedAnnotation, this.state.annotationsByPage)\n                  this.selectAnnotation(prevAnnotation.uuid)\n                  this.annotationAreas[prevAnnotation.uuid].scrollIntoView({block: \"start\", behavior: \"smooth\"})\n                }}\n              >\n                <KeyboardArrowLeft />\n              </IconButton>\n              <IconButton component=\"span\" style={{position: 'absolute', right: '12vw', padding: 6}}>\n                <FormatListBulletedRounded />\n              </IconButton>\n              <IconButton component=\"span\" style={{position: 'absolute', right: 8, padding: 6}}\n                disabled={getNextAnnotation(this.state.selectedAnnotation, this.state.annotationsByPage, this.state.numPages) === undefined}\n                onClick={e => {\n                  const nextAnnotation = getNextAnnotation(this.state.selectedAnnotation, this.state.annotationsByPage, this.state.numPages)\n                  this.selectAnnotation(nextAnnotation.uuid)\n                  this.annotationAreas[nextAnnotation.uuid].scrollIntoView({block: \"start\", behavior: \"smooth\"})\n                }}\n              >\n                <KeyboardArrowRight />\n              </IconButton>\n            </div>\n\n            <div ref={ele => this.annotationWrapper = ele}>\n              {\n                selectedAnnotation !== undefined ? (\n                  <AnnotationThread\n                    document={this.state.document}\n                    selectedAnnotation={selectedAnnotation}\n                    annotationArea={this.annotationAreas[selectedAnnotation.uuid]}\n                    annotations={this.state.annotations}\n                    annotationsByPage={this.state.annotationsByPage}\n                    setParentState={this.setState.bind(this)}\n                    pdfDocument={this.state.document}\n                  />\n                ) : null\n              }\n            </div>\n          </div>\n        </Drawer>\n\n        <Drawer\n          anchor=\"bottom\" variant='persistent'\n          open={this.state.newAnnotationInputOpen}\n        >\n          <div style={{textAlign: 'center'}}>\n            {/* <TextareaItem\n              title={<img\n                alt=\"Remy Sharp\"\n                style={{ height: 28, width: 28 }}\n                src=\"https://pmcvariety.files.wordpress.com/2015/07/naruto_movie-lionsgate.jpg?w=1000\"\n              />}\n              placeholder=\"auto focus in Alipay client\"\n              data-seed=\"logId\"\n              ref={el => this.autoFocusInst = el}\n              autoHeight\n            /> */}\n            <Avatar\n              alt=\"User Portrait\"\n              style={{ float: 'left', marginTop: '2%', marginLeft: '2%'}}\n              src={this.props.user.portrait_url}\n            />\n            <MuiThemeProvider theme={createMuiTheme({\n                palette: {\n                  primary: {\n                    main: '#3498db',\n                  }\n                },\n              })}\n            >\n              <TextField\n                id=\"standard-bare\"\n                // className={classes.textField}\n                // defaultValue=\"Bare\"\n                // onFocus={() => {\n                //   window.scrollTo(0, document.getElementById('annotation-being-created').getBoundingClientRect().top + window.scrollY)\n                // }}\n                placeholder=\"Type in your comment...\" margin=\"normal\" style={{width: '66vw', top: -2}}\n                multiline fullWidth value={this.state.newAnnotationContent}\n                onChange={event => {\n                  this.setState({newAnnotationContent: event.target.value})\n                }}\n              />\n            </MuiThemeProvider>\n            {\n              this.state.newAnnotationContent.length === 0\n              ? <FontAwesomeIcon icon={['fas', 'times-circle']} id='cancel-annotation-btn' onClick={this.cancelCurrentAnnotation} />\n              : <FontAwesomeIcon icon={['fas', 'paper-plane']} id='post-annotation-btn' onClick={this.postAnnotation} />\n            }\n          </div>\n        </Drawer>\n\n        <Drawer\n          anchor=\"bottom\"\n          open={this.state.annotationLinearLinkedListOpen}\n          onClose={() => this.reopenAnnotationThread()}\n          variant='persistent'\n        >\n          {/* <Grid container justify=\"space-between\" alignItems=\"center\"> */}\n          <div style={{textAlign: 'center'}}>\n            <Avatar\n              alt=\"User Portrait\"\n              style={{ float: 'left', marginTop: '2%', marginLeft: '2%'}}\n              src={this.props.user.portrait_url}\n            />\n            <MuiThemeProvider theme={createMuiTheme({\n                palette: {\n                  primary: {\n                    main: '#3498db',\n                  }\n                },\n              })}\n            >\n              <TextField\n                ref={ele => this.annotationReplyText = ele}\n                // className={classes.textField}\n                // defaultValue=\"Bare\"\n                placeholder=\"Type in your reply...\" margin=\"normal\" style={{width: '66vw', top: -2}}\n                multiline fullWidth value={this.state.newAnnotationReplyContent}\n                onChange={event => {\n                  this.setState({newAnnotationReplyContent: event.target.value})\n                }}\n              />\n            </MuiThemeProvider>\n            {\n              this.state.newAnnotationReplyContent.length === 0\n              ? <FontAwesomeIcon icon={['fas', 'times-circle']} className='cancel-comment-btn' onClick={this.cancelCurrentAnnotationReply} />\n              : <FontAwesomeIcon icon={['fas', 'paper-plane']} className='commit-comment-btn' onClick={this.postAnnotationReply} />\n            }\n          </div>\n          {/* </Grid> */}\n        </Drawer>\n\n        <Drawer\n          anchor=\"bottom\"\n          open={this.state.editCommentOpen}\n          onClose={() => this.reopenAnnotationThread()}\n          variant='persistent'\n        >\n          {/* <Grid container justify=\"space-between\" alignItems=\"center\"> */}\n          <div style={{textAlign: 'center'}}>\n            <Avatar\n              alt=\"User Portrait\"\n              style={{ float: 'left', marginTop: '2%', marginLeft: '2%'}}\n              src={this.props.user.portrait_url}\n            />\n            <MuiThemeProvider theme={createMuiTheme({\n                palette: {\n                  primary: {\n                    main: '#3498db',\n                  }\n                },\n              })}\n            >\n              <TextField\n                ref={ele => this.editText = ele}\n                // className={classes.textField}\n                // defaultValue=\"Bare\"\n                placeholder=\"Type in your edit...\" margin=\"normal\" style={{width: '66vw', top: -2}}\n                multiline fullWidth value={this.state.editTextContent}\n                onChange={event => {\n                  this.setState({editTextContent: event.target.value})\n                }}\n              />\n            </MuiThemeProvider>\n            {\n              this.state.editTextContent.length === 0\n              ? <FontAwesomeIcon icon={['fas', 'times-circle']} className='cancel-comment-btn' onClick={this.cancelEdit} />\n              : <FontAwesomeIcon icon={['fas', 'paper-plane']} className='commit-comment-btn' onClick={this.postEdit} />\n            }\n          </div>\n          {/* </Grid> */}\n        </Drawer>\n\n        { this.state.mode === 'view'\n          ? <FloatButton color='rgb(27, 163, 156)' icon={<AddComment style={{ color: 'white' }} />} show={this.state.showFloatButton} clickCallback={this.changeToCommentMode} />\n          : <FloatButton color='#108ee9' icon={<DoneAll style={{ color: 'white' }} />} show={true} clickCallback={this.changeToViewMode} />}\n      </div>\n    );\n  }\n}\n\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    coteries: state.coteries\n  };\n}\n\nexport default connect(mapStateToProps, actions)(DocumentViewer);\n","import * as actions from '../actions';\n\nimport { ActivityIndicator, Icon, List, NavBar, Toast, WhiteSpace } from 'antd-mobile';\nimport React, { Component } from 'react';\nimport { copyToClipboard, getCookie } from '../utilities/helper';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\n// import CircularProgress from '@material-ui/core/CircularProgress';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Favorite from '@material-ui/icons/FavoriteBorder';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport IconButton from '@material-ui/core/IconButton';\nimport Navbar from './nav_bar';\nimport ShareIcon from '@material-ui/icons/Share';\nimport TimeAgo from 'react-timeago'\nimport Typography from '@material-ui/core/Typography';\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport pdfIcon from '../utilities/pdf.png';\n\nclass Readlist extends Component {\n\n  state = {\n    collected: false,\n    loading: true\n  }\n\n  componentDidMount() {\n    const { slug } = this.props.match.params;\n    const fetchData = async () => {\n      try {\n        await this.props.getReadlist(slug);\n        await this.props.getUser();\n        await this.props.getMyReadlists();\n      } catch (error) {\n        console.error(error);\n        return;\n      }\n      const collected = this.props.user.collectedReadlists.includes(this.props.readlists.readlist.slug);\n      const isOwner = this.props.user.pk == this.props.readlists.readlist.owner.pk;\n      console.log(this.props.user);\n      this.setState({\n        collected,\n        isOwner,\n        loading: false\n      });\n    };\n    fetchData();\n  }\n\n  onCollectIconClick = () => {\n    const readlist = this.props.readlists.readlist;\n    if (this.state.isOwner) {\n      Toast.fail('You are the owner of this readlist')\n      return\n    }\n    let data = new FormData();\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n    if (this.state.collected) {\n      console.log(\"uncollectin\")\n      this.props.uncollectReadlist(data, readlist.slug).then(() => {\n        this.setState({collected: false})\n        console.log(\"uncollected\")\n      });\n    } else {\n      console.log(\"collectin\")\n      this.props.collectReadlist(data, readlist.slug).then(() => {\n        this.setState({collected: true})\n        console.log(\"collected\")\n      });\n    }\n    // this.props.uncollectDocument(currDocument.uncollectUrl, data, currDocument.slug);\n  }\n\n  onShareIconClick() {\n    const url = window.location;\n    copyToClipboard(url);\n    Toast.success('Copied to clipboard!', 1);\n  }\n\n  renderDocumentList() {\n    const data = this.props.readlists.readlist.documents.map(element => {\n      return (\n        <List.Item\n          key={element.slug}\n          arrow=\"horizontal\"\n          thumb={<img src={pdfIcon} alt='pdf-icon' style={{height: 28, width: 24}} />}\n          multipleLine\n          onClick={() => {this.props.history.push(`/documents/${element.slug}`)}}\n        >\n          {element.title}\n          <List.Item.Brief>{moment(element.upload_time).format(\"MMMM Do YYYY, h:mm a\")}</List.Item.Brief>\n        </List.Item>\n      )\n    })\n    return (\n      <div>\n        <WhiteSpace />\n        <List>\n          {data}\n        </List>\n      </div>\n    )\n  }\n\n  renderReadlistCard() {\n    const readlist = this.props.readlists.readlist;\n    const isOwner = this.state.isOwner;\n    return (\n      <Card style={{margin: '15px 15px 5px 15px'}}>\n        <CardContent>\n          <CardHeader\n            style={{paddingTop: '0', paddingRight: '0'}}\n            action={\n              isOwner ? (\n                <IconButton>\n                  <EditIcon onClick={() => {this.props.history.push(\"/edit-readlist-form/\" + this.props.readlists.readlist.slug)}} />\n                </IconButton>\n              ) : (\n                <div></div>\n              )\n            }\n          />\n          <div style={{textAlign: 'center'}}>\n            <Typography variant=\"h5\" component=\"h5\">\n              {readlist.name}\n            </Typography>\n            <Typography variant=\"subtitle1\" style={{ whiteSpace: 'pre-wrap', wordBreak: 'break-all', hyphens: 'auto', fontSize: 12, marginTop: 12 }}>\n              {readlist.description}\n            </Typography>\n            <br />\n            <div style={{display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\n              <Avatar alt={readlist.owner.nickname} src={readlist.owner.portrait_url} style={{width: 28, height: 28}}/>\n              <Typography variant=\"subtitle2\" color=\"textSecondary\" style={{paddingLeft: 5}}>\n                {readlist.owner.nickname} created {<TimeAgo date={readlist.create_time} />}\n              </Typography>\n            </div>\n          </div>\n        </CardContent>\n        <CardActions>\n          <IconButton aria-label=\"Add to favorites\">\n            {this.state.collected?\n              <FavoriteIcon onClick={this.onCollectIconClick}/> :\n              <Favorite onClick={this.onCollectIconClick}/>\n            }\n          </IconButton>\n          <IconButton aria-label=\"Share\">\n            <ShareIcon onClick={this.onShareIconClick}/>\n          </IconButton>\n        </CardActions>\n      </Card>\n    )\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div>\n          <Navbar title=\"Readlists\" history={this.props.history} match={this.props.match}/>\n          <ActivityIndicator toast animating={this.state.loading} />\n          {/* <CircularProgress style={{color:\"#1BA39C\",  marginTop: \"38vh\"}} size='10vw' thickness={5} /> */}\n        </div>\n      )\n    }\n    return (\n      <div>\n        <NavBar\n          mode=\"light\"\n          history={this.props.history}\n          icon={<Icon type=\"left\" onClick={() => this.props.history.goBack()}/>}\n          style={{\n            boxShadow: '0px 1px 3px rgba(28, 28, 28, .1)',\n            zIndex: 10000000,\n            position: 'relative',\n            // borderBottom: '1px solid #c8c8c8',\n            // height: 38\n          }}\n        >\n          <span className='document-title'>\n          Readlists\n          </span>\n        </NavBar>\n        {this.renderReadlistCard()}\n        {this.renderDocumentList()}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    readlists: state.readlists,\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Readlist);\n","import _ from 'lodash';\nimport React from 'react'\nimport { NavBar, Icon, ActivityIndicator, List, WhiteSpace, Button } from 'antd-mobile';\nimport { connect } from 'react-redux';\nimport Navbar from './nav_bar';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport * as actions from '../actions';\nimport { StickyContainer } from 'react-sticky';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { getCookie } from '../utilities/helper';\n\nclass AddToReadlist extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: true,\n      currDocument: {},\n      readlists: []\n    }\n  }\n\n  componentDidMount() {\n    let groupUuid = this.props.match.params.groupUuid;\n    const fetchData = async () => {\n      try {\n        if (groupUuid) {\n        } else {\n          await this.props.getMyDocuments();\n          await this.props.getMyReadlists();\n        }\n      } catch (error) {\n        console.error(error);\n        return;\n      }\n      const currDocument = this.props.documents[window.location.href.split('/').pop()]\n      const currDocumentUuid = currDocument.uuid.replace(/-/g, '');\n      let readlists = this.props.user.createdReadlists.map(slug => {\n        let element = this.props.readlists[slug];\n          return {\n            uuid: element.uuid,\n            name: element.name,\n            count: element.documents_uuids.length,\n            checked: element.documents_uuids.includes(currDocumentUuid)\n          }\n        })\n      this.setState({currDocument: currDocument, loading: false, readlists: readlists})\n    }\n    fetchData();\n  }\n\n  handleChange = (index) => () => {\n    console.log(this.state);\n    const {readlists} = this.state;\n    readlists[index].checked = !readlists[index].checked;\n    readlists[index].checked ? readlists[index].count++ : readlists[index].count--;\n    this.setState({\n      readlists\n    });\n  }\n\n  handleSubmit = () => {\n    const {currDocument, readlists} = this.state;\n    const addReadlists = readlists.filter((element) => {return element.checked}).map((element) => {return element.uuid});\n    const removeReadlists = readlists.filter((element) => {return !element.checked}).map((element) => {return element.uuid});\n    let data = new FormData();\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n    for (let i = 0; i < addReadlists.length; i++) {\n      data.append('add_readlists[]', addReadlists[i]);\n    }\n    for (let i = 0; i < removeReadlists.length; i++) {\n      data.append('remove_readlists[]', removeReadlists[i]);\n    }\n    this.props.documentChangeReadlists(currDocument.pk, data);\n    this.props.history.goBack();\n  }\n\n  renderOwnedReadlists() {\n    if (_.isEmpty(this.state.readlists)) {\n      return (\n        <div></div>\n      )\n    }\n    const data = this.state.readlists.map((readlist, index) => {\n      return (\n        <div key={readlist.uuid}>\n          <List.Item\n            thumb={\n              <Checkbox\n                color=\"primary\"\n                checked={readlist.checked}\n                onChange={this.handleChange(index)}\n              />\n            }\n            multipleLine\n          >\n            {readlist.name}\n            <List.Item.Brief>{readlist.count + \" Document(s)\"}</List.Item.Brief>\n          </List.Item>\n        </div>\n      )\n    })\n    return (\n      <div>\n        <List>\n          {data}\n          <List.Item>\n            <Button\n              type=\"primary\"\n              style={{backgroundColor: \"#1BA39C\"}}\n              onClick={() => this.handleSubmit()}\n            >OK</Button>\n          </List.Item>\n        </List>\n      </div>\n    )\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div>\n          <Navbar title=\"Add To Readlist\" history={this.props.history} match={this.props.match}/>\n          <CircularProgress style={{color:\"#1BA39C\",  marginTop: \"38vh\"}} size='10vw' thickness={5} />\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <NavBar\n          mode=\"light\"\n          icon={<Icon type=\"left\" onClick={() => this.props.history.goBack()}/>}\n          style={{\n            boxShadow: '0px 1px 3px rgba(28, 28, 28, .1)',\n            zIndex: 10000000,\n            position: 'relative',\n            // borderBottom: '1px solid #c8c8c8',\n            // height: 38\n          }}\n        >\n          <span className='document-title'>\n            Add To Readlist\n          </span>\n        </NavBar>\n        <StickyContainer>\n        <WhiteSpace />\n        <div style={{ justifyContent: 'center', height: '100%'}}>\n          {this.renderOwnedReadlists(this.props.user.createdReadlists)}\n        </div>\n        </StickyContainer>\n        <WhiteSpace />\n\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    readlists: state.readlists,\n    documents: state.documents,\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps, actions)(AddToReadlist);\n","import 'regenerator-runtime/runtime'\nimport 'antd-mobile/dist/antd-mobile.css'\n\nimport { Icon, Toast, NavBar, Button, List, WhiteSpace } from 'antd-mobile';\nimport {\n  faFacebook,\n  faGoogle\n} from '@fortawesome/free-brands-svg-icons'\nimport {\n  faUserPlus,\n  faUsers\n} from '@fortawesome/free-solid-svg-icons'\n\nimport Card from '@material-ui/core/Card';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport Logo from '../../logo.svg'\nimport MButton from '@material-ui/core/Button';\nimport React from 'react'\nimport Snackbar from '@material-ui/core/Snackbar';\nimport TextField from '@material-ui/core/TextField';\nimport axios from 'axios'\nimport { getCookie } from '../../utilities/helper';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport * as actions from '../../actions';\nimport { connect } from 'react-redux';\n\n// import { MySnackbarContentWrapper } from './components/alert_message.jsx'\n\nlibrary.add(faFacebook, faGoogle, faUsers, faUserPlus)\n\n/*eslint no-undef: \"off\"*/\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n    }\n\n    this.signOff = () => {\n      var data = new FormData()\n      data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n      this.props.signOff(data).then(response => {\n        this.props.getUser();\n        this.props.history.goBack();\n      }).catch(error => console.log(error))\n    }\n  }\n\n  componentDidMount() {\n  }\n\n  renderNavBar() {\n    return (\n      <NavBar\n        mode=\"light\"\n        icon={<Icon type=\"left\" onClick={() => this.props.history.goBack()}/>}\n        style={{\n          boxShadow: '0px 1px 3px rgba(28, 28, 28, .1)',\n          zIndex: 10000000,\n          position: 'relative',\n\n        }}\n      >\n        <span>\n          Profile\n        </span>\n      </NavBar>\n    )\n  }\n\n  render() {\n\n    if (!this.props.user) {\n      return (\n        <div>\n          {this.renderNavBar()}\n          You are not signed in!\n        </div>\n      )\n    }\n\n    console.log(this.props.user);\n    return (\n      <div>\n        {this.renderNavBar()}\n\n        <WhiteSpace />\n        <List>\n          <List.Item\n            extra={<img src={this.props.user.portrait_url} alt='img' style={{borderRadius:'50%'}} />} >\n            Portrait\n          </List.Item>\n          <List.Item\n            extra={this.props.user.nickname}>\n            Nickname\n          </List.Item>\n          <List.Item>\n            Email\n            <List.Item.Brief style={{textAlign:'right'}}>{this.props.user.email_address}</List.Item.Brief>\n          </List.Item>\n        </List>\n\n        <Button\n          type=\"primary\"\n          style={{backgroundColor: \"#1BA39C\", marginTop: 28}}\n          onClick={() => this.signOff()}\n        >\n          Log out\n        </Button>\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Profile);\n","import _ from 'lodash';\nimport React from 'react';\nimport * as actions from '../../actions';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport PeopleOutlineIcon from '@material-ui/icons/PeopleOutline';\nimport { Toast } from 'antd-mobile';\nimport { getCookie } from '../../utilities/helper';\n\n\nclass ApplyCoterieDialog extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      applyCoterieModal: false,\n      checked: false,\n    };\n  }\n\n  handleChange = (event, value) => {\n    this.setState({ checked: value });\n  }\n\n  handleFormSubmit(coterie) {\n    let data = new FormData()\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n    if (this.state.checked) {\n      data.append('invitation_code', this.state.invitationCode)\n\n      this.props.joinCoterieWithCode(data, coterie.pk)\n        .then(response => {\n          Toast.success('Success', 1)\n          this.props.history.push(`/groups/${response.payload.data.uuid}/explore`);\n        })\n        .catch(error => {\n          console.log(error);\n          Toast.fail('This invitation code does not exist or already expires', 2.8)\n        })\n    }\n    if (!this.state.checked) {\n      data.append('coterie_id', coterie.pk)\n      data.append('application_message', this.state.message)\n      this.props.applyCoterie(data)\n        .then(response => {\n          Toast.success('Your application has been sent', 2)\n          // this.props.history.push(`/groups/${response.payload.data.uuid}/explore`);\n        })\n        .catch(error => {\n          console.log(error);\n          Toast.fail('Unsuccessful application. Your need to login first.', 2.8)\n        })\n    }\n  }\n\n  render() {\n    const { coterie, onClose, open } = this.props;\n    const dialogMessage = \"Have an invitation code?\"\n\n    return (\n      <Dialog\n        open={open}\n        onClose={onClose}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n\n          Apply to join {coterie && coterie.name}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            {coterie && coterie.description} <br/>\n          </DialogContentText>\n          { this.state.checked &&\n            <TextField\n              required\n              autoFocus\n              multiline\n              margin=\"dense\"\n              id=\"textField\"\n              label=\"Invitation Code\"\n              fullWidth\n              value={this.state.invitationCode}\n              onChange={(e) => {\n                this.setState({invitationCode: e.target.value})\n              }}\n            />\n          }\n          { !this.state.checked &&\n            <TextField\n              required\n              autoFocus\n              multiline\n              margin=\"dense\"\n              id=\"textField\"\n              label=\"Application Message\"\n              fullWidth\n              value={this.state.message}\n              onChange={(e) => {\n                this.setState({message: e.target.value})\n              }}\n            />\n          }\n          <Checkbox\n            color=\"primary\"\n            checked={this.state.checked}\n            onChange={this.handleChange}\n          />\n          {dialogMessage}\n        </DialogContent>\n        <DialogActions>\n          <Button\n            color=\"primary\"\n            onClick={() => onClose('applyCoterieModal')}>\n            Cancel\n          </Button>\n          <Button\n            disabled={(this.state.checked && _.isEmpty(this.state.invitationCode)) ||\n              (!this.state.checked && _.isEmpty(this.state.message))}\n            color=\"primary\"\n            onClick={() => {\n              onClose('applyCoterieModal');\n              this.handleFormSubmit(coterie);\n            }}>\n            {this.state.checked ? 'Join with code': 'Apply'}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n  };\n}\n\nexport default connect(mapStateToProps, actions)(ApplyCoterieDialog);\n","import * as actions from '../../actions';\n\nimport { ActivityIndicator, Icon, List, NavBar, WhiteSpace } from 'antd-mobile';\n\nimport ApplyCoterieDialog from './applyCoterieDialog';\nimport InputBase from \"@material-ui/core/InputBase\";\nimport PeopleOutlineIcon from '@material-ui/icons/PeopleOutline';\nimport React from 'react'\nimport { StickyContainer } from 'react-sticky';\nimport TimeAgo from 'react-timeago'\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport _ from 'lodash';\nimport { connect } from 'react-redux';\nimport pdfIcon from '../../utilities/pdf.png';\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: false,\n      searchTerm: '',\n      applyCoterieDialog: false,\n    }\n  }\n\n  componentDidMount() {\n    this.props.getMyCoteries();\n  }\n\n  showModal(key, e) {\n    e.preventDefault();\n    this.setState({\n      [key]: true,\n    });\n  }\n\n  onClose(key) {\n    this.setState({\n      [key]: false,\n    });\n  }\n\n  onChange = (e) => {\n    e.preventDefault();\n    const searchTerm = e.target.value;\n    const groupUuid = this.props.match.params.groupUuid;\n    this.setState({searchTerm: searchTerm})\n    if (searchTerm !== '') {\n      if (groupUuid) {\n        this.props.getCoterieSearchResults(searchTerm, groupUuid);\n        return;\n      }\n      this.props.getSearchResults(searchTerm);\n    }\n  };\n\n  renderSearchResultList(results) {\n    if (!results || this.state.searchTerm === '') {\n      return (\n        <div></div>\n      )\n    }\n    const groupUuid = this.props.match.params.groupUuid;\n    let data = [];\n    if (results.documents) {\n      const documents = results.documents.map(element => {\n        return ({\n          sortKey: element.title,\n          jsx: (\n            <List.Item\n              key={element.slug}\n              arrow=\"horizontal\"\n              thumb={<img src={pdfIcon} alt='pdf-icon' style={{height: 28, width: 24}} />}\n              multipleLine\n              onClick={() => {this.props.history.push(element.viewer_url)}}\n            >\n              {element.title}\n              <List.Item.Brief>\n                Uploaded by {element.uploader_name}, <TimeAgo date={element.upload_time} />\n              </List.Item.Brief>\n            </List.Item>\n          )\n        })\n      })\n      data = data.concat(documents);\n    }\n    if (results.readlists) {\n      const readlists = results.readlists.map(element => {\n        return ({\n          sortKey: element.name,\n          jsx: (\n            <List.Item\n              key={element.slug}\n              arrow=\"horizontal\"\n              thumb={<img src={pdfIcon} alt='pdf-icon' style={{height: 28, width: 24}} />}\n              multipleLine\n              onClick={() => {this.props.history.push(`readlists/${element.slug}`)}}\n            >\n              {element.name}\n              <List.Item.Brief>\n                Created by {element.owner.nickname}, <TimeAgo date={element.create_time} />\n              </List.Item.Brief>\n            </List.Item>\n          )\n        })\n      })\n      data = data.concat(readlists);\n    }\n    if (results.users) {\n      const users = results.users.map(element => {\n        return ({\n          sortKey: element.nickname,\n          jsx: (\n            <List.Item\n              key={element.pk}\n              arrow=\"horizontal\"\n              thumb={<img src={element.portrait_url} alt='user-avatar' style={{width: 24, height: 24, borderRadius: 2}} />}\n              multipleLine\n              onClick={() => {console.log(\"user with pk \" + element.pk + \" clicked\")}}\n            >\n              {element.nickname}\n              <List.Item.Brief>\n                {element.email_address}\n              </List.Item.Brief>\n            </List.Item>\n          )\n        })\n      })\n      data = data.concat(users);\n    }\n    if (results.coteries) {\n      const coterie = results.coteries.map(element => {\n        return ({\n          sortKey: element.name,\n          jsx: (\n            <List.Item\n              key={element.pk}\n              arrow=\"horizontal\"\n              thumb={<PeopleOutlineIcon style={{color: 'grey'}}/>}\n              multipleLine\n              onClick={(e) => {\n                if (this.props.user.administratedCoteries.includes(element.uuid) ||\n                  this.props.user.joinedCoteries.includes(element.uuid)) {\n                    this.props.history.push(`/groups/${element.uuid}/explore`);\n                  }\n                else {\n                  this.setState({selectedCoterie: element})\n                  this.showModal('applyCoterieDialog', e);\n                }\n              }}\n            >\n              {element.name}\n              <List.Item.Brief>\n                {element.description}\n              </List.Item.Brief>\n            </List.Item>\n          )\n        })\n      })\n      data = data.concat(coterie);\n    }\n\n    data = data\n      .sort((a, b) => ('' + a.sortKey).localeCompare(b.sortKey))\n      .map(element => element.jsx);\n\n    return (\n      <div>\n        <List>\n          {data}\n        </List>\n      </div>\n    )\n  }\n\n  render() {\n    let placeholder = \"Search globally..\"\n    let groupUuid = this.props.match.params.groupUuid;\n    if (groupUuid && this.props.coteries[this.props.match.params.groupUuid]) {\n      placeholder = \"Search within \" + this.props.coteries[this.props.match.params.groupUuid]['name'];\n      if (placeholder.length > 25) placeholder = placeholder.slice(0, 25) + '...';\n    }\n    return (\n      <div>\n        <NavBar\n          mode=\"light\"\n          icon={<Icon type=\"left\" onClick={() => this.props.history.goBack()}/>}\n          style={{\n            boxShadow: '0px 1px 3px rgba(28, 28, 28, .1)',\n            zIndex: 10000000,\n            position: 'relative',\n            // borderBottom: '1px solid #c8c8c8',\n            // height: 38\n          }}\n        >\n          <span className='document-title'>\n            <Toolbar>\n              <InputBase\n                placeholder={placeholder}\n                autoFocus={true}\n                value={this.state.searchTerm || ''}\n                onChange={this.onChange}\n                fullWidth={true}\n              />\n            </Toolbar>\n          </span>\n        </NavBar>\n        <WhiteSpace />\n        <StickyContainer>\n\n        <div style={{ justifyContent: 'center', height: '100%'}}>\n          {this.renderSearchResultList(this.props.search)}\n        </div>\n        </StickyContainer>\n        <ApplyCoterieDialog\n          open={this.state.applyCoterieDialog}\n          onClose={() => this.onClose('applyCoterieDialog')}\n          coterie={this.state.selectedCoterie}\n          history={this.props.history}\n        />\n        <WhiteSpace />\n\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    search: state.search,\n    coteries: state.coteries,\n    user: state.user,\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Search);\n","import 'regenerator-runtime/runtime'\n// import 'typeface-roboto'\nimport 'antd-mobile/dist/antd-mobile.css'\nimport './login.css'\n\nimport { Icon, WhiteSpace, Toast } from 'antd-mobile';\nimport {\n  faFacebook,\n  faGoogle\n} from '@fortawesome/free-brands-svg-icons'\nimport {\n  faUserPlus,\n  faUsers\n} from '@fortawesome/free-solid-svg-icons'\n\nimport Card from '@material-ui/core/Card';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faUniversity} from '@fortawesome/free-solid-svg-icons'\nimport Logo from '../../logo.svg'\nimport MButton from '@material-ui/core/Button';\nimport React from 'react'\nimport Snackbar from '@material-ui/core/Snackbar';\nimport TextField from '@material-ui/core/TextField';\nimport axios from 'axios'\nimport { getCookie } from '../../utilities/helper';\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport * as actions from '../../actions';\nimport { connect } from 'react-redux';\n\n// import { MySnackbarContentWrapper } from './components/alert_message.jsx'\n\nlibrary.add(faFacebook, faGoogle, faUsers, faUserPlus, faUniversity)\n\n/*eslint no-undef: \"off\"*/\nclass Login extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isAuthenticated: false,\n      username: '',\n      password: '',\n      token: '',\n      errorMessage: false,\n    }\n\n    const self = this\n    this.clickLogin = function () {\n      var data = new FormData()\n      data.append('email_address', this.state.username)\n      data.append('password', this.state.password)\n      data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n      axios.post('/api/signin', data)\n        .then(function(response) {\n          if (response.status === 200) {\n            self.props.history.push('/uploads')\n            self.props.getUser();\n          }\n        })\n        .catch(function (error) {\n          console.log(error)\n          self.setState({ errorMessage: true })\n          Toast.offline('Email or password incorrect', 1.8);\n        });\n    }\n\n    this.facebookLogin = () => {\n      FB.login(function (response) {\n        var data = new FormData()\n        data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n        data.append('auth_response', JSON.stringify(response.authResponse))\n        axios.post('/api/signin/facebook', data).then((response) => {\n          self.props.getUser();\n          window.location.href = '/'\n        }).catch(e => {\n          Toast.offline('Facebook login unsuccessful', 1.8);\n        })\n      }, { scope: 'email' })  // TODO: get user' friends also\n    }\n\n    this.nusLogin = () => {\n      var host = 'https://' + window.location.host  // TODO: do not hardcode protocol\n      window.location.href = 'https://ivle.nus.edu.sg/api/login/?apikey=Z6Q2MnpaPX8sDSOfHTAnN&url=' + host + '/api/signin/nus'\n    }\n\n    this.handleMessageClose = (event, reason) => {\n      if (reason === 'clickaway') {\n        return\n      }\n      this.setState({ errorMessage: false })\n    }\n  }\n\n  componentDidMount() {\n    const self = this\n    function loadFBSdk(d, s, id) {\n      var js, fjs = d.getElementsByTagName(s)[0]\n      if (d.getElementById(id)) return\n      js = d.createElement(s); js.id = id\n      js.src = 'https://connect.facebook.net/en_US/sdk.js'\n      fjs.parentNode.insertBefore(js, fjs)\n    }\n    loadFBSdk(document, 'script', 'facebook-jssdk')\n    window.fbAsyncInit = function() {\n      FB.init({\n        appId: '213151942857648',  // TODO:\n        cookie: true,\n        xfbml: true,\n        version: 'v3.0'\n      })\n      FB.AppEvents.logPageView()\n      self.setState({ fbLoginButtonLoading: false })\n    }\n\n\n    var auth2 = undefined\n    function attachSignin(element) {\n      auth2.attachClickHandler(element, {},\n        function(googleUser) {\n          var data = new FormData()\n          data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n          data.append('id_token', googleUser.getAuthResponse().id_token)\n          axios.post('/api/signin/google', data).then((response) => {\n            self.props.getUser();\n            window.location.href = '/'\n          }).catch(e => {\n            console.log(e.response)\n            Toast.offline('Google login unsuccessful', 1.8)\n          })\n        }, function(error) {\n          console.log(JSON.stringify(error, undefined, 2))\n          Toast.offline('Google login unsuccessful', 1.8)\n        }\n      )\n    }\n    gapi.load('auth2', function(){\n      auth2 = gapi.auth2.init({\n        client_id: '887521980338-fj0n0r7ui5cn313f4vh6paqm411upf3o.apps.googleusercontent.com',\n        cookiepolicy: 'single_host_origin',\n      })\n      attachSignin(document.getElementById('google-button'))\n    })\n  }\n\n\n  render() {\n    return (\n      <div>\n        <Card id=\"login-card\">\n          <div className=\"social\" id=\"logo-div\">\n            <img id='logo' src={Logo} />\n          </div>\n\n          <div className=\"social\">\n            <MButton\n              // onClick = {() => this.setState({ showSettleUpModal: true })}\n              variant=\"contained\" size=\"small\"\n              id=\"google-button\"\n              className=\"social-button\"\n            >\n              <FontAwesomeIcon icon={['fab', 'google']} className=\"social-icon\" />\n              <span className=\"social-text\">Log in with Google</span>\n            </MButton>\n          </div>\n\n\n          <WhiteSpace size=\"lg\" />\n\n          <div className=\"social\">\n            <MButton\n              // onClick = {() => this.setState({ showSettleUpModal: true })}\n              variant=\"contained\" color=\"primary\" size=\"small\"\n              id=\"facebook-button\"\n              className=\"social-button\"\n              onClick={this.facebookLogin}\n            >\n              <FontAwesomeIcon icon={['fab', 'facebook']} className=\"social-icon\" />\n              <span className=\"social-text\">Log in with Facebook</span>\n            </MButton>\n          </div>\n\n          <WhiteSpace size=\"lg\" />\n\n          <div className=\"social\">\n            <MButton\n              variant=\"contained\" size=\"small\"\n              id=\"nus-button\"\n              className=\"social-button\"\n              onClick={this.nusLogin}\n            >\n              <FontAwesomeIcon icon=\"university\" className=\"social-icon\" />\n              <span className=\"social-text\">Log in with NUS ID</span>\n            </MButton>\n          </div>\n\n          <WhiteSpace size=\"lg\" />\n          <WhiteSpace size=\"lg\" />\n\n          <div style={{ textAlign: 'center' }}>\n            <TextField\n              className=\"input-width\"\n              label=\"Email Address\"\n              value={this.state.username}\n              onChange={(event) => {\n                this.setState({ username: event.target.value })\n              }}\n            />\n            <WhiteSpace size=\"lg\" />\n            <TextField\n              className=\"input-width\"\n              type=\"password\"\n              label=\"Password\"\n              value={this.state.password}\n              onChange={(event) => this.setState({ password: event.target.value })}\n            />\n          </div>\n\n          <WhiteSpace size=\"lg\" />\n          <WhiteSpace size=\"lg\" />\n\n          <div className=\"social\">\n            <MButton\n              onClick={(event) => this.clickLogin()}\n              variant=\"outlined\" color=\"primary\" size=\"small\"\n              className=\"social-button\"\n            >\n              <Icon type={'check-circle-o'} id=\"submit-icon\" style={{ color: '#1BA39C', marginRight: 8 }} />\n              <span className=\"login-text\" style={{ color: '#1BA39C' }}>Log in</span>\n            </MButton>\n          </div>\n\n          <WhiteSpace size=\"lg\" />\n\n          <div className=\"social\">\n            <MButton\n              // onClick={(event) => window.location.href='/register'}\n              color=\"primary\" size=\"small\"\n              className='social-butto'\n            >\n              {/*<FontAwesomeIcon icon='user-plus' id=\"submit-icon\" style={{ color: '0060c0', marginRight: 8 }} />*/}\n              <span className=\"login-text\" style={{ color: '#1BA39C' }}>Create an Account <br />(Coming soon)</span>\n            </MButton>\n          </div>\n        </Card>\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Login);\n","import { combineReducers } from 'redux';\nimport user from './reducer_user';\nimport documents from './reducer_documents';\nimport readlists from './reducer_readlists';\nimport explore from './reducer_explore';\nimport notifications from './reducer_notifications';\nimport coteries from './reducer_coteries';\nimport search from './reducer_search';\nimport invitations from './reducer_invitations';\n\nconst rootReducer = combineReducers({\n  user,\n  documents,\n  coteries,\n  readlists,\n  explore,\n  notifications,\n  invitations,\n  search\n});\n\nexport default rootReducer;\n","import _ from 'lodash';\nimport {\n  USER_GET,\n  USER_SIGN_OFF,\n  DOCUMENT_GET_MY,\n  DOCUMENT_UPLOAD,\n  DOCUMENT_DELETE_SUCCESS,\n  DOCUMENT_UNCOLLECT_SUCCESS,\n  READLIST_GET_MY,\n  COTERIE_GET_MY,\n  COTERIE_GET_MY_DOCUMENTS,\n  COTERIE_DOCUMENT_UPLOAD,\n  COTERIE_LEAVE,\n  COTERIE_DELETE,\n  COTERIE_JOIN_WITH_CODE,\n} from '../actions/types';\n\nexport default function (state = [], action) {\n  switch (action.type) {\n    case USER_GET:\n      const user = action.payload.data;\n      return _.extend({}, user);\n\n    case USER_SIGN_OFF:\n      return {};\n\n    case DOCUMENT_GET_MY:\n      const uploadedDocuments = action.payload.data.uploadedDocuments;\n      const collectedDocuments = action.payload.data.collectedDocuments;\n      return _.extend({}, state,\n        { uploadedDocuments: _.map(uploadedDocuments, 'slug'),\n          collectedDocuments: _.map(collectedDocuments, 'slug')\n        });\n\n    case COTERIE_GET_MY_DOCUMENTS:\n      const coterieMyUploadedDocuments = action.payload.data;\n      return _.extend({}, state,\n        { uploadedDocuments: _.map(coterieMyUploadedDocuments, 'slug'),\n          collectedDocuments: []\n      });\n\n    case DOCUMENT_UPLOAD:\n    case COTERIE_DOCUMENT_UPLOAD:\n      const addedUploadedDocuments = _.concat(state.uploadedDocuments, action.payload.data.slug);\n      return _.extend({}, state, { uploadedDocuments: addedUploadedDocuments });\n\n    case DOCUMENT_DELETE_SUCCESS:\n      const newUploadedDocuments = _.filter(state.uploadedDocuments, (slug) => {return slug !== action.payload});\n      const newCollectedDocuments = _.filter(state.collectedDocuments, (slug) => {return slug !== action.payload});\n      return _.extend({}, state,\n        { uploadedDocuments: newUploadedDocuments,\n          collectedDocuments: newCollectedDocuments\n        });\n\n    case DOCUMENT_UNCOLLECT_SUCCESS:\n      const newCollected = _.filter(state.collectedDocuments, (slug) => {return slug !== action.payload});\n      return _.extend({}, state, {collectedDocuments: newCollected});\n\n    case COTERIE_GET_MY:\n      const joinedCoteries = action.payload.data.joinedCoteries;\n      const administratedCoteries = action.payload.data.administratedCoteries;\n      return _.extend({}, state,\n        { joinedCoteries: _.map(joinedCoteries, 'uuid'),\n          administratedCoteries: _.map(administratedCoteries, 'uuid')\n        });\n\n    case COTERIE_LEAVE:\n      const joinedCoteriesAfterLeave = _.filter(state.joinedCoteries, (uuid) => {return uuid !== action.uuid});\n      return _.extend({}, state, { joinedCoteries: joinedCoteriesAfterLeave});\n\n    case COTERIE_DELETE:\n      const administratedCoteriesAfterDelete = _.filter(state.administratedCoteries, (uuid) => {return uuid !== action.uuid});\n      return _.extend({}, state, { administratedCoteries: administratedCoteriesAfterDelete});\n\n    case COTERIE_JOIN_WITH_CODE:\n      const coterie_joined_with_code = action.payload.data;\n      return _.extend({}, state, { joinedCoteries: state.joinedCoteries.concat(coterie_joined_with_code.uuid)});\n\n    case READLIST_GET_MY:\n      const createdReadlists = action.payload.data.created_readlists;\n      const collectedReadlists = action.payload.data.collected_readlists;\n      return _.extend({}, state,\n        { createdReadlists: _.map(createdReadlists, 'slug'),\n          collectedReadlists: _.map(collectedReadlists, 'slug')\n        });\n\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport {\n  USER_SIGN_OFF,\n  DOCUMENT_GET_MY,\n  DOCUMENT_UPLOAD,\n  DOCUMENT_RENAME,\n  DOCUMENT_DELETE_SUCCESS,\n  COTERIE_GET_MY_DOCUMENTS,\n  COTERIE_DOCUMENT_UPLOAD,\n} from '../actions/types';\n\nexport default function (state = [], action) {\n  switch (action.type) {\n    case USER_SIGN_OFF:\n      return {};\n    case DOCUMENT_GET_MY:\n      const uploadedDocuments = action.payload.data.uploadedDocuments;\n      const collectedDocuments = action.payload.data.collectedDocuments;\n      return _.extend(\n        _.extend({}, state, _.keyBy(uploadedDocuments, 'slug')),\n        _.keyBy(collectedDocuments, 'slug'));\n\n    case COTERIE_GET_MY_DOCUMENTS:\n      const myUploadedDocuments = action.payload.data;\n      return _.extend({}, state, _.keyBy(myUploadedDocuments, 'slug'));\n\n    case DOCUMENT_UPLOAD:\n    case COTERIE_DOCUMENT_UPLOAD:\n      const uploadedDocument = action.payload.data;\n      return _.extend({}, state, {[uploadedDocument.slug]: uploadedDocument});\n\n    case DOCUMENT_RENAME:\n      const renamedDocument = action.payload.data;\n      return _.extend({}, state, {[renamedDocument.slug]: renamedDocument});\n\n    case DOCUMENT_DELETE_SUCCESS:\n      return _.omit(state, action.payload);\n\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport {\n  USER_SIGN_OFF,\n  COTERIE_GET_MY,\n  COTERIE_CREATE,\n  COTERIE_DELETE,\n  COTERIE_UPDATE_SUCCESS,\n  COTERIE_MEMBER_REMOVE,\n  COTERIE_JOIN_WITH_CODE,\n  COTERIE_APPLICATIONS_GET,\n  COTERIE_APPLICATION_ACCEPT,\n} from '../actions/types';\n\nexport default function (state = [], action) {\n  switch (action.type) {\n    case USER_SIGN_OFF:\n      return {};\n    case COTERIE_GET_MY:\n      const joinedCoteries = action.payload.data.joinedCoteries;\n      const administratedCoteries = action.payload.data.administratedCoteries;\n      return _.extend(\n        _.extend({}, state, _.keyBy(joinedCoteries, 'uuid')),\n        _.keyBy(administratedCoteries, 'uuid'));\n    case COTERIE_CREATE:\n      const new_coterie = action.payload.data;\n      return _.extend({}, state, {[new_coterie.uuid]: new_coterie});\n    case COTERIE_DELETE:\n      return _.omit(state, action.uuid);\n    case COTERIE_UPDATE_SUCCESS:\n      const updated_coterie = state[action.payload.uuid];\n      if (action.payload.name) updated_coterie.name = action.payload.name;\n      if (action.payload.description) updated_coterie.description = action.payload.description;\n      return _.extend({}, state, {[action.payload.uuid]: updated_coterie});\n    case COTERIE_MEMBER_REMOVE:\n      const member_removed_coterie = state[action.payload.uuid];\n      member_removed_coterie.members = member_removed_coterie.members.filter(member => member.email_address !== action.payload.email);\n      return _.extend({}, state, {[member_removed_coterie.uuid]: member_removed_coterie});\n    case COTERIE_JOIN_WITH_CODE:\n      const coterie_joined_with_code = action.payload.data;\n      return _.extend({}, state, {[coterie_joined_with_code.uuid]: coterie_joined_with_code});\n    case COTERIE_APPLICATION_ACCEPT:\n      let conterie_application_accepted = state[_.findKey(state, ['pk', action.application.coterie_pk])];\n      if (!_.find(conterie_application_accepted.members, ['pk', action.application.applicant.pk]))\n      conterie_application_accepted.members = conterie_application_accepted.members.concat(action.application.applicant);\n      return _.extend({}, state, {[conterie_application_accepted.uuid]: conterie_application_accepted});\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport {\n  READLIST_GET_MY,\n  READLIST_GET,\n  READLIST_REMOVE_DOCUMENT_SUCCESS\n} from '../actions/types';\n\nexport default function (state = [], action) {\n  switch (action.type) {\n    case READLIST_GET:\n      const readlist = action.payload.data;\n      return _.extend({}, state, {\n        readlist: readlist\n      });\n    case READLIST_GET_MY:\n      const createdReadlists = action.payload.data.created_readlists;\n      const collectedReadlists = action.payload.data.collected_readlists;\n      return _.extend(\n        _.extend({}, state, _.keyBy(createdReadlists, 'slug')),\n        _.keyBy(collectedReadlists, 'slug'));\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport {\n  DOCUMENT_GET_EXPLORE,\n  READLIST_GET_EXPLORE,\n} from '../actions/types';\n\nexport default function (state = [], action) {\n  switch (action.type) {\n    case DOCUMENT_GET_EXPLORE:\n      const mostViewsDocuments = action.payload.data.filter(item => item.description === 'most_views');\n      const mostStarsDocuments = action.payload.data.filter(item => item.description === 'most_collectors');\n      const mostAnnotationsDocuments = action.payload.data.filter(item => item.description === 'most_annotations');\n      return _.extend({}, state, {\n        documents:\n        { mostViewsDocuments: mostViewsDocuments,\n          mostStarsDocuments: mostStarsDocuments,\n          mostAnnotationsDocuments: mostAnnotationsDocuments,\n        }\n      });\n    case READLIST_GET_EXPLORE:\n      const mostCollectorsReadlists = action.payload.data.most_collectors_readlists;\n      const newestReadlists = action.payload.data.newest_readlists;\n      return _.extend({}, state, {\n        readlists:\n        { mostCollectorsReadlists: mostCollectorsReadlists,\n          newestReadlists: newestReadlists,\n        }\n      });\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport {\n  USER_SIGN_OFF,\n  NOTIFICATION_GET_COMBINED,\n  NOTIFICATION_READ,\n  NOTIFICATION_READ_ALL_SUCCESS,\n  NOTIFICATION_READ_ALL_ERROR,\n} from '../actions/types';\n\nexport default function (state = [], action) {\n  switch (action.type) {\n    case USER_SIGN_OFF:\n      return {};\n    case NOTIFICATION_GET_COMBINED:\n      const notifications = action.payload.data;\n      return _.extend({}, state, _.keyBy(notifications, 'slug'))\n    case NOTIFICATION_READ:\n      let notification_read = state[action.slug];\n      notification_read.unread = false;\n      return _.extend({}, state, {[notification_read.slug]: notification_read});\n    case NOTIFICATION_READ_ALL_SUCCESS:\n      let notifications_read_list = _.filter(state, (notification) =>\n        action.payload.unreadNotificationSlug.includes(notification.slug));\n      notifications_read_list = _.map(notifications_read_list, (notification) => {\n        notification.unread = false;\n        return notification;\n      })\n      return _.extend({}, state, _.keyBy(notifications_read_list, 'slug'));\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport {\n  USER_SIGN_OFF,\n  INVITATION_GET,\n  INVITATION_ACCEPT,\n  INVITATION_DECLINE,\n} from '../actions/types';\n\nexport default function (state = [], action) {\n  switch (action.type) {\n    case USER_SIGN_OFF:\n      return {};\n    case INVITATION_GET:\n      const invitations = action.payload.data;\n      return _.extend({}, state, _.keyBy(invitations, 'pk'));\n    case INVITATION_ACCEPT:\n    case INVITATION_DECLINE:\n      return _.omit(state, action.pk);\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport {\n  SEARCHRESULT_GET,\n  SEARCH_ERROR\n} from '../actions/types';\n\nexport default function (state = [], action) {\n  switch (action.type) {\n    case SEARCHRESULT_GET:\n      const readlists = action.payload.data.resultReadlists;\n      const documents = action.payload.data.resultDocuments;\n      const users = action.payload.data.resultUsers;\n      const coteries = action.payload.data.resultCoteries;\n      return _.extend({}, state, {\n        readlists: readlists,\n        documents: documents,\n        users: users,\n        coteries: coteries,\n      });\n    case SEARCH_ERROR:\n      return {};\n    default:\n      return state;\n  }\n}\n","import './index.css';\nimport 'antd-mobile/dist/antd-mobile.css';\nimport 'typeface-roboto'\n\nimport * as serviceWorker from './serviceWorker';\n\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport { applyMiddleware, compose, createStore } from 'redux';\n\nimport App from './App';\nimport AuthContainer from './components/auth_container';\nimport CreateCoterieForm from './components/create_coterie_form';\nimport CreateReadlistForm from './components/create_readlist_form';\nimport EditReadlistForm from './components/edit_readlist_form';\nimport DocumentViewer from './components/document_viewer/document_viewer';\nimport Readlist from './components/readlist';\nimport AddToReadlist from './components/add_to_readlist';\nimport Profile from './components/profile/profile'\nimport Search from './components/search/search';\n\nimport Login from './components/login/login'\nimport { Provider } from 'react-redux';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport ReduxPromise from 'redux-promise';\nimport ReduxThunk from 'redux-thunk';\n\nimport reducers from './reducers';\n\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\n\nconst theme = createMuiTheme({\n  typography: {\n    useNextVariants: true,\n    suppressDeprecationWarnings: true\n  },\n  palette: {\n    primary: {\n      main: \"#1BA39C\"\n    },\n  }\n});\n\nconst store = createStore(\n  reducers,\n  compose(\n    applyMiddleware(ReduxPromise, ReduxThunk),\n  )\n);\n\nconst renderDocumentViewer = (match, location, history) => {\n  return (\n    <DocumentViewer\n      isGroupDocument={false}\n      match={match}\n      location={location}\n      history={history}\n    />\n)\n}\n\nconst renderGroupDocumentViewer = (match, location, history) => {\n  return (\n    <DocumentViewer\n      isGroupDocument={true}\n      match={match}\n      location={location}\n      history={history}\n    />\n  )\n}\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nReactDOM.render(\n  <MuiThemeProvider theme={theme}>\n    <Provider store={store}>\n      <AuthContainer>\n        <BrowserRouter>\n          <Switch>\n            <Route path=\"/documents/:slug\" render={({match, location, history}) => renderDocumentViewer(match, location, history)} />\n            <Route path=\"/coteries/:coterieId/documents/:slug\" render={({match, location, history}) => renderGroupDocumentViewer(match, location, history)} />\n            <Route path='/readlists/:slug' component={Readlist}/>\n            <Route path=\"/search/:groupUuid\" component={Search} />\n            <Route path=\"/search\" component={Search} />\n            <Route path=\"/profile\" component={Profile} />\n            <Route path=\"/add-to-readlists\" component={AddToReadlist} />\n            <Route path=\"/create-coterie-form\" component={CreateCoterieForm} />\n            <Route path=\"/create-readlist-form\" component={CreateReadlistForm} />\n            <Route path=\"/edit-readlist-form/:slug\" component={EditReadlistForm} />\n            <Route path=\"/sign-in\" component={Login} />\n            <Route exact path=\"/\"render={() => <Redirect to=\"/uploads\" />} />\n            <Route path=\"/groups/:groupUuid?/\" component={App} />\n            <Route path=\"/\" component={App} />\n          </Switch>\n        </BrowserRouter>\n      </AuthContainer>\n    </Provider>\n  </MuiThemeProvider>\n  , document.getElementById('root'));\nserviceWorker.register({});\n","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/logo.1f3294f6.svg\";"],"sourceRoot":""}