{"version":3,"sources":["logo.svg","utilities/pdf.png","serviceWorker.js","actions/types.js","actions/index.js","components/bottom_tab_bar.jsx","components/nav_bar.jsx","components/explore.jsx","components/group_explore.jsx","components/confirmation_dialog.jsx","utilities/helper.js","components/uploads.jsx","components/readlists.jsx","components/notifications.jsx","components/settings.jsx","components/main.jsx","App.js","components/auth_container.js","components/create_coterie_form.jsx","components/create_readlist_form.jsx","components/edit_readlist_form.jsx","components/document_viewer/document_viewer_helper.js","components/document_viewer/annotation_thread.jsx","components/document_viewer/float_button.jsx","components/document_viewer/document_viewer.jsx","components/readlist.jsx","components/add_to_readlist.jsx","components/profile/profile.jsx","components/search.jsx","components/login/login.jsx","reducers/index.js","reducers/reducer_user.js","reducers/reducer_documents.js","reducers/reducer_coteries.js","reducers/reducer_readlists.js","reducers/reducer_explore.js","reducers/reducer_notifications.js","reducers/reducer_invitations.js","reducers/reducer_search.js","index.js"],"names":["module","exports","__webpack_require__","p","Boolean","window","location","hostname","match","USER_GET","DOCUMENT_GET_MY","COTERIE_GET_MY_DOCUMENTS","DOCUMENT_GET_EXPLORE","DOCUMENT_UPLOAD","DOCUMENT_RENAME","DOCUMENT_DELETE_SUCCESS","DOCUMENT_UNCOLLECT_SUCCESS","READLIST_GET_MY","READLIST_GET_EXPLORE","READLIST_GET","READLIST_CREATE","READLIST_EDIT","READLIST_DELETE_SUCCESS","READLIST_COLLECT_SUCCESS","READLIST_UNCOLLECT_SUCCESS","READLIST_REMOVE_DOCUMENT_SUCCESS","NOTIFICATION_GET_COMBINED","NOTIFICATION_READ","SEARCHRESULT_GET","SEARCH_ERROR","COTERIE_GET_MY","COTERIE_CREATE","COTERIE_UPDATE","COTERIE_UPDATE_SUCCESS","COTERIE_INVITE","COTERIE_MEMBER_REMOVE","COTERIE_DOCUMENT_UPLOAD","COTERIE_LEAVE","COTERIE_DELETE","INVITATION_GET","INVITATION_ACCEPT","INVITATION_DECLINE","FILE_UPLOAD_API_URL","COTERIE_DOCUMENT_UPLOAD_API_URL","INVITE_TO_COTERIE_API_URL","GET_INVITATION_API_URL","getUser","request","axios","get","type","payload","getMyDocuments","uploadDocument","data","method","headers","Content-Type","url","uploadCoterieDocument","renameDocument","deleteDocument","slug","dispatch","then","deleteDocumentSuccess","catch","error","uncollectDocument","uncollectDocumentSuccess","getMyReadlists","getReadlist","deleteReadlist","deleteReadlistSuccess","getExploreDocuments","getExploreReadlists","getCombinedNotifications","markNotificationAsRead","getMyCoteries","getMyCoteriesDocument","uuid","concat","getMyCoteriesReadlists","createReadlist","editReadlist","collectReadlist","collectReadlistSuccess","uncollectReadlist","uncollectReadlistSuccess","documentChangeReadlists","pk","console","log","removeFromReadlistSuccess","createCoterie","updateCoterie","updateCoterieSuccess","name","description","leaveCoterie","deleteCoterie","getSearchResults","term","response","getCoterieSearchResults","coterieUuid","inviteToCoterie","removeMember","email","getInvitations","acceptInvitation","declineInvitation","BottomTabBar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","selectedTab","path","split","pop","hidden","slices","slice","length","join","unread","_","filter","notifications","isEmpty","invitations","react_default","a","createElement","Notifications_default","badge_default","dot","_this2","renderNotificationTabWithBadge","style","position","height","width","top","tab_bar_default","unselectedTintColor","tintColor","barTintColor","Item","icon","Explore_default","selectedIcon","title","key","selected","onPress","setState","history","push","getGroupPath","content","CloudUpload_default","ViewList_default","NotificationsActive_default","Settings_default","React","Component","connect","library","add","faUsers","faUserPlus","faUserFriends","Navbar","coterieModal","e","preventDefault","defineProperty","charCodeAt","currentTab","pathname","coteriePk","coterie","coteries","list_default","extra","members","align","onClick","modal_default","alert","text","color","goToGroup","onClose","Brief","_this3","hasAdministratedCoteries","user","administratedCoteries","hasJoinedCoteries","joinedCoteries","nav_bar_default","mode","boxShadow","zIndex","paddingRight","leftContent","Avatar_default","alt","src","portrait_url","rightContent","icon_default","marginRight","params","groupUuid","Badge_default","classes","badge","badgeContent","className","avatar","backgroundColor","getRandomColor","fontSize","charAt","PeopleOutline_default","showModal","popup","visible","animationType","overflow","maxHeight","renderHeader","map","renderCoterieItem","button_default","actions","withStyles","theme","right","border","Explore","loading","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","t0","abrupt","stop","apply","arguments","fetchData","react_sticky_lib","_ref2","objectSpread","tabs_default","DefaultTabBar","documents","element","open_url","GridListTile_default","Grid_default","container","alignItems","image","GridListTileBar_default","fontWeight","subtitle","lib_default","date","upload_time","white_space_default","GridList_default","cellSpacing","cols","cellHeight","flexWrap","margin","readlists","_this4","create_time","thumb","multipleLine","owner","nickname","explore","renderDocumentsSubgrid","mostViewsDocuments","mostStarsDocuments","mostAnnotationsDocuments","renderReadlistsSublist","mostCollectorsReadlists","newestReadlists","tabs","initalPage","swipeable","_renderTabBar","renderReactSticky","justifyContent","renderExploreDocuments","renderExploreReadlists","components_nav_bar","CircularProgress_default","marginTop","size","thickness","renderStickyTab","GroupExplore","coteriedocument_set","uploader_name","reverse","textAlign","renderCoterieDocuments","renderCoterieReadlists","coterieName","ConfirmationDialog","handleEntering","radioGroupRef","focus","handleCancel","value","handleClear","undefined","handleOk","handleChange","event","nextProps","_this$props","open","Dialog_default","disableBackdropClick","disableEscapeKeyDown","maxWidth","onEntering","aria-labelledby","DialogTitle_default","id","DialogContent_default","RadioGroup_default","ref","onChange","values","readlist","FormControlLabel_default","control","Radio_default","label","DialogActions_default","Button_default","getCookie","cookieValue","document","cookie","cookies","i","trim","substring","decodeURIComponent","copyToClipboard","temp","body","appendChild","select","execCommand","removeChild","MAX_DOCUMENT_UPLOAD_SIZE","Uploads","uploadedActionModal","collectedActionModal","uploadDialog","chooseReadlistRadio","uploadedFile","selectedDocument","handleFileDialog","file","finput","files","handleConfirmationDialogClose","handleFileSubmit","filenameWithoutExtension","filename","is_superuser","toast_default","info","validateDocumentSize","includes","fail","FormData","append","uploading","coterie_pk","success","readlistData","prevProps","newGroupUuid","item","isUpload","pdfIcon","coterieId","textOverflow","moment","format","AddBoxOutlined_default","click","list","_this5","items","itemId","renderListItem","renderAddDocument","_this6","_this7","renderUploadedList","orderBy","uploadedDocuments","docSlug","renderCollectedList","collectedDocuments","currDocument","_this8","prompt","renameUrl","_this9","protocol","host","Share_default","uncollectUrl","DeleteForever_default","_this10","renderRenameModal","Create_default","delete_url","ListItem_default","paddingLeft","ListItemText_default","primary","whiteSpace","secondary","lastModified","_this11","TextField_default","multiline","defaultValue","fullWidth","target","_this12","padding","button","divider","aria-haspopup","confirmation_dialog","_this13","renderFileItem","renderFileNameTextField","renderReadlistSelect","_this14","renderUploadedActionModal","renderCollectedActionModal","renderUploadDialog","visibility","accept","Readlists","createdReadlistActionModal","collectedReadlistActionModal","selectedReadlist","isCreated","arrow","renderAddReadlist","renderReadlist","createdReadlists","readlistSlug","collectedReadlists","renderCreatedReadlists","renderCollectedReadlists","Notifications","action","timestamp","isSame","invitation","Mail_default","display","flexDirection","float","Done_default","marginBottom","coterie_name","accept_url","Clear_default","reject_url","inviter_nickname","invitation_message","notification","isAnnotationRelated","verb","image_url","borderRadius","formatNotificationTime","mark_read_url","stopPropagation","DraftsOutlined_default","redirect_url","actor","getActionDescription","renderInvitationList","renderNotificationsList","Settings","isFetching","memberModal","adminModal","inviteDialog","editDialog","_this$preprocessEmail","preprocessEmailsString","emails","_this$preprocessEmail2","slicedToArray","isValid","emailList","message","successful_applications","unregistered_emails","emailsString","rows","emailsArray","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","row","err","return","emailArray","_emailsStringToArray","returnedEmailArray","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","validator","validate","currentCoterie","new_name","new_desc","member","isAdmin","email_address","remove_member_url","wing_blank_default","card_default","Header","marginLeft","Edit_default","Body","renderMember","administrators","admin","renderAdmin","DialogContentText_default","required","autoFocus","disabled","handleFormSubmit","handleGroupEdit","renderGroupInfo","VpnKey_default","People_default","PersonAdd_default","ExitToApp_default","renderAdminModal","renderMemberModal","renderInviteDialog","renderEditDialog","Groups","Switch","Route","component","Main","App","justify","bottom_tab_bar","main","AuthContainer","children","CreateCoterieForm","coterie_description","_this$state","goBack","onLeftClick","input_item_default","clear","placeholder","textarea_item_default","count","handleSubmit","CreateReadlistForm","readlist_name","readlist_description","EditReadlistForm","rename_url","change_desc_url","_React$createElement","handleDelete","range","end","Array","fill","idx","getPrevAnnotation","selectedAnnotation","annotationsByPage","thisPage","page_index","thisPageAnnotations","indexInPage","indexOf","prevPageWithAnnotations","currentPageIndex","getPreviousPageIndexWithAnnotations","annotations","getNextAnnotation","numPages","nextPageWithAnnotations","getNextPageIndexWithAnnotations","SmallChip","root","Chip","SmallButton","minWidth","Button","reduce_comment","comment","prefix","timeago","isAnnotation","annotator","author","replier","authorpk","edit_time","post_time","numReplies","replies","AnnotationThread","commentMenuElement","commentMenuUuid","openContextMenu","isHead","currentTarget","selectedComment","selectedCommentIsReply","closeContextMenu","locateComment","scrollIntoView","behavior","replyAnnotation","setParentState","replyToAnnotationReplyId","replyToAnnotationReplyUuid","annotationOpen","annotationLinearLinkedListOpen","replyReply","likeAnnotation","post","likeSet","likeReply","editComment","editCommentOpen","editTextContent","shareComment","deleteComment","operation","idType","parseInt","pdfDocument","reply","splice","annotation","Set","Typography_default","variant","dangerouslySetInnerHTML","__html","KeyboardArrowDown_default","annotationArea","react_fontawesome_index_es","faLocationArrow","faReply","has","faThumbsUped","faThumbsUp","faEllipsisV","hasOwnProperty","MathJax","Hub","Queue","commentBlock","Menu_default","anchorEl","PaperProps","MENU_ITEM_HEIGHT","MenuItem_default","faPencilAlt","faLink","faTrashAlt","FlaoatingButton","context","clickCallback","transitions","duration","enteringScreen","leavingScreen","Grow_default","in","show","fab","bottom","minHeight","spacing","unit","withTheme","faPaperPlane","faTimesCircle","RENDERING","ANNOTATION_WIDTH_THRESHOLD","ANNOTATION_HEIGHT_THRESHOLD","DocumentViewer","pdfDoc","taskList","finishList","rendering","clearnessLevel","annotationAreas","prevScroll","pageYOffset","annotationFirstTouch","currentScale","scaleFactor","sampleWidth","sampleHeight","newAnnotationInputOpen","showFloatButton","creatingAnnotationAtPageIndex","newAnnotationContent","newAnnotationReplyContent","dynamicRenderOnScroll","pageIndex","Math","ceil","viewerWrappper","scrollHeight","renderOrNot","index","pre","getElementById","pushNewPageRenderingTask","renderTaskList","handleScroll","thisScroll","status","taskObj","scale","self","assertThisInitialized","getPage","page","canvas","getContext","viewport","getViewport","renderContext","canvasContext","render","promise","shift","renderAnnotationAreas","isGroupDocument","configSizeAccordingToLastPageAndRenderTheFirstSeveralPages","pdf","lastPage","innerWidth","styleDrawer","annotationWrapper","parentElement","classList","contains","selectAnnotation","remove","rgba","background","borderColor","deselectAnnotation","lockScroll","targetTouches","changeToCommentMode","getElementsByTagName","addEventListener","passive","changeToViewMode","removeEventListener","postAnnotation","newAnnotationWidth","newAnnotationHeight","newAnnotationY","newAnnotationX","getComputedStyle","getPropertyValue","newAnnotation","cancelCurrentAnnotation","postAnnotationReply","cancelCurrentAnnotationReply","postEdit","cancelEdit","PDFJS","workerSrc","getDocument","getPositionRelativeToPageTopLeft","touch_absolute_x","touches","pageX","touch_absolute_y","pageY","offsetLeft","offsetTop","gestureOnRND","annotationBeingCreated","viewWrapper","ele","onTouchStart","_getPositionRelativeT","_getPositionRelativeT2","bottom_right_relative_x","bottom_right_relative_y","originalAnnotationX","originalAnnotationY","onTouchMove","_getPositionRelativeT3","_getPositionRelativeT4","max","abs","min","rnd","updatePosition","x","y","onTouchEnd","draggable","react_rnd_lib","c","bounds","onDragStop","d","onResizeStop","direction","delta","toLowerCase","parseFloat","TapAndPinchable_default","moveThreshold","onTap","frame_color","width_percent","height_percent","left","left_percent","top_percent","annotation-id","annotation-uuid","activity_indicator_default","toast","animating","Drawer_default","anchor","IconButton_default","prevAnnotation","block","KeyboardArrowLeft_default","FormatListBulletedRounded_default","nextAnnotation","KeyboardArrowRight_default","annotation_thread","bind","styles","createMuiTheme","palette","reopenAnnotationThread","annotationReplyText","editText","float_button","AddComment_default","DoneAll_default","Readlist","collected","onCollectIconClick","isOwner","Card_default","CardContent_default","CardHeader_default","paddingTop","wordBreak","hyphens","CardActions_default","aria-label","Favorite_default","FavoriteBorder_default","onShareIconClick","renderReadlistCard","renderDocumentList","AddToReadlist","checked","addReadlists","removeReadlists","currDocumentUuid","href","replace","documents_uuids","Checkbox_default","renderOwnedReadlists","faFacebook","faGoogle","Profile","signOff","Search","searchTerm","results","documentsPath","sortKey","jsx","users","sort","b","localeCompare","Toolbar_default","InputBase_default","renderSearchResultList","search","Login","isAuthenticated","username","password","token","errorMessage","clickLogin","offline","facebookLogin","FB","login","JSON","stringify","authResponse","scope","handleMessageClose","reason","s","js","fjs","parentNode","insertBefore","loadFBSdk","fbAsyncInit","init","appId","xfbml","version","AppEvents","logPageView","fbLoginButtonLoading","auth2","gapi","load","client_id","cookiepolicy","attachClickHandler","googleUser","getAuthResponse","id_token","Logo","rootReducer","combineReducers","extend","coterieMyUploadedDocuments","addedUploadedDocuments","newUploadedDocuments","newCollectedDocuments","newCollected","joinedCoteriesAfterLeave","administratedCoteriesAfterDelete","created_readlists","collected_readlists","keyBy","myUploadedDocuments","uploadedDocument","renamedDocument","omit","new_coterie","updated_coterie","member_removed_coterie","most_collectors_readlists","newest_readlists","notification_read","resultReadlists","resultDocuments","resultUsers","typography","useNextVariants","suppressDeprecationWarnings","store","createStore","reducers","compose","applyMiddleware","ReduxPromise","ReduxThunk","ReactDOM","es","auth_container","BrowserRouter","document_viewer_document_viewer","renderDocumentViewer","renderGroupDocumentViewer","exact","Redirect","to","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6f8af373.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.1f3294f6.svg\";","module.exports = \"data:image/png;base64,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\"","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const USER_GET = 'user_get';\n\nexport const DOCUMENT_GET_MY = 'document_get_my';\nexport const COTERIE_GET_MY_DOCUMENTS = 'document_get_my_documents';\nexport const DOCUMENT_GET_EXPLORE = 'document_get_explore';\nexport const DOCUMENT_UPLOAD = 'document_upload';\nexport const DOCUMENT_RENAME = 'document_rename';\nexport const DOCUMENT_DELETE_SUCCESS = 'document_delete_success';\nexport const DOCUMENT_UNCOLLECT_SUCCESS = 'document_uncollect_success';\n\nexport const READLIST_GET_MY = 'readlist_get_my';\nexport const READLIST_GET_EXPLORE = 'readlist_get_explore';\nexport const READLIST_GET = 'readlist_get';\nexport const READLIST_CREATE = 'readlist_create';\nexport const READLIST_EDIT = 'readlist_edit';\nexport const READLIST_DELETE_SUCCESS = 'readlist_delete_success';\nexport const READLIST_COLLECT_SUCCESS = 'readlist_collect_success';\nexport const READLIST_UNCOLLECT_SUCCESS = 'readlist_uncollect_success';\nexport const READLIST_REMOVE_DOCUMENT_SUCCESS = 'readlist_remove_document_success';\n\nexport const NOTIFICATION_GET_COMBINED = 'notification_get_combined';\nexport const NOTIFICATION_READ = 'notification_read';\n\nexport const SEARCHRESULT_GET = 'search_result_get';\nexport const SEARCH_ERROR = 'search_error';\n\nexport const COTERIE_GET_MY = 'coterie_get_my';\nexport const COTERIE_CREATE = 'coterie_create';\nexport const COTERIE_UPDATE = 'coterie_update';\nexport const COTERIE_UPDATE_SUCCESS = 'coterie_update_success';\nexport const COTERIE_INVITE = 'coterie_invite';\nexport const COTERIE_MEMBER_REMOVE = 'coterie_member_delete';\nexport const COTERIE_DOCUMENT_UPLOAD = 'coterie_document_upload';\nexport const COTERIE_LEAVE = 'coterie_leave';\nexport const COTERIE_DELETE = 'coterie_delete';\n\nexport const INVITATION_GET = 'invitation_get';\nexport const INVITATION_ACCEPT = 'invitation_accept';\nexport const INVITATION_DECLINE = 'invitation_decline';\n","import axios from 'axios';\nimport {\n  USER_GET,\n  DOCUMENT_GET_MY,\n  READLIST_GET_MY,\n  DOCUMENT_GET_EXPLORE,\n  READLIST_GET_EXPLORE,\n  NOTIFICATION_GET_COMBINED,\n  NOTIFICATION_READ,\n  COTERIE_GET_MY,\n  COTERIE_GET_MY_DOCUMENTS,\n  COTERIE_CREATE,\n  COTERIE_UPDATE,\n  COTERIE_UPDATE_SUCCESS,\n  COTERIE_INVITE,\n  COTERIE_MEMBER_REMOVE,\n  COTERIE_DOCUMENT_UPLOAD,\n  COTERIE_LEAVE,\n  COTERIE_DELETE,\n  SEARCHTERM_UPDATE,\n  SEARCHRESULT_GET,\n  SEARCH_ERROR,\n  READLIST_GET,\n  READLIST_CREATE,\n  READLIST_EDIT,\n  READLIST_DELETE_SUCCESS,\n  READLIST_COLLECT_SUCCESS,\n  READLIST_UNCOLLECT_SUCCESS,\n  READLIST_REMOVE_DOCUMENT_SUCCESS,\n  DOCUMENT_UPLOAD,\n  DOCUMENT_RENAME,\n  DOCUMENT_DELETE_SUCCESS,\n  DOCUMENT_UNCOLLECT_SUCCESS,\n  INVITATION_GET,\n  INVITATION_ACCEPT,\n  INVITATION_DECLINE\n} from './types';\n\n\nconst FILE_UPLOAD_API_URL = '/file_viewer/api/documents/upload';\nconst COTERIE_DOCUMENT_UPLOAD_API_URL = '/coterie/api/coteriedocuments/upload';\nconst INVITE_TO_COTERIE_API_URL = '/coterie/api/invite';\nconst GET_INVITATION_API_URL = '/coterie/api/invitations';\n\nexport function getUser() {\n  const url = '/api/user';\n  const request = axios.get(url);\n\n  return {type: USER_GET, payload: request};\n}\n\nexport function getMyDocuments() {\n  const url = '/file_viewer/api/documents';\n  const request = axios.get(url);\n\n  return {type: DOCUMENT_GET_MY, payload: request};\n}\n\nexport function uploadDocument(data) {\n  const request = axios({\n    method: 'post',\n    headers: {'Content-Type': 'multipart/form-data'},\n    url: FILE_UPLOAD_API_URL,\n    data\n  });\n\n  return {type: DOCUMENT_UPLOAD, payload: request};\n}\n\nexport function uploadCoterieDocument(data) {\n  const request = axios({\n    method: 'post',\n    headers: {'Content-Type': 'multipart/form-data'},\n    url: COTERIE_DOCUMENT_UPLOAD_API_URL,\n    data\n  });\n\n  return {type: COTERIE_DOCUMENT_UPLOAD, payload: request};\n}\n\nexport function renameDocument(url, data) {\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  });\n\n  return {type: DOCUMENT_RENAME, payload: request};\n}\n\nexport function deleteDocument(url, data, slug) {\n  return function(dispatch) {\n    return axios({\n      method: 'post',\n      url,\n      data\n    })\n    .then(() => {\n      dispatch(deleteDocumentSuccess(slug));\n      return;\n    }).catch(error => {\n      throw(error);\n    })\n  }\n}\n\nexport function deleteDocumentSuccess(slug) {\n  return {type: DOCUMENT_DELETE_SUCCESS, payload: slug}\n}\n\nexport function uncollectDocument(url, data, slug) {\n  return function(dispatch) {\n    return axios({\n      method: 'post',\n      url,\n      data\n    })\n    .then(() => {\n      dispatch(uncollectDocumentSuccess(slug));\n      return;\n    }).catch(error => {\n      throw(error);\n    })\n  }\n}\n\nexport function uncollectDocumentSuccess(slug) {\n  return {type: DOCUMENT_UNCOLLECT_SUCCESS, payload: slug}\n}\n\n\nexport function getMyReadlists() {\n  const url = '/file_viewer/api/readlists';\n  const request = axios.get(url);\n\n  return {type: READLIST_GET_MY, payload: request};\n}\n\nexport function getReadlist(slug) {\n  const url = '/file_viewer/api/readlists/' + slug;\n  const request = axios.get(url);\n\n  return {type: READLIST_GET, payload: request};\n}\n\nexport function deleteReadlist(url, data, slug) {\n  return function(dispatch) {\n    return axios({\n      method: 'post',\n      url,\n      data\n    })\n    .then(() => {\n      dispatch(deleteDocumentSuccess(slug));\n      return;\n    }).catch(error => {\n      throw(error);\n    })\n  }\n}\n\nexport function deleteReadlistSuccess(slug) {\n  return {type: READLIST_DELETE_SUCCESS, payload: slug}\n}\n\n\nexport function getExploreDocuments() {\n  const url = '/file_viewer/api/documents/explore';\n  const request = axios.get(url);\n\n  return {type: DOCUMENT_GET_EXPLORE, payload: request};\n}\n\nexport function getExploreReadlists() {\n  const url = '/file_viewer/api/readlists/explore';\n  const request = axios.get(url);\n\n  return {type: READLIST_GET_EXPLORE, payload: request};\n}\n\nexport function getCombinedNotifications() {\n  const url = '/notifications/api/combined';\n  const request = axios.get(url);\n\n  return {type: NOTIFICATION_GET_COMBINED, payload: request};\n}\n\nexport function markNotificationAsRead(url, slug) {\n  const request = axios.get(url);\n\n  return {\n    type: NOTIFICATION_READ,\n    payload: request,\n    slug\n  }\n}\n\nexport function getMyCoteries() {\n  const url = '/coterie/api/coteries';\n  const request = axios.get(url);\n\n  return {type: COTERIE_GET_MY, payload: request};\n}\n\nexport function getMyCoteriesDocument(uuid) {\n  const url = `/coteries/api/coteries/${uuid}/members/me/uploaded-documents`;\n  const request = axios.get(url);\n\n  return {type: COTERIE_GET_MY_DOCUMENTS, payload: request};\n}\n\nexport function getMyCoteriesReadlists(uuid) {\n  // const url = `/coteries/api/coteries/${uuid}/members/me/uploaded-documents`;\n  // const request = axios.get(url);\n\n  // return {type: COTERIE_GET_MY_DOCUMENTS, payload: request};\n}\n\nexport function createReadlist(data) {\n  const url = '/file_viewer/api/readlists/create';\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  });\n  return {type: READLIST_CREATE, payload: request};\n}\n\nexport function editReadlist(url, data) {\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  });\n\n  return {type: READLIST_EDIT, payload: request};\n}\n\nexport function collectReadlist(data, slug) {\n  const url = \"/file_viewer/api/readlists/\" + slug + \"/collect\";\n  return function(dispatch) {\n    return axios({\n      method: 'post',\n      url,\n      data\n    })\n    .then(() => {\n      dispatch(collectReadlistSuccess(slug));\n      return;\n    }).catch(error => {\n      throw(error);\n    })\n  }\n}\n\nexport function collectReadlistSuccess(slug) {\n  return {type: READLIST_COLLECT_SUCCESS, payload: slug}\n}\n\nexport function uncollectReadlist(data, slug) {\n  const url = \"/file_viewer/api/readlists/\" + slug + \"/uncollect\";\n  return function(dispatch) {\n    return axios({\n      method: 'post',\n      url,\n      data\n    })\n    .then(() => {\n      dispatch(uncollectReadlistSuccess(slug));\n      return;\n    }).catch(error => {\n      throw(error);\n    })\n  }\n}\n\nexport function uncollectReadlistSuccess(slug) {\n  return {type: READLIST_UNCOLLECT_SUCCESS, payload: slug}\n}\n\n\nexport function documentChangeReadlists(pk, data) {\n  const url = '/file_viewer/api/documents/' + pk + '/changereadlists'\n  console.log(\"making req to \" + url + \" with data\")\n  console.log(data)\n  return function(dispatch) {\n    return axios({\n      method: 'post',\n      url,\n      data\n    })\n    .then(() => {\n      dispatch(removeFromReadlistSuccess());\n      return;\n    }).catch(error => {\n      throw(error);\n    })\n  }\n}\n\nexport function removeFromReadlistSuccess() {\n  return {type: READLIST_REMOVE_DOCUMENT_SUCCESS, payload: {}}\n}\n\nexport function createCoterie(data) {\n  const url = '/coterie/api/coteries/create';\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  });\n\n  return {type: COTERIE_CREATE, payload: request};\n}\n\nexport function updateCoterie(data, pk) {\n  const url = `/coterie/api/coteries/${pk}/update`\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  });\n\n  return {type: COTERIE_UPDATE, payload: request};\n}\n\nexport function updateCoterieSuccess(uuid, name, description) {\n  return {\n    type: COTERIE_UPDATE_SUCCESS,\n    payload: {\n      uuid,\n      name,\n      description\n    }\n  }\n}\n\nexport function leaveCoterie(data, pk, uuid) {\n  const url = `/coterie/api/coteries/${pk}/exit`\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  });\n\n  return {type: COTERIE_LEAVE, payload: request, uuid};\n}\n\nexport function deleteCoterie(data, pk, uuid) {\n  const url = `/coterie/api/coteries/${pk}/delete`\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  });\n\n  return {type: COTERIE_DELETE, payload: request, uuid};\n}\n\nexport function getSearchResults(term) {\n  const url = '/api/search?key=' + term;\n  return function(dispatch) {\n    axios.get(url)\n    .then((response) => {\n      dispatch({type: SEARCHRESULT_GET, payload: response})\n    })\n    .catch((error) => {\n      dispatch({type: SEARCH_ERROR})\n    })\n  }\n}\n\nexport function getCoterieSearchResults(term, coterieUuid) {\n  const url = '/coterie/api/coteries/' + coterieUuid + '/search?key=' + term;\n  return function(dispatch) {\n    axios.get(url)\n    .then((response) => {\n      dispatch({type: SEARCHRESULT_GET, payload: response})\n    })\n    .catch((error) => {\n      dispatch({type: SEARCH_ERROR})\n    })\n  }\n}\n\nexport function inviteToCoterie(data) {\n  const request = axios({\n    method: 'post',\n    url: INVITE_TO_COTERIE_API_URL,\n    data\n  });\n\n  return {type: COTERIE_INVITE, payload: request};\n}\n\nexport function removeMember(url, data, uuid, email) {\n  return function(dispatch) {\n    return axios({\n      method: 'post',\n      url,\n      data\n    })\n    .then((response) => {\n      dispatch({type: COTERIE_MEMBER_REMOVE, payload: {uuid, email}})\n    }).catch(error => {\n      throw(error);\n    })\n  }\n}\n\nexport function getInvitations() {\n  const request = axios.get(GET_INVITATION_API_URL);\n\n  return {type: INVITATION_GET, payload: request};\n}\n\nexport function acceptInvitation(url, data, pk) {\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  })\n\n  return { type: INVITATION_ACCEPT, payload: request, pk }\n}\n\nexport function declineInvitation(url, data, pk) {\n  const request = axios({\n    method: 'post',\n    url,\n    data\n  })\n\n  return { type: INVITATION_DECLINE, payload: request, pk }\n}\n","import _ from 'lodash';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { TabBar, Badge } from 'antd-mobile';\nimport ExploreIcon from '@material-ui/icons/Explore';\nimport UploadIcon from '@material-ui/icons/CloudUpload';\nimport ReadlistIcon from '@material-ui/icons/ViewList';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\nimport SettingsIcon from '@material-ui/icons/Settings';\n\nclass BottomTabBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedTab: this.props.path.split('/').pop(),\n      hidden: false\n    };\n  }\n\n  getGroupPath() {\n    const path = this.props.path\n    const slices = path.split('/').slice(1)\n    if (slices.length >= 1 && slices[0] === 'groups')\n      return path.split('/').slice(0, -1).join('/')\n    return ''\n  }\n\n  renderNotificationTabWithBadge() {\n    const unread = _.filter(this.props.notifications, 'unread');\n    if (_.isEmpty(unread) && _.isEmpty(this.props.invitations)) {\n      return (\n        <NotificationsIcon />\n      )\n    } else {\n      return (\n        <Badge dot><NotificationsIcon /></Badge>\n      )\n    }\n  }\n\n  render() {\n    this.renderNotificationTabWithBadge();\n    return (\n      <div style={{ position: 'fixed', height: '100%', width: '100%', top: 0 }}>\n        <TabBar\n          unselectedTintColor=\"#949494\"\n          tintColor=\"#1BA39C\"\n          barTintColor=\"white\"\n          hidden={this.state.hidden}\n        >\n          <TabBar.Item\n            icon={<ExploreIcon />}\n            selectedIcon={<ExploreIcon />}\n            title={this.state.selectedTab === 'explore' ? 'explore' : ''}\n            key=\"explore\"\n            selected={this.state.selectedTab === 'explore'}\n            onPress={() => {\n              this.setState({\n                selectedTab: 'explore',\n              });\n              this.props.history.push(`${this.getGroupPath()}/explore`);\n            }}\n          >\n            {this.state.selectedTab === 'explore' && this.props.content}\n          </TabBar.Item>\n          <TabBar.Item\n            icon={<UploadIcon />}\n            selectedIcon={<UploadIcon />}\n            title={this.state.selectedTab === 'uploads' ? 'uploads' : ''}\n            key=\"Uploads\"\n            selected={this.state.selectedTab === 'uploads'}\n            onPress={() => {\n              this.setState({\n                selectedTab: 'uploads',\n              });\n              this.props.history.push(`${this.getGroupPath()}/uploads`);\n            }}\n          >\n            {this.state.selectedTab === 'uploads' && this.props.content}\n          </TabBar.Item>\n          <TabBar.Item\n            icon={<ReadlistIcon />}\n            selectedIcon={<ReadlistIcon />}\n            title={this.state.selectedTab === 'readlists' ? 'readlists' : ''}\n            key=\"Readlists\"\n            selected={this.state.selectedTab === 'readlists'}\n            onPress={() => {\n              this.setState({\n                selectedTab: 'readlists',\n              });\n              this.props.history.push(`${this.getGroupPath()}/readlists`);\n            }}\n          >\n            {this.state.selectedTab === 'readlists' && this.props.content}\n          </TabBar.Item>\n          <TabBar.Item\n            icon={this.renderNotificationTabWithBadge()}\n            selectedIcon={<NotificationsActiveIcon />}\n            title={this.state.selectedTab === 'notifications' ? 'notifications' : ''}\n            key=\"Notifications\"\n            selected={this.state.selectedTab === 'notifications'}\n            onPress={() => {\n              this.setState({\n                selectedTab: 'notifications',\n              });\n              this.props.history.push(`${this.getGroupPath()}/notifications`);\n            }}\n          >\n            {this.state.selectedTab === 'notifications' && this.props.content}\n          </TabBar.Item>\n          <TabBar.Item\n            icon={<SettingsIcon />}\n            selectedIcon={<SettingsIcon />}\n            title={this.state.selectedTab === 'settings' ? 'settings' : ''}\n            key=\"Settings\"\n            selected={this.state.selectedTab === 'settings'}\n            onPress={() => {\n              this.setState({\n                selectedTab: 'settings',\n              });\n              this.props.history.push(`${this.getGroupPath()}/settings`);\n            }}\n          >\n            {this.state.selectedTab === 'settings' && this.props.content}\n          </TabBar.Item>\n        </TabBar>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    notifications: state.notifications,\n    invitations: state.invitations\n  };\n}\n\nexport default connect(mapStateToProps)(BottomTabBar);\n","import * as actions from '../actions';\n\nimport { Button, List, Modal, NavBar, Icon } from 'antd-mobile';\nimport React, { Component } from 'react';\nimport {\n  faUserFriends,\n  faUserPlus,\n  faUsers,\n} from '@fortawesome/free-solid-svg-icons'\nimport { withStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport PeopleOutlineIcon from '@material-ui/icons/PeopleOutline';\nimport SupervisedUserCircleIcon from '@material-ui/icons/SupervisedUserCircle';\nimport Badge from '@material-ui/core/Badge';\nimport _ from 'lodash';\nimport { connect } from 'react-redux';\nimport { library } from '@fortawesome/fontawesome-svg-core'\nlibrary.add(faUsers, faUserPlus, faUserFriends)\n\n\nclass Navbar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      coterieModal: false\n    };\n  }\n\n  showModal(key, e) {\n    e.preventDefault();\n    this.setState({\n      [key]: true,\n    });\n  }\n\n  onClose(key) {\n    this.setState({\n      [key]: false,\n    });\n  }\n\n  getRandomColor(uuid){\n    const colors = ['#1BA39C', '#1abc9c', '#2ecc71', '#3498db', '#9b59b6', '#34495e', '#f1c40f', '#e67e22', '#e74c3c'];\n    return colors[uuid.charCodeAt(0)%8];\n  }\n\n  goToGroup(uuid) {\n    let currentTab = this.props.history.location.pathname.split('/').pop();\n    this.props.history.push(`/groups/${uuid}/${currentTab}`);\n  }\n\n  renderCoterieItem(coteriePk) {\n    let coterie = this.props.coteries[coteriePk];\n    return (\n      <List.Item\n        key={coterie.pk}\n        extra={coterie.members.length + \" members\"}\n        align=\"top\"\n        onClick={() =>\n          Modal.alert('Switch to group ' + coterie.name + '?', '', [\n            { text: 'Cancel' },\n            { text: 'OK', style:{color:'#1BA39C'},\n              onPress: () => {\n              this.goToGroup(coterie.uuid);\n              this.onClose('coterieModal');\n            }},\n          ])\n        }\n      >\n        {coterie.name}\n        <List.Item.Brief>{coterie.description}</List.Item.Brief>\n      </List.Item>\n    );\n  }\n\n  render() {\n    const hasAdministratedCoteries = !_.isEmpty(this.props.user.administratedCoteries);\n    const hasJoinedCoteries = !_.isEmpty(this.props.user.joinedCoteries);\n\n    return (\n      <div>\n        <NavBar\n          mode=\"light\"\n          style={{\n            boxShadow: '0px 1px 3px rgba(28, 28, 28, .1)',\n            zIndex: 10000000,\n            position: 'relative',\n            paddingRight: 8,\n          }}\n          leftContent={\n            <Avatar\n              alt=\"avatar\"\n              style={{width: 28, height: 28}}\n              src={this.props.user.portrait_url}\n              onClick={(e) => {\n                console.log(\"User avatar clicked\")\n                this.props.history.push('/profile')\n              }}\n            />\n          }\n          rightContent={[\n            <Icon\n              key=\"0\"\n              type=\"search\"\n              style={{ marginRight: '16px' }}\n              onClick={(e) => {this.props.match.params.groupUuid ? this.props.history.push('/search/' + this.props.match.params.groupUuid) : this.props.history.push('/search')}}\n            />,\n            <div key = \"1\">\n            {\n              this.props.match.params.groupUuid\n              ?\n              <Badge\n                color=\"primary\"\n                classes={{ badge: this.props.classes.badge }}\n                badgeContent={\n                  <Avatar className={this.props.classes.avatar}\n                    style={{backgroundColor: this.getRandomColor(this.props.match.params.groupUuid)}}>\n                    <span style={{fontSize: '80%'}}>\n                        {this.props.coteries[this.props.match.params.groupUuid]['name'].charAt(0)}\n                    </span>\n                  </Avatar>}\n              >\n                <PeopleOutlineIcon\n                  style={{color: \"rgb(101, 119, 134)\", height: 25, width: 25}}\n                  onClick={(e) => {\n                    this.props.getMyCoteries();\n                    this.showModal('coterieModal', e);\n                  }}\n                />\n              </Badge>\n              :\n              <PeopleOutlineIcon\n                style={{color: \"rgb(101, 119, 134)\", height: 25, width: 25}}\n                onClick={(e) => {\n                  this.props.getMyCoteries();\n                  this.showModal('coterieModal', e);\n                }}\n              />\n            }\n\n            <Modal\n              popup\n              visible={this.state.coterieModal}\n              onClose={() => this.onClose('coterieModal')}\n              animationType=\"slide-up\"\n              style={{overflow: 'auto', maxHeight: '80vh'}}\n            >\n              <List\n                renderHeader={() =>\n                  <b style={{color: \"#1BA39C\"}}>SWITCH GROUP</b>\n                }\n                className=\"popup-list\"\n              >\n                <List.Item\n                  onClick={() => {\n                    let currentTab = this.props.history.location.pathname.split('/').pop();\n                    Modal.alert('Switch to public?', 'This is where everyone is in.', [\n                      { text: 'Cancel' },\n                      { text: 'OK', style: {color: '#1BA39C'},\n                        onPress: () => {\n                        this.props.history.push(`/${currentTab}`);\n                        this.onClose('coterieModal');\n                      }},\n                    ])\n                  }}\n                >\n                  Public\n                </List.Item>\n                { !hasJoinedCoteries && !hasAdministratedCoteries &&\n                  <div>You have not joined any groups.</div>\n                }\n                { hasAdministratedCoteries &&\n                  <List\n                    renderHeader={() =>\n                      <b>Administrated</b>\n                    }\n                  >\n                    {this.props.user.administratedCoteries.map((coteriePk) => {\n                      return this.renderCoterieItem(coteriePk);\n                    })}\n                  </List>\n                }\n                { hasJoinedCoteries &&\n                  <List\n                    renderHeader={() =>\n                      <b>Joined</b>\n                    }\n                  >\n                    {this.props.user.joinedCoteries.map((coteriePk) => {\n                      return this.renderCoterieItem(coteriePk);\n                    })}\n                  </List>\n                }\n                <List.Item>\n                  <Button\n                    type=\"primary\"\n                    style={{backgroundColor: \"#1BA39C\"}}\n                    onClick={() => {\n                      this.onClose('coterieModal');\n                      this.props.history.push(\"/create-coterie-form\");\n                    }}\n                  >Create a new group</Button>\n                </List.Item>\n              </List>\n            </Modal>\n          </div>\n          ]\n          }\n        >\n          {this.props.title}\n        </NavBar>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    coteries: state.coteries\n  };\n}\n\nconst styles = theme => ({\n  badge: {\n    top: 6,\n    right: -16,\n    border: `1px solid white`,\n  },\n  avatar: {\n    width: '100%',\n    height: '100%',\n  },\n});\nexport default connect(mapStateToProps, actions)(withStyles(styles)(Navbar));\n","import './theme.css'\n\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport * as actions from '../actions';\nimport { connect } from 'react-redux';\nimport Navbar from './nav_bar';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TimeAgo from 'react-timeago';\nimport Grid from '@material-ui/core/Grid';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\n\nimport { Tabs, WhiteSpace, List } from 'antd-mobile';\nimport { StickyContainer, Sticky } from 'react-sticky';\n\nclass Explore extends Component {\n  state = { loading: true }\n\n  componentDidMount() {\n    const fetchData = async () => {\n      try {\n        await this.props.getExploreDocuments();\n        await this.props.getExploreReadlists();    \n      } catch (error) {\n        console.error(error);\n        return;\n      }\n      this.setState({loading: false})\n    }\n    fetchData();\n  }\n\n  renderReactSticky(props) {\n    return (\n      <Sticky>\n        {({ style }) =>\n          <div style={{  ...style, zIndex: 1 }}>\n            <Tabs.DefaultTabBar {...props} />\n          </div>\n        }\n      </Sticky>\n    )\n  }\n\n  renderDocumentsSubgrid(documents, title) {\n    if (!documents.length) {\n      return (<div></div>)\n    }\n    const data = documents.map((element) => {\n      return (\n        <div key={element.open_url}>\n          <GridListTile className={'grid-tile'} key={element.open_url} onClick={() => {this.props.history.push(`${element.open_url}`)}}>\n              <Grid container alignItems=\"center\" style={{height: '100%'}}>\n                <img src={element.image} alt={element.title}/>\n              </Grid>\n              <GridListTileBar\n                style={{height: '25%'}}\n                title={<div style={{fontSize: '0.8rem', fontWeight: 'bold'}}>{element.title}</div>}\n                subtitle={<div style={{fontSize: '0.7rem'}}>{<TimeAgo date={element.upload_time} />}</div>}\n              />\n          </GridListTile>\n        </div>\n      )\n    });\n\n    return (\n      <div>\n        <WhiteSpace />\n        <div style={{color: '#888', fontSize: '14px'}}>{title}</div>\n        <WhiteSpace />\n\n        <GridList cellSpacing={0} cols={1} cellHeight={'auto'} style={{flexWrap: 'nowrap', margin: 0}}>\n          {data}\n        </GridList>\n\n      </div>\n    )\n  }\n\n  renderReadlistsSublist(readlists, title) {\n    if (!readlists.length) {\n      return (<div></div>)\n    }\n    const data = readlists.map(element => {\n      return (\n        <List.Item\n          key={element.slug}\n          extra={<TimeAgo date={element.create_time} />}\n          thumb=\"https://cdn0.iconfinder.com/data/icons/small-n-flat/24/678072-folder-document-512.png\"\n          multipleLine\n          onClick={() => {this.props.history.push(`${element.url}`)}}\n        >\n          {element.name}\n          <List.Item.Brief>{element.owner.nickname}</List.Item.Brief>\n        </List.Item>\n      )\n    })\n    return (\n      <div>\n        <List renderHeader={() => title}>\n          {data}\n        </List>\n      </div>\n    )\n  }\n\n  renderExploreDocuments() {\n    const documents = this.props.explore.documents;\n    return (\n      <div>\n        {this.renderDocumentsSubgrid(documents.mostViewsDocuments, \"Most Views\")}\n        {this.renderDocumentsSubgrid(documents.mostStarsDocuments, \"Most Stars\")}\n        {this.renderDocumentsSubgrid(documents.mostAnnotationsDocuments, \"Most Annotations\")}\n      </div>\n    )\n  }\n\n  renderExploreReadlists() {\n    const readlists = this.props.explore.readlists;\n    return (\n      <div>\n        {this.renderReadlistsSublist(readlists.mostCollectorsReadlists, \"Trending Lists\")}\n        {this.renderReadlistsSublist(readlists.newestReadlists, \"Recent Lists\")}\n      </div>\n    )\n  }\n\n  renderStickyTab() {\n    return (\n      <div>\n        <WhiteSpace />\n        <StickyContainer>\n          <Tabs\n            tabs={[{ title: \"Documents\"}, { title: \"Readlists\"}]}\n            initalPage={'t2'}\n            swipeable={false}\n            _renderTabBar={this.renderReactSticky}\n          >\n            <div style={{ justifyContent: 'center', height: '100%'}}>\n              {this.renderExploreDocuments()}\n            </div>\n            <div style={{ justifyContent: 'center', height: '100%'}}>\n              {this.renderExploreReadlists()}\n            </div>\n          </Tabs>\n        </StickyContainer>\n        <WhiteSpace />\n      </div>\n    )\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div>\n          <Navbar title=\"Explore\" history={this.props.history} match={this.props.match}/>\n          <CircularProgress style={{color:\"#1BA39C\",  marginTop: \"38vh\"}} size='10vw' thickness={5} />\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <Navbar title=\"Explore\" history={this.props.history} match={this.props.match}/>\n        {this.renderStickyTab()}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    explore: state.explore\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Explore);\n","import './theme.css'\n\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport * as actions from '../actions';\nimport { connect } from 'react-redux';\nimport Navbar from './nav_bar';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TimeAgo from 'react-timeago';\nimport Grid from '@material-ui/core/Grid';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\n\nimport { Tabs, WhiteSpace, List } from 'antd-mobile';\nimport { StickyContainer, Sticky } from 'react-sticky';\n\nclass GroupExplore extends Component {\n  state = { loading: true }\n\n  componentDidMount() {\n    this.props.getMyCoteries().then(() => {\n      this.setState({ loading: false });\n    });\n  }\n\n  renderReactSticky(props) {\n    return (\n      <Sticky>\n        {({ style }) =>\n          <div style={{  ...style, zIndex: 1 }}>\n            <Tabs.DefaultTabBar {...props} />\n          </div>\n        }\n      </Sticky>\n    )\n  }\n\n  renderCoterieDocuments() {\n    const coterieDocs = this.props.coteries[this.props.match.params.groupUuid].coteriedocument_set;\n    const data = coterieDocs.map(element => {\n      return (\n        <List.Item\n          key={element.slug}\n          extra={<TimeAgo date={element.upload_time} />}\n          thumb=\"https://cdn1.iconfinder.com/data/icons/file-types-23/48/PDF-128.png\"\n          multipleLine\n          onClick={() => {this.props.history.push(`/group-documents/${element.slug}`)}}\n        >\n          {element.title}\n          <List.Item.Brief>{element.uploader_name}</List.Item.Brief>\n        </List.Item>\n      )\n    }).reverse()\n    return (\n      <List>\n        {data}\n      </List>\n    )\n  }\n\n  renderCoterieReadlists() {\n    // ======= TODO: Implement coterie readlists  ==========\n    return (\n      <List>\n        <List.Item>\n          <div style={{color: 'grey', textAlign:'center' }}>\n            Group-based readlists still in development.\n          </div>\n        </List.Item>\n      </List>\n    )\n    // ======================================================\n  }\n\n  renderStickyTab() {\n    return (\n      <div>\n        <WhiteSpace />\n        <StickyContainer>\n          <Tabs\n            tabs={[{ title: \"Documents\"}, { title: \"Readlists\"}]}\n            initalPage={'t2'}\n            swipeable={false}\n            _renderTabBar={this.renderReactSticky}\n          >\n            <div style={{ justifyContent: 'center', height: '100%'}}>\n              {this.renderCoterieDocuments()}\n            </div>\n            <div style={{ justifyContent: 'center', height: '100%'}}>\n              {this.renderCoterieReadlists()}\n            </div>\n          </Tabs>\n        </StickyContainer>\n        <WhiteSpace />\n      </div>\n    )\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div>\n          <Navbar title=\"\" history={this.props.history} match={this.props.match}/>\n          <CircularProgress style={{color:\"#1BA39C\",  marginTop: \"38vh\"}} size='10vw' thickness={5} />\n        </div>\n      );\n    }\n    const coterieName= this.props.coteries[this.props.match.params.groupUuid].name;\n    return (\n      <div>\n        <Navbar title={coterieName} history={this.props.history} match={this.props.match}/>\n        {this.renderStickyTab()}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    explore: state.explore,\n    coteries: state.coteries\n  };\n}\n\nexport default connect(mapStateToProps, actions)(GroupExplore);\n","import _ from 'lodash';\nimport React from 'react';\nimport * as actions from '../actions';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nclass ConfirmationDialog extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      value: props.value,\n    };\n  }\n\n  componentDidMount() {\n    // TODO: Change to group readlist to after it is implemented\n    this.props.getMyReadlists();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.value !== this.props.value) {\n      this.setState({ value: nextProps.value });\n    }\n  }\n\n  handleEntering = () => {\n    this.radioGroupRef.focus();\n  };\n\n  handleCancel = () => {\n    this.props.onClose(this.props.value);\n  };\n\n  handleClear = () => {\n    this.props.onClose(undefined);\n  };\n\n  handleOk = () => {\n    this.props.onClose(this.state.value);\n  };\n\n  handleChange = (event, value) => {\n    this.setState({ value });\n  };\n\n  render() {\n    const { value, onClose, open } = this.props;\n\n    return (\n      <Dialog\n        disableBackdropClick\n        disableEscapeKeyDown\n        maxWidth=\"xs\"\n        onEntering={this.handleEntering}\n        aria-labelledby=\"confirmation-dialog-title\"\n        onClose={onClose}\n        open={open}\n      >\n        <DialogTitle id=\"confirmation-dialog-title\">Select Readlist</DialogTitle>\n        <DialogContent>\n          <RadioGroup\n            ref={ref => {\n              this.radioGroupRef = ref;\n            }}\n            value={this.state.value}\n            onChange={this.handleChange}\n          >\n            {_.isEmpty(this.props.readlists) &&\n              <span>You don't have any readlist</span>\n            }\n            {_.values(this.props.readlists).map(readlist => (\n              <FormControlLabel value={readlist.slug} key={readlist.slug} control={<Radio color='primary' />} label={readlist.name} />\n            ))}\n          </RadioGroup>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.handleClear} color=\"primary\">\n            Clear\n          </Button>\n          <Button onClick={this.handleCancel} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={this.handleOk} color=\"primary\">\n            Ok\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    readlists: state.readlists\n  };\n}\n\nexport default connect(mapStateToProps, actions)(ConfirmationDialog);\n","import { Toast } from 'antd-mobile';\n\nexport function getCookie(name) {\n  var cookieValue = null\n  if (document.cookie && document.cookie !== '') {\n    var cookies = document.cookie.split(';')\n    for (var i = 0; i < cookies.length; i++) {\n      var cookie = cookies[i].trim()\n      // Does this cookie string begin with the name we want?\n      if (cookie.substring(0, name.length + 1) === (name + '=')) {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1))\n        break\n      }\n    }\n  }\n  return cookieValue\n}\n\nexport function copyToClipboard(content) {\n  const temp = document.createElement('input')\n  temp.style.hidden = true\n  document.body.appendChild(temp)\n  temp.value = content\n  temp.select()\n  document.execCommand('copy')\n  document.body.removeChild(temp)\n}\n\nconst MAX_DOCUMENT_UPLOAD_SIZE = 5 * 1024 * 1024;\n\nexport function validateDocumentSize(file) {\n  if (file.size > MAX_DOCUMENT_UPLOAD_SIZE) {\n    Toast.info('Document size should be less than 5 MB', 1);\n    return false\n  }\n  return true\n}\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport * as actions from '../actions';\nimport { connect } from 'react-redux';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Navbar from './nav_bar';\nimport moment from 'moment';\nimport Avatar from '@material-ui/core/Avatar';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Button from '@material-ui/core/Button';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport TextField from '@material-ui/core/TextField';\nimport ConfirmationDialog from './confirmation_dialog';\nimport AddIcon from '@material-ui/icons/AddBoxOutlined';\nimport CreateIcon from '@material-ui/icons/Create';\nimport ShareIcon from '@material-ui/icons/Share';\nimport DeleteIcon from '@material-ui/icons/DeleteForever';\nimport { Icon, List, Modal, Tabs, Toast, WhiteSpace } from 'antd-mobile';\nimport { StickyContainer, Sticky } from 'react-sticky';\nimport { getCookie, copyToClipboard, validateDocumentSize } from '../utilities/helper';\nimport pdfIcon from '../utilities/pdf.png';\n\nclass Uploads extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uploadedActionModal: false,\n      collectedActionModal: false,\n      uploadDialog: false,\n      chooseReadlistRadio: false,\n      uploadedFile: null,\n      selectedDocument: null,\n      loading: true,\n    };\n\n    this.handleFileDialog = () => {\n      const file = this.finput.files[0];\n      this.setState({uploadDialog: true, uploadedFile: file});\n    }\n\n    this.handleConfirmationDialogClose = value => {\n      this.setState({ value, chooseReadlistRadio: false });\n    };\n\n    this.handleFileSubmit = () => {\n      const file = this.state.uploadedFile;\n      const filenameWithoutExtension = file.name.split('.').slice(0, -1).join('.');\n      const filename = this.state.name ? this.state.name : filenameWithoutExtension;\n      const readlist = this.state.value ? this.props.readlists[this.state.value].uuid : undefined;\n\n      if (file.type !== 'application/pdf') {\n        Toast.fail('File type is not PDF', 1.8)\n        return\n      }\n\n      const user = this.props.user;\n      if ((user === undefined || !user.is_superuser) && !validateDocumentSize(file))\n        return false\n\n      if (filename.includes('.')) {\n        Toast.fail('Special characters are not allowed in file name', 2.8)\n        return\n      }\n\n      var data = new FormData()\n      // TODO: REPLACE WITH USER INPUT NAME\n      data.append('title', filename)\n      data.append('file_upload', file)\n      data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n      this.setState({ uploading: true })\n      Toast.loading('Loading...')\n\n      if (!this.props.match.params.groupUuid) {\n        this.props.uploadDocument(data)\n        .then((response) => {\n          let pk = response.payload.data.pk;\n          if (readlist) {\n            let readlistData = new FormData();\n            readlistData.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n            readlistData.append('add_readlists[]', readlist);\n            this.props.documentChangeReadlists(pk, readlistData)\n            .catch((error) => {\n              Toast.fail('Add to readlist failed!', 2);\n            })\n          }\n        })\n        .then(() => {\n          Toast.success('Upload success!', 1);\n          this.setState({ uploading: false })\n        })\n        .catch((error) => {\n          Toast.fail('Upload failed!', 2);\n        })\n      } else {\n        const coterie_pk = this.props.coteries[this.props.match.params.groupUuid].pk;\n        data.append('coterie_pk', coterie_pk);\n        this.props.uploadCoterieDocument(data).then(() => {\n          // TODO: NEED TO ADD READLIST FOR GROUP ALSO\n          Toast.success('Upload success!', 1);\n          this.setState({ uploading: false })\n        }).catch((error) => {\n          Toast.fail('Upload failed!', 1);\n        })\n      }\n\n      this.finput.value = ''\n    }\n  }\n\n  componentDidMount() {\n    let groupUuid = this.props.match.params.groupUuid;\n    if (groupUuid) {\n      this.props.getMyCoteriesDocument(groupUuid).then(() => {\n        this.setState({loading: false})\n      })\n    } else {\n      this.props.getMyDocuments().then(() => {\n        this.setState({loading: false})\n      })\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    let newGroupUuid = this.props.match.params.groupUuid;\n    if (newGroupUuid !== prevProps.match.params.groupUuid) {\n      if (newGroupUuid) {\n        this.props.getMyCoteriesDocument(newGroupUuid);\n      } else {\n        this.props.getMyDocuments();\n      }\n    }\n  }\n\n  showModal(key, e) {\n    e.preventDefault();\n    this.setState({\n      [key]: true,\n    });\n  }\n\n  onClose(key) {\n    this.setState({\n      [key]: false,\n    });\n  }\n\n  renderReactSticky(props) {\n    return (\n      <Sticky>\n        {({ style }) =>\n          <div style={{ ...style, zIndex: 1 }}>\n            <Tabs.DefaultTabBar {...props} />\n          </div>\n        }\n      </Sticky>\n    )\n  }\n\n  renderListItem(item, isUpload) {\n    return (\n      <div key={item.slug}>\n        <List.Item\n          thumb={<img src={pdfIcon} alt='pdf-icon' style={{height: 28, width: 24}} />}\n          multipleLine\n          onClick={() => {\n            const groupUuid = this.props.match.params.groupUuid\n            if (groupUuid) {\n              const coterie = this.props.coteries[groupUuid]\n              const coterieId = coterie.pk\n              this.props.history.push(`/coteries/${coterieId}/documents/${item.slug}`)\n            } else\n              this.props.history.push(`/documents/${item.slug}`)\n          }}\n        >\n          <div style={{width: '88%', overflow: 'hidden', textOverflow: 'ellipsis'}}>\n            {item.title}\n          </div>\n          <List.Item.Brief>{moment(item.upload_time).format(\"MMMM Do YYYY, h:mm a\")}</List.Item.Brief>\n        </List.Item>\n        <Icon type=\"ellipsis\"\n          style={{position: 'absolute', width:'10%', marginTop: -50, right: 5, color:'#a8a8a8', zIndex: 1}}\n          onClick={(e) => {\n            this.setState({selectedDocument: item.slug})\n            this.showModal(isUpload ? 'uploadedActionModal' : 'collectedActionModal', e);\n          }}/>\n      </div>\n    )\n  }\n\n  renderAddDocument() {\n    return (\n      <List.Item\n        thumb={<AddIcon style={{color:'grey'}} />}\n        onClick={() => this.finput.click()}\n      >\n        <div style={{color:'grey'}}>New document</div>\n        <List.Item.Brief>Click to upload...</List.Item.Brief>\n      </List.Item>\n    )\n  }\n\n  renderUploadedList(list) {\n    const items = list.map((itemId) => {\n      return this.renderListItem(this.props.documents[itemId], true)\n    })\n    return (\n      <List>\n        {this.renderAddDocument()}\n        {items}\n      </List>\n    )\n  }\n\n  renderCollectedList(list) {\n    if (!list.length) {\n      return (\n        <List>\n          <List.Item>\n            <div style={{color: 'grey', textAlign:'center' }}>\n              You haven't collected any document.\n            </div>\n          </List.Item>\n        </List>\n      )\n    }\n    const items = list.map((itemId) => {\n      return this.renderListItem(this.props.documents[itemId], false)\n    })\n    return (\n      <List>\n        {items}\n      </List>\n    )\n  }\n\n  renderStickyTab() {\n    return (\n      <div>\n        <WhiteSpace />\n        <StickyContainer>\n          <Tabs\n            tabs={[{ title: \"Uploaded\"}, { title: \"Collected\"}]}\n            initalPage={'t2'}\n            swipeable={false}\n            _renderTabBar={this.renderReactSticky}\n          >\n            <div style={{ justifyContent: 'center', height: '100%', backgroundColor: '#fff' }}>\n              {this.renderUploadedList(_.orderBy(this.props.user.uploadedDocuments, (docSlug) => {return this.props.documents[docSlug].upload_time}, 'desc'))}\n            </div>\n            <div style={{ justifyContent: 'center', height: '100%', backgroundColor: '#fff' }}>\n              {this.renderCollectedList(_.orderBy(this.props.user.collectedDocuments, (docSlug) => {return this.props.documents[docSlug].upload_time}, 'desc'))}\n            </div>\n          </Tabs>\n        </StickyContainer>\n        <WhiteSpace />\n      </div>\n    )\n  }\n\n  renderRenameModal(currDocument) {\n    return (\n      Modal.prompt('Rename', 'Enter the new name', [\n      { text: 'Cancel' },\n      { text: 'Confirm', onPress: value => {\n        let data = new FormData();\n        data.append('new_title', value);\n        data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n        this.props.renameDocument(currDocument.renameUrl, data);\n      }},\n    ], 'default', currDocument.title)\n    )\n  }\n\n  renderCollectedActionModal() {\n    let currDocument = this.props.documents[this.state.selectedDocument];\n\n    return (\n      <Modal\n        popup\n        visible={this.state.collectedActionModal}\n        onClose={() => this.onClose('collectedActionModal')}\n        animationType=\"slide-up\"\n      >\n        <List\n          renderHeader={() =>\n            <b style={{ color: \"#1BA39C\"}}>{currDocument.title}</b>\n          }\n          className=\"popup-list\"\n        >\n          <List.Item\n            onClick={() => {\n              this.props.history.push('/add-to-readlists')\n            }}>\n            <AddIcon style={{height: 18, color:'#1BA39C',marginRight: 20}}/>\n            Add To Readlist\n          </List.Item>\n          {\n            this.props.match.params.groupUuid ? null :\n            <List.Item\n              onClick={() => {\n                const location = window.location;\n                const url = [location.protocol, '//', location.host, '/documents/', currDocument.slug].join('');\n                copyToClipboard(url);\n                Toast.success('Copied to clipboard!', 1);}}\n            >\n              <ShareIcon style={{height: 18, color:'#1BA39C',marginRight: 20}}/>\n              Share\n            </List.Item>\n          }\n          <List.Item\n            onClick={() => {\n              Modal.alert('Uncollect ' + currDocument.title + '?', '', [\n                { text: 'Cancel' },\n                { text: 'Uncollect', style:{color:'#FF0000'},\n                  onPress: () => {\n                    this.onClose('collectedActionModal');\n                    let data = new FormData();\n                    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n                    this.props.uncollectDocument(currDocument.uncollectUrl, data, currDocument.slug);\n                }},\n              ])\n            }}\n          >\n            <DeleteIcon style={{height: 18, color:'#e74c3c',marginRight: 20}}/>\n            <span style={{color:'#e74c3c'}}>Uncollect</span>\n          </List.Item>\n        </List>\n      </Modal>\n    )\n  }\n\n  renderUploadedActionModal() {\n    let currDocument = this.props.documents[this.state.selectedDocument];\n    return (\n      <Modal\n        popup\n        visible={this.state.uploadedActionModal}\n        onClose={() => this.onClose('uploadedActionModal')}\n        animationType=\"slide-up\"\n      >\n        <List\n          renderHeader={() =>\n            <b style={{ color: \"#1BA39C\"}}>{currDocument.title}</b>\n          }\n          className=\"popup-list\"\n        >\n          <List.Item\n            onClick={() => {\n              this.props.history.push('/add-to-readlists/' + currDocument.slug)\n            }}>\n            <AddIcon style={{height: 18, color:'#1BA39C',marginRight: 20}}/>\n            Add To Readlist\n          </List.Item>\n          {\n            this.props.match.params.groupUuid ? null :\n            <List.Item\n              onClick={() => {\n                const location = window.location;\n                const url = [location.protocol, '//', location.host, '/documents/', currDocument.slug].join('');\n                copyToClipboard(url);\n                Toast.success('Copied to clipboard!', 1);}}\n            >\n              <ShareIcon style={{height: 18, color:'#1BA39C',marginRight: 20}}/>\n              Share\n            </List.Item>\n          }\n          <List.Item\n            onClick={() => {this.renderRenameModal(currDocument)}}\n          >\n            <CreateIcon style={{height: 18, color:'#1BA39C',marginRight: 20}}/>\n            Rename\n          </List.Item>\n          <List.Item\n            onClick={() => {\n              Modal.alert('Delete ' + currDocument.title + '?', '', [\n                { text: 'Cancel' },\n                { text: 'Delete', style:{color:'#FF0000'},\n                  onPress: () => {\n                    this.onClose('uploadedActionModal');\n                    let data = new FormData();\n                    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n                    this.props.deleteDocument(currDocument.delete_url, data, currDocument.slug);\n                }},\n              ])\n            }}\n          >\n            <DeleteIcon style={{height: 18, color:'#e74c3c',marginRight: 20}}/>\n            <span style={{color:'#e74c3c'}}>Delete</span>\n          </List.Item>\n        </List>\n      </Modal>\n    )\n  }\n\n  renderFileItem(file) {\n    if (!file) return (<div>File upload failed!</div>)\n    return (\n      <ListItem style={{paddingLeft: 0, paddingRight: 0}}>\n        <img src={pdfIcon} alt='pdf-icon' style={{height: 28, width: 24}} />\n        <ListItemText\n          primary={<div style={{textOverflow: 'ellipsis', whiteSpace: 'nowrap', overflow: 'hidden'}}>{file.name}</div>}\n          secondary={\"Modified \" + moment(file.lastModified).format('MMM D, HH:mm')}\n        />\n      </ListItem>\n    )\n  }\n\n  renderFileNameTextField(file) {\n    if (!file) return (<div></div>)\n    return (\n      <TextField\n        multiline\n        margin=\"dense\"\n        id=\"name\"\n        label=\"Name\"\n        defaultValue={file.name.split('.').slice(0, -1).join('.')}\n        fullWidth\n        onChange={(e) => this.setState({name: e.target.value})}\n      />\n    )\n  }\n\n  renderReadlistSelect(){\n    return (\n      <div>\n        <ListItem\n          style={{padding: 0}}\n          button\n          divider\n          aria-haspopup=\"true\"\n          onClick={(e) => {this.showModal('chooseReadlistRadio', e)}}\n        >\n          <ListItemText primary=\"Readlist\"\n            secondary={this.state.value ?\n              this.props.readlists[this.state.value].name :\n              'Click to select... (optional)'\n            }\n          />\n        </ListItem>\n        <ConfirmationDialog\n          open={this.state.chooseReadlistRadio}\n          onClose={this.handleConfirmationDialogClose}\n          value={this.state.value}\n        />\n      </div>\n    )\n  }\n\n  renderUploadDialog() {\n    let file = this.state.uploadedFile;\n    return (\n      <Dialog\n        onClose={() => {this.onClose('uploadDialog'); this.finput.value = ''}}\n        open={this.state.uploadDialog}\n        aria-labelledby=\"simple-dialog-title\">\n        <DialogTitle id=\"simple-dialog-title\">Upload</DialogTitle>\n        <DialogContent>\n          {this.renderFileItem(file)}\n          {this.renderFileNameTextField(file)}\n          {!this.props.match.params.groupUuid && this.renderReadlistSelect()}\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={() => {\n              this.onClose('uploadDialog');\n              this.finput.value = '';\n            }}\n            color=\"primary\">\n            Cancel\n          </Button>\n          <Button\n            onClick={() => {\n              this.onClose('uploadDialog');\n              this.handleFileSubmit();\n              this.finput.value = '';\n            }}\n            color=\"primary\">\n            Upload\n          </Button>\n        </DialogActions>\n      </Dialog>\n    )\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div>\n          <Navbar title=\"Uploads\" history={this.props.history} match={this.props.match} />\n          <CircularProgress style={{color:\"#1BA39C\",  marginTop: \"38vh\"}} size='10vw' thickness={5} />\n        </div>\n      )\n    }\n\n    return (\n      <div>\n        <Navbar title=\"Uploads\" history={this.props.history} match={this.props.match} />\n        {this.renderStickyTab()}\n        {this.renderUploadedActionModal()}\n        {this.renderCollectedActionModal()}\n        {this.renderUploadDialog()}\n        <input\n          ref={item => this.finput = item}\n          style={{ visibility: 'hidden' }}\n          type={'file'}\n          accept=\"application/pdf\"\n          onChange={async () => this.handleFileDialog()}>\n        </input>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    documents: state.documents,\n    coteries: state.coteries,\n    readlists: state.readlists,\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Uploads);\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport * as actions from '../actions';\nimport { connect } from 'react-redux';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Navbar from './nav_bar';\nimport moment from 'moment';\nimport AddIcon from '@material-ui/icons/AddBoxOutlined';\nimport ShareIcon from '@material-ui/icons/Share';\nimport DeleteIcon from '@material-ui/icons/DeleteForever';\n\nimport { Tabs, WhiteSpace, List, Modal, Toast, Icon } from 'antd-mobile';\nimport { StickyContainer, Sticky } from 'react-sticky';\nimport { getCookie, copyToClipboard } from '../utilities/helper';\n\nclass Readlists extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      createdReadlistActionModal: false,\n      collectedReadlistActionModal: false,\n      selectedReadlist: null,\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    let groupUuid = this.props.match.params.groupUuid;\n    if (groupUuid) {\n      // this.props.getMyCoteriesReadlists(groupUuid).then(() => {\n        this.setState({loading: false})\n      // })\n    } else {\n      this.props.getMyReadlists().then(() => {\n        this.setState({loading: false})\n      })\n    }\n  }\n\n  renderReactSticky(props) {\n    return (\n      <Sticky>\n        {({ style }) =>\n          <div style={{ ...style, zIndex: 1 }}>\n            <Tabs.DefaultTabBar {...props} />\n          </div>\n        }\n      </Sticky>\n    )\n  }\n\n  renderAddReadlist() {\n    // ================ TODO: TEMP CODE UNTIL GROUP-BASED READLISTS ========================\n    let groupUuid = this.props.match.params.groupUuid;\n    if (groupUuid) {\n      return (\n        <div></div>\n      )\n    }\n    // =====================================================================================\n    return (\n      <List.Item\n        thumb={<AddIcon style={{color:'grey'}} />}\n        onClick={() => {this.props.history.push(\"/create-readlist-form\")}}\n      >\n        <div style={{color:'grey'}}>New readlist</div>\n        <List.Item.Brief>Click to create...</List.Item.Brief>\n      </List.Item>\n    )\n  }\n\n  renderReadlist(list, isCreated) {\n    // ================ TODO: TEMP CODE UNTIL GROUP-BASED READLISTS ========================\n    let groupUuid = this.props.match.params.groupUuid;\n    if (groupUuid) {\n      return (\n        <List>\n          <List.Item>\n            <div style={{color: 'grey', textAlign:'center' }}>\n              Group-based readlists still in development.\n            </div>\n          </List.Item>\n        </List>\n      )\n    }\n    // =====================================================================================\n\n    if (!list.length) {\n      return (\n        <List>\n          <List.Item>\n            <div style={{color: 'grey', textAlign:'center' }}>\n              You haven't {isCreated ? 'created' : 'collected'} any readlists.\n            </div>\n          </List.Item>\n        </List>\n      )\n    }\n    const data = list.map(slug => {\n      let element = this.props.readlists[slug];\n      return (\n        <div key={slug}>\n          <List.Item\n            thumb=\"https://cdn0.iconfinder.com/data/icons/small-n-flat/24/678072-folder-document-512.png\"\n            multipleLine\n            arrow=\"horizontal\"\n            onClick={() => {this.props.history.push(`readlists/${slug}`)}}\n          >\n            {element.name}\n            <List.Item.Brief>{moment(element.create_time).format(\"MMMM Do YYYY, h:mm a\")}</List.Item.Brief>\n          </List.Item>\n        </div>\n      )\n    })\n    return (\n      <div>\n        <List>\n          {data}\n        </List>\n      </div>\n    )\n  }\n\n  renderCreatedReadlists() {\n    return (\n      <div>\n        {this.renderAddReadlist()}\n        {this.renderReadlist(_.orderBy(this.props.user.createdReadlists, (readlistSlug) => {return this.props.readlists[readlistSlug].create_time}, 'desc'), true)}\n      </div>\n    )\n  }\n\n  renderCollectedReadlists() {\n    return (\n      <div>\n        {this.renderReadlist(_.orderBy(this.props.user.collectedReadlists, (readlistSlug) => {return this.props.readlists[readlistSlug].create_time}, 'desc'), false)}\n      </div>\n    )\n  }\n\n  renderStickyTab() {\n    return (\n      <div>\n        <WhiteSpace />\n        <StickyContainer>\n          <Tabs\n            tabs={[{ title: \"Created\"}, { title: \"Collected\"}]}\n            initalPage={'t2'}\n            _renderTabBar={this.renderReactSticky}\n          >\n            <div style={{ justifyContent: 'center', height: '100%', backgroundColor: '#fff' }}>\n              {this.renderCreatedReadlists()}\n            </div>\n            <div style={{ justifyContent: 'center', height: '100%', backgroundColor: '#fff' }}>\n              {this.renderCollectedReadlists()}\n            </div>\n          </Tabs>\n        </StickyContainer>\n        <WhiteSpace />\n      </div>\n    )\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div>\n          <Navbar title=\"Readlists\" history={this.props.history} match={this.props.match}/>\n          <CircularProgress style={{color:\"#1BA39C\",  marginTop: \"38vh\"}} size='10vw' thickness={5} />\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <Navbar title=\"Readlists\" history={this.props.history} match={this.props.match}/>\n        {this.renderStickyTab()}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    readlists: state.readlists\n  };\n}\n\n\nexport default connect(mapStateToProps, actions)(Readlists);\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport * as actions from '../actions';\nimport { connect } from 'react-redux';\nimport { Badge, List, WhiteSpace, Modal } from 'antd-mobile';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Navbar from './nav_bar';\nimport moment from 'moment';\nimport Avatar from '@material-ui/core/Avatar';\nimport MailIcon from '@material-ui/icons/Mail';\nimport DoneIcon from '@material-ui/icons/Done';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport MailReadIcon from '@material-ui/icons/DraftsOutlined';\nimport { getCookie } from '../utilities/helper';\n\nclass Notifications extends Component {\n  state = { loading: true }\n\n  componentDidMount() {\n    this.props.getCombinedNotifications().then(() => {\n      this.props.getInvitations().then(() => {\n        this.setState({ loading: false })\n      })\n    })\n  }\n\n  getActionDescription(action) {\n    if (action === 'reply to annotation' || action === 'reply to annotation reply') {\n      return 'replied'\n    }\n    else if (action === 'post annotation') {\n      return 'posted'\n    }\n    return action;\n  }\n\n  formatNotificationTime(timestamp) {\n    if (moment(timestamp).isSame(moment(), 'day')) {\n      return moment(timestamp).format('H:mm');\n    }\n    else if (moment(timestamp).isSame(moment(), 'year')) {\n      return moment(timestamp).format('M-d')\n    }\n    else {\n      return moment(timestamp).format('YYYY-M-d')\n    }\n  }\n\n  renderInvitationList(invitations) {\n    const items = invitations.map((invitation) => {\n      return (\n        <List.Item\n          key={invitation.pk}\n          thumb={<Avatar style={{height:50, width:50, backgroundColor:'#1BA39C'}}><MailIcon style={{height:40}}/></Avatar>}\n          extra={\n            <div style={{  display: 'flex', justifyContent: 'center', flexDirection: 'column', float:'right'}}>\n              <DoneIcon style={{marginBottom: 20, color: '1BA39C'}}\n                onClick={() => {\n                  Modal.alert('Accept', 'Accept invitation to join ' + invitation.coterie_name + '?', [\n                    { text: 'Cancel' },\n                    { text: 'Join', style: {color: '#1BA39C'},\n                      onPress: () => {\n                        let data = new FormData();\n                        data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n                        this.props.acceptInvitation(invitation.accept_url, data, invitation.pk);\n                    }},\n                  ])\n                }}\n              />\n              <ClearIcon style={{color: 'red'}}\n                onClick={() => {\n                  Modal.alert('Decline', 'Decline invitation to join ' + invitation.coterie_name + '?', [\n                    { text: 'Cancel' },\n                    { text: 'Decline', style: {color: '#FF0000'},\n                      onPress: () => {\n                        let data = new FormData();\n                        data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n                        this.props.declineInvitation(invitation.reject_url, data, invitation.pk);\n                    }},\n                  ])\n                }} />\n            </div>\n          }\n          align='middle'\n          multipleLine\n          wrap\n          style={{backgroundColor: '#edf9f6'}}\n          onClick={() => {}}\n        >\n          <b>{invitation.inviter_nickname + \" invited you to join \" + invitation.coterie_name}</b>\n          <List.Item.Brief>\n            { invitation.invitation_message }\n          </List.Item.Brief>\n        </List.Item>\n      )\n    })\n\n    return (\n      <div>\n        <WhiteSpace />\n          <List renderHeader={() => 'Pending invitaions'}\n            style={{textAlign: 'left'}}\n          >\n            {items}\n          </List>\n        <WhiteSpace />\n      </div>\n    )\n  }\n\n  renderNotificationsList(notifications) {\n    const items = notifications.map((notification) => {\n      let isAnnotationRelated = ['reply to annotation', 'post annotation', 'reply to annotation reply'].includes(notification.verb);\n      return (\n        <List.Item\n          key={notification.slug}\n          thumb={(isAnnotationRelated && notification.data) ?\n            <img src={notification.data.image_url} style={{height:50, width:50, borderRadius:'50%'}} /> :\n            <Avatar style={{height:50, width:50, backgroundColor:'#1BA39C'}}><MailIcon style={{height:40}}/></Avatar>}\n          extra={\n            <div style={{display: 'flex', justifyContent: 'center', flexDirection: 'column', float: 'right'}}>\n              <span style={{marginBottom: 10}}>{this.formatNotificationTime(notification.timestamp)}</span>\n              { notification.unread ?\n                <span style={{textAlign: 'right', zIndex: 1000}}\n                  onClick={(e) => {\n                    this.props.markNotificationAsRead(notification.mark_read_url, notification.slug)\n                    e.stopPropagation()}}>\n                  <MailIcon/>\n                </span> :\n                <span style={{textAlign: 'right', zIndex: 1}}><MailReadIcon/></span>\n              }\n            </div>\n          }\n          align=\"top\"\n          multipleLine\n          style={{backgroundColor: notification.unread ? '#edf9f6' : ''}}\n          onClick={() => {\n            this.props.markNotificationAsRead(notification.mark_read_url, notification.slug)\n            if (isAnnotationRelated && notification.data) {\n              this.props.history.push(notification.data.redirect_url)\n            }\n          }}\n        >\n          { notification.unread ?\n            <b>{notification.actor + \" \" + this.getActionDescription(notification.verb) }</b> :\n            notification.actor + \" \" + this.getActionDescription(notification.verb)\n          }\n          <List.Item.Brief>\n            { notification.description }\n          </List.Item.Brief>\n        </List.Item>\n      )\n    })\n\n    return (\n      <div>\n        <WhiteSpace />\n          <List>\n            {items}\n          </List>\n        <WhiteSpace />\n      </div>\n    )\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div>\n          <Navbar title=\"Notifications\" history={this.props.history} match={this.props.match}/>\n          <CircularProgress style={{color:\"#1BA39C\",  marginTop: \"38vh\"}} size='10vw' thickness={5} />\n        </div>\n      );\n    }\n\n    if (_.isEmpty(this.props.notifications) && _.isEmpty(this.props.invitations)) {\n      return (\n        <div>\n          <Navbar title=\"Notifications\" history={this.props.history} match={this.props.match}/>\n          <List>\n            <List.Item>\n              <List.Item.Brief>\n                You are up to date!\n              </List.Item.Brief>\n            </List.Item>\n          </List>\n        </div>\n      )\n    }\n\n    const notifications = _.orderBy(this.props.notifications, 'timestamp', 'desc');\n    const invitations = _.orderBy(this.props.invitations, 'pk', 'desc');\n\n    return (\n      <div>\n        <Navbar title=\"Notifications\" history={this.props.history} match={this.props.match}/>\n        { invitations.length !== 0 && this.renderInvitationList(invitations) }\n        { this.renderNotificationsList(notifications) }\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    notifications: state.notifications,\n    invitations: state.invitations,\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Notifications);\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport * as actions from '../actions';\nimport { connect } from 'react-redux';\nimport validator from 'email-validator';\nimport Navbar from './nav_bar';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { List, WingBlank, WhiteSpace, Card, Modal, Toast } from 'antd-mobile';\nimport PeopleOutlineIcon from '@material-ui/icons/PeopleOutline';\nimport EditIcon from '@material-ui/icons/Edit';\nimport PeopleIcon from '@material-ui/icons/People';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport ExitIcon from '@material-ui/icons/ExitToApp';\nimport KeyIcon from '@material-ui/icons/VpnKey';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport { getCookie } from '../utilities/helper';\n\n\nclass Settings extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFetching: true,\n      memberModal: false,\n      adminModal: false,\n      inviteDialog: false,\n      editDialog: false\n    }\n  }\n\n  componentDidMount() {\n    this.props.getMyCoteries().then(() => {\n      this.setState({isFetching: false})\n    })\n  }\n\n  showModal(key, e) {\n    e.preventDefault();\n    this.setState({\n      [key]: true,\n    });\n  }\n\n  onClose(key) {\n    this.setState({\n      [key]: false,\n    });\n  }\n\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value,\n    });\n  };\n\n  handleFormSubmit() {\n    var [isValid, emailList] = this.preprocessEmailsString(this.state.emails)\n    if (!isValid) {\n      if (emailList)\n        Toast.fail(emailList + ' is not valid! Verify and try again', 2.8)\n      else\n        Toast.fail('Email input is not valid! Try emails separated by commas', 2.8)\n      return\n    }\n    var data = new FormData();\n    data.append('coterie_id', this.props.coteries[this.props.match.params.groupUuid].pk);\n    data.append('invitee_emails', emailList);\n    data.append('invitation_message', this.state.message ? this.state.message : 'No message');\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n    this.props.inviteToCoterie(data).then((response) => {\n      var successful_applications = response.payload.data['successful_invitations']\n      var unregistered_emails = response.payload.data['unregistered_emails']\n      if (successful_applications.length > 0)\n        Toast.success('Invitations successfully sent', 1)\n      if (unregistered_emails.length > 0)\n        Toast.fail('Following emails are not registered yet: ' + unregistered_emails.join(\"\\n\"), 5)\n    })\n  }\n\n  _emailsStringToArray(emailsString) {\n    var rows = emailsString.trim().split(/\\n| /)\n    var emailsArray = []\n    for (var row of rows){\n      emailsArray = emailsArray.concat(row.trim().split(',').filter(element => element !== ''))\n    }\n    return emailsArray\n  }\n\n  preprocessEmailsString(emailsString) {\n    var emailArray = this._emailsStringToArray(emailsString)\n    var returnedEmailArray = []\n    for (var email of emailArray) {\n      email = email.trim()\n      if (!validator.validate(email))\n        return [false, [email]]\n      returnedEmailArray.push(email)\n    }\n    return [true, returnedEmailArray.join(',')]\n  }\n\n  handleGroupEdit() {\n    let currentCoterie = this.props.coteries[this.props.match.params.groupUuid];\n\n    let data = new FormData();\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n\n    if (this.state.new_name && (this.state.new_name !== currentCoterie.name)) {\n      data.append('new_name', this.state.new_name);\n    }\n    if (this.state.new_desc && (this.state.new_desc !== currentCoterie.description)) {\n      data.append('new_desc', this.state.new_desc);\n    }\n    this.props.updateCoterie(data, currentCoterie.pk).then((response) => {\n      this.props.updateCoterieSuccess(currentCoterie.uuid, this.state.new_name, this.state.new_desc)\n    })\n  }\n\n  renderMember(member, currentCoterie) {\n    let isAdmin = this.props.user.administratedCoteries.includes(currentCoterie.uuid);\n    return (\n      <List.Item\n        key={member.pk}\n        thumb={<img src={member.portrait_url} style={{borderRadius: '50%'}} />}\n        align='middle'\n        extra={\n          isAdmin &&\n            <ClearIcon style={{color: 'red'}}\n              onClick={() => {\n                Modal.alert('Remove member ' + member.nickname + '?', '', [\n                  { text: 'Cancel' },\n                  { text: 'Remove', style:{color:'#FF0000'},\n                    onPress: () => {\n                      let data = new FormData();\n                      data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n                      data.append('member_email_address', member.email_address);\n                      this.props.removeMember(currentCoterie.remove_member_url, data, currentCoterie.uuid, member.email_address);\n                  }},\n                ])\n              }}\n            />\n        }\n      >\n        {member.nickname}\n      </List.Item>\n    )\n  }\n\n  renderAdmin(member) {\n    return (\n      <List.Item\n        key={member.pk}\n        thumb={<img src={member.portrait_url} style={{borderRadius: '50%'}} />}\n      >\n        {member.nickname}\n      </List.Item>\n    )\n  }\n\n  renderGroupInfo(currentCoterie) {\n    let isAdmin = this.props.user.administratedCoteries.includes(currentCoterie.uuid);\n    return (\n      <WingBlank size=\"lg\">\n        <WhiteSpace size=\"lg\" />\n        <Card>\n          <Card.Header\n            title={<span style={{marginLeft:20}}>{currentCoterie.name}</span>}\n            thumb={<PeopleOutlineIcon style={{color: 'rgb(101, 119, 134)'}} />}\n            extra={ isAdmin &&\n              <EditIcon onClick={(e) => {this.showModal('editDialog', e)}} />\n            }\n          />\n          <Card.Body>\n            <div>{currentCoterie.description}</div>\n          </Card.Body>\n        </Card>\n        <WhiteSpace size=\"lg\" />\n      </WingBlank>\n    )\n  }\n\n  renderMemberModal(currentCoterie) {\n    return (\n      <Modal\n        popup\n        visible={this.state.memberModal}\n        onClose={() => this.onClose('memberModal')}\n        animationType=\"slide-up\"\n        style={{overflow: 'auto', maxHeight: '80vh'}}\n      >\n        <List\n          renderHeader={() =>\n            <b style={{color: \"#1BA39C\"}}>Members</b>\n          }\n          className=\"popup-list\"\n        >\n          {currentCoterie.members.map((member) => {\n            return this.renderMember(member, currentCoterie);\n          })}\n        </List>\n      </Modal>\n    )\n  }\n\n  renderAdminModal(currentCoterie) {\n    return (\n      <Modal\n        popup\n        visible={this.state.adminModal}\n        onClose={() => this.onClose('adminModal')}\n        animationType=\"slide-up\"\n        style={{overflow: 'auto', maxHeight: '80vh'}}\n      >\n        <List\n          renderHeader={() =>\n            <b style={{color: \"#1BA39C\"}}>Administrators</b>\n          }\n          className=\"popup-list\"\n        >\n          {currentCoterie.administrators.map((admin) => {\n            return this.renderAdmin(admin);\n          })}\n        </List>\n      </Modal>\n    )\n  }\n\n  renderInviteDialog() {\n    return (\n      <div>\n        <Dialog\n          open={this.state.inviteDialog}\n          onClose={() => this.onClose('inviteDialog')}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Invite new members</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              To invite new member to the group, enter the email addresses here separated by commas. We will send invitation messages.\n            </DialogContentText>\n            <TextField\n              required\n              autoFocus\n              multiline\n              margin=\"dense\"\n              id=\"emails\"\n              label=\"Email Address\"\n              type=\"email\"\n              fullWidth\n              onChange={this.handleChange('emails')}\n            />\n            <TextField\n              multiline\n              margin=\"dense\"\n              id=\"message\"\n              label=\"Message\"\n              fullWidth\n              onChange={this.handleChange('message')}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => this.onClose('inviteDialog')} color=\"primary\">\n              Cancel\n            </Button>\n            <Button disabled={_.isEmpty(this.state.emails)}\n              onClick={() => {this.onClose('inviteDialog'); this.handleFormSubmit();}} color=\"primary\">\n              Send\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    )\n  }\n\n  renderEditDialog() {\n    let currentCoterie = this.props.coteries[this.props.match.params.groupUuid];\n\n    return (\n      <div>\n        <Dialog\n          open={this.state.editDialog}\n          onClose={() => this.onClose('editDialog')}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Edit Group Info</DialogTitle>\n          <DialogContent>\n            <TextField\n              autoFocus\n              multiline\n              margin=\"dense\"\n              id=\"new_name\"\n              label=\"New name\"\n              defaultValue={currentCoterie.name}\n              fullWidth\n              onChange={this.handleChange('new_name')}\n            />\n            <TextField\n              multiline\n              margin=\"dense\"\n              id=\"new_desc\"\n              label=\"New description\"\n              defaultValue={currentCoterie.description}\n              fullWidth\n              onChange={this.handleChange('new_desc')}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => this.onClose('editDialog')} color=\"primary\">\n              Cancel\n            </Button>\n            <Button onClick={() => {this.onClose('editDialog'); this.handleGroupEdit();}} color=\"primary\">\n              Send\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    )\n  }\n\n  render() {\n    if (_.isEmpty(this.props.user) || this.state.isFetching) {\n      return (\n        <div>\n          <Navbar title=\"Settings\" history={this.props.history} match={this.props.match} />\n          <CircularProgress style={{color:\"#1BA39C\",  marginTop: \"38vh\"}} size='10vw' thickness={5} />\n        </div>\n      );\n    }\n\n    if (!this.props.match.params.groupUuid) {\n      return (\n        <div>\n          <Navbar title=\"Settings\" history={this.props.history} match={this.props.match} />\n          <h2> You are in the public group. </h2>\n        </div>\n      )\n    }\n\n    const currentCoterie = this.props.coteries[this.props.match.params.groupUuid];\n    let isAdmin = this.props.user.administratedCoteries.includes(currentCoterie.uuid);\n    return (\n      <div>\n        <Navbar title=\"Settings\" history={this.props.history} match={this.props.match}/>\n        {this.renderGroupInfo(currentCoterie)}\n\n        <List>\n          <List.Item\n           thumb={<KeyIcon style={{color: 'orange'}} />}\n           extra={currentCoterie.administrators.length}\n           arrow=\"horizontal\"\n           onClick={(e) => {this.showModal('adminModal', e)}}\n          >\n            Administrators\n          </List.Item>\n          <List.Item\n           thumb={<PeopleIcon style={{color: '42A5F5'}} />}\n           extra={currentCoterie.members.length}\n           arrow=\"horizontal\"\n           onClick={(e) => {this.showModal('memberModal', e)}}\n          >\n            Members\n          </List.Item>\n          { isAdmin &&\n            <List.Item\n             thumb={<PersonAddIcon style={{color: '#1BA39C'}} />}\n             onClick={(e) => {this.showModal('inviteDialog', e)}}\n            >\n              Add someone\n            </List.Item>\n          }\n        </List>\n\n        <WhiteSpace size=\"lg\" />\n        { !isAdmin &&\n          <List>\n            <List.Item\n             thumb={<ExitIcon style={{color: '#FF0000'}} />}\n             onClick={() => {\n               Modal.alert('Leave ' + currentCoterie.name + '?',\n               'Are you sure to exit this group? This cannot be undone',\n               [\n                 { text: 'Cancel' },\n                 { text: 'Leave', style:{color:'#FF0000'},\n                   onPress: () => {\n                     let data = new FormData();\n                     data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n                     this.props.leaveCoterie(data, currentCoterie.pk, currentCoterie.uuid);\n                     this.props.history.push('/explore');\n                 }},\n               ])\n             }}>\n              Leave group\n            </List.Item>\n          </List>\n        }\n        { isAdmin &&\n          <List>\n            <List.Item\n             thumb={<ExitIcon style={{color: '#FF0000'}} />}\n             onClick={() => {\n               Modal.alert('Delete ' + currentCoterie.name + '?',\n               'Are you sure? Deleting the group can affect all existing members. This cannot be undone',\n               [\n                 { text: 'Cancel' },\n                 { text: 'Leave', style:{color: '#FF0000'},\n                   onPress: () => {\n                     let data = new FormData();\n                     data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n                     this.props.deleteCoterie(data, currentCoterie.pk, currentCoterie.uuid);\n                     this.props.history.push('/explore');\n                 }},\n               ])\n             }}>\n              Delete group\n            </List.Item>\n          </List>\n        }\n\n        {this.renderAdminModal(currentCoterie)}\n        {this.renderMemberModal(currentCoterie)}\n        {this.renderInviteDialog()}\n        {this.renderEditDialog()}\n\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    coteries: state.coteries\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Settings);\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Explore from './explore';\nimport GroupExplore from './group_explore';\nimport Uploads from './uploads';\nimport Readlists from './readlists';\nimport Notifications from './notifications';\nimport Settings from './settings';\n\nconst Main = () => (\n  <main>\n    <Switch>\n      <Route path=\"/groups\" component={Groups}/>\n      <Route path='/explore' component={Explore}/>\n      <Route path='/uploads' component={Uploads}/>\n      <Route path='/readlists' component={Readlists}/>\n      <Route path='/notifications' component={Notifications}/>\n      <Route path='/settings' component={Settings}/>\n    </Switch>\n  </main>\n)\n\nconst Groups = ({match}) => {\n  return(\n    <Switch>\n      <Route path={`${match.url}/:groupUuid?/explore`} component={GroupExplore}/>\n      <Route path={`${match.url}/:groupUuid?/uploads`} component={Uploads}/>\n      <Route path={`${match.url}/:groupUuid?/readlists`} component={Readlists}/>\n      <Route path={`${match.url}/:groupUuid?/notifications`} component={Notifications}/>\n      <Route path={`${match.url}/:groupUuid?/settings`} component={Settings}/>\n    </Switch>\n  );\n};\n\nexport default Main;\n","import './App.css';\n\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\"\nimport { Link, Route, BrowserRouter as Router, Switch } from 'react-router-dom'\nimport React, { Component } from 'react'\nimport _ from 'lodash';\nimport { connect } from 'react-redux';\nimport * as actions from './actions';\nimport BottomTabBar from './components/bottom_tab_bar';\nimport Main from './components/main';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport logo from './logo.svg'\nimport Grid from '@material-ui/core/Grid';\n\n\nclass App extends Component {\n  state = {\n    loading: true\n  }\n\n  componentDidMount() {\n    this.props.getMyCoteries().then(() => {\n      this.setState({loading: false})\n    });\n    this.props.getCombinedNotifications();\n    this.props.getInvitations();\n  }\n\n  render() {\n    if (_.isEmpty(this.props.user) || this.state.loading) {\n      return (\n        <Grid container justify=\"center\" alignItems=\"center\" wrap=\"nowrap\" style={{height: '95vh'}}>\n            <CircularProgress style={{color:\"#1BA39C\"}} size='10vw' thickness={5} />\n        </Grid>\n      )\n    }\n\n    return (\n      <div className=\"App\">\n        <BottomTabBar\n          path={this.props.location.pathname}\n          history={this.props.history}\n          content={<Main />}\n        />\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    coteries: state.coteries,\n  };\n}\n\nexport default connect(mapStateToProps, actions)(App);\n","import _ from 'lodash';\nimport React from 'react';\nimport {connect} from 'react-redux'\nimport * as actions from '../actions';\n\nclass AuthContainer extends React.Component {\n\n  componentDidMount() {\n    if (_.isEmpty(this.props.user)) {\n      this.props.getUser();\n    }\n  }\n\n  render() {\n    return this.props.children;\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps, actions)(AuthContainer);\n","import React, { Component } from 'react';\nimport * as actions from '../actions';\nimport { connect } from 'react-redux';\nimport { Button, Icon, InputItem, List, NavBar, TextareaItem, WhiteSpace } from 'antd-mobile';\nimport { getCookie } from '../utilities/helper';\n\nclass CreateCoterieForm extends Component {\n\n  state = {\n    coterie_name: \"\",\n    coterie_description: \"\"\n  };\n\n  handleSubmit() {\n    let { coterie_name, coterie_description } = this.state;\n\n    let data = new FormData();\n    data.append('coterie_name', coterie_name);\n    data.append('coterie_description', coterie_description);\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n\n    this.props.createCoterie(data);\n    this.props.history.goBack();\n  }\n\n  render() {\n    return (\n      <div>\n        <NavBar\n          mode=\"light\"\n          icon={<Icon type=\"left\" color=\"#1BA39C\" />}\n          onLeftClick={() => this.props.history.goBack()}\n        >Create Group</NavBar>\n        <List renderHeader={() => 'You will be the administrator upon creation'}>\n          <InputItem\n            clear\n            placeholder=\"Name of the group\"\n            onChange={(value) => this.setState({coterie_name: value})}\n          >Name</InputItem>\n        </List>\n        <List renderHeader={() => 'Description'}>\n          <TextareaItem\n            rows={5}\n            count={100}\n            onChange={(value) => this.setState({coterie_description: value})}\n          />\n          <List.Item>\n            <Button\n              disabled={this.state.coterie_name.length === 0}\n              type=\"primary\"\n              style={{backgroundColor: \"#1BA39C\"}}\n              onClick={() => this.handleSubmit()}\n            >Create</Button>\n          </List.Item>\n        </List>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n  };\n}\n\nexport default connect(mapStateToProps, actions)(CreateCoterieForm);\n","import React, { Component } from 'react';\nimport * as actions from '../actions';\nimport { connect } from 'react-redux';\nimport { Button, Icon, InputItem, List, NavBar, TextareaItem, WhiteSpace } from 'antd-mobile';\nimport { getCookie } from '../utilities/helper';\n\nclass CreateReadlistForm extends Component {\n\n  state = {\n    readlist_name: \"\",\n    readlist_description: \"\"\n  };\n\n  handleSubmit() {\n    let { readlist_name, readlist_description } = this.state;\n\n    let data = new FormData();\n    data.append('readlist_name', readlist_name);\n    data.append('description', readlist_description);\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n\n    this.props.createReadlist(data);\n    this.props.history.goBack();\n  }\n\n  render() {\n    return (\n      <div>\n        <NavBar\n          mode=\"light\"\n          icon={<Icon type=\"left\" color=\"#1BA39C\" />}\n          onLeftClick={() => this.props.history.goBack()}\n        >Create Readlist</NavBar>\n        <List>\n          <InputItem\n            clear\n            placeholder=\"Name of the readlist\"\n            onChange={(value) => this.setState({readlist_name: value})}\n          >Name</InputItem>\n        </List>\n        <List renderHeader={() => 'Description'}>\n          <TextareaItem\n            rows={5}\n            count={100}\n            onChange={(value) => this.setState({readlist_description: value})}\n          />\n          <List.Item>\n            <Button\n              disabled={this.state.readlist_name.length === 0}\n              type=\"primary\"\n              style={{backgroundColor: \"#1BA39C\"}}\n              onClick={() => this.handleSubmit()}\n            >Create</Button>\n          </List.Item>\n        </List>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n  };\n}\n\nexport default connect(mapStateToProps, actions)(CreateReadlistForm);\n","import React, { Component } from 'react';\nimport * as actions from '../actions';\nimport { connect } from 'react-redux';\nimport { Button, Icon, InputItem, List, NavBar, TextareaItem, WhiteSpace, Modal } from 'antd-mobile';\nimport { getCookie } from '../utilities/helper';\nimport Avatar from '@material-ui/core/Avatar';\n\nclass EditReadlistForm extends Component {\n\n  state = {\n    readlist_name: \"\",\n    readlist_description: \"\"\n  };\n\n  componentDidMount() {\n    const { slug } = this.props.match.params\n    this.props.getReadlist(slug).then(() => {\n      this.setState({readlist_name: this.props.readlists.readlist.name, readlist_description: this.props.readlists.readlist.description})\n    });\n  }\n\n  handleSubmit() {\n    let { readlist_name, readlist_description } = this.state;\n\n    let data = new FormData();\n    data.append('new_name', readlist_name);\n    data.append('new_desc', readlist_description);\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n\n    this.props.editReadlist(this.props.readlists.readlist.rename_url, data)\n      .then(() => {this.props.editReadlist(this.props.readlists.readlist.change_desc_url, data)})\n      .then(() => {this.props.history.goBack()})\n  }\n\n  handleDelete() {\n    const readlist = this.props.readlists.readlist;\n    Modal.alert('Delete ' + this.state.readlist_name + '?', 'All followers and you will no longer have access', [\n      { text: 'Cancel' },\n      { text: 'Delete', style:{color:'#FF0000'},\n        onPress: () => {\n          let data = new FormData();\n          data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n          this.props.deleteReadlist(readlist.delete_url, data, readlist.slug);\n          this.props.history.push('/readlists')\n      }},\n    ])\n  }\n\n  render() {\n    return (\n      <div>\n        <NavBar\n          mode=\"light\"\n          icon={<Icon type=\"left\" color=\"#1BA39C\" />}\n          onLeftClick={() => this.props.history.goBack()}\n        >Edit Readlist</NavBar>\n      <WhiteSpace />\n      <WhiteSpace />\n        <List>\n          <InputItem\n            clear\n            placeholder=\"Name of the readlist\"\n            value={this.state.readlist_name}\n            onChange={(value) => this.setState({readlist_name: value})}\n          >Name</InputItem>\n        </List>\n        <List renderHeader={() => 'Description'}>\n          <TextareaItem\n            rows={5}\n            count={100}\n            value={this.state.readlist_description}\n            onChange={(value) => this.setState({readlist_description: value})}\n          />\n          <List.Item>\n            <Button\n              disabled={this.state.readlist_name.length === 0}\n              type=\"primary\"\n              style={{backgroundColor: \"#1BA39C\"}}\n              onClick={() => this.handleSubmit()}\n            >Edit</Button>\n          </List.Item>\n          <List.Item>\n            <Button\n              type=\"danger\"\n              type=\"primary\"\n              style={{backgroundColor: \"#e74c3c\"}}\n              onClick={() => this.handleDelete()}\n            >Delete</Button>\n          </List.Item>\n        </List>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    readlists: state.readlists\n  };\n}\n\nexport default connect(mapStateToProps, actions)(EditReadlistForm);\n","function range(end) {\n  return Array(end - 0).fill().map((_, idx) => 0 + idx)\n}\n\n\nfunction constructGetAnnotationsQueryUrl(slug, isGroupDocument) {\n  if (!isGroupDocument)\n    return '/file_viewer/api/documents/byslug/' + slug + '/annotations'\n  else\n    return '/coteries/api/coteriedocuments/byslug/' + slug + '/annotations'\n}\n\n\nfunction constructGetDocumentQueryUrl(slug, isGroupDocument) {\n  if (!isGroupDocument)\n    return '/file_viewer/api/documents/byslug/' + slug\n  else\n    return '/coteries/api/coteriedocuments/byslug/' + slug\n}\n\n\n/*eslint no-undef: \"off\"*/\nfunction renderMathJax() {\n  if (window.hasOwnProperty('MathJax'))\n    MathJax.Hub.Queue(['Typeset', MathJax.Hub])\n}\n\n\nfunction getNextPageIndexWithAnnotations(currentPageIndex, annotationsByPage, numPages) {\n  var i = currentPageIndex + 1\n  while (true) {\n    if (i > numPages) return undefined  // index starts from 1\n\n    if (annotationsByPage[i].length > 0) return i\n    else i += 1\n  }\n}\n\n\nfunction getPreviousPageIndexWithAnnotations(currentPageIndex, annotationsByPage) {\n  var i = currentPageIndex - 1\n  while (true) {\n    if (i < 1) return undefined\n\n    if (annotationsByPage[i].length > 0) return i\n    else i -= 1\n  }\n}\n\n\nfunction getPrevAnnotation(selectedAnnotation, annotationsByPage) {\n  if (selectedAnnotation === undefined || annotationsByPage === undefined) return undefined\n\n  const thisPage = selectedAnnotation.page_index\n  const thisPageAnnotations = annotationsByPage[thisPage]\n  const indexInPage = thisPageAnnotations.indexOf(selectedAnnotation)\n\n  if (indexInPage > 0)\n    return thisPageAnnotations[indexInPage - 1]\n  else {\n    const prevPageWithAnnotations = getPreviousPageIndexWithAnnotations(thisPage, annotationsByPage)\n    if (prevPageWithAnnotations === undefined)\n      return undefined\n\n    const annotations = annotationsByPage[prevPageWithAnnotations]\n    return annotations[annotations.length - 1]\n  }\n}\n\n\nfunction getNextAnnotation(selectedAnnotation, annotationsByPage, numPages) {\n  if (selectedAnnotation === undefined || annotationsByPage === undefined || numPages === undefined) return undefined\n\n  const thisPage = selectedAnnotation.page_index\n  const thisPageAnnotations = annotationsByPage[thisPage]\n  const indexInPage = thisPageAnnotations.indexOf(selectedAnnotation)\n\n  if (indexInPage < thisPageAnnotations.length - 1)\n    return thisPageAnnotations[indexInPage + 1]\n  else {\n    const nextPageWithAnnotations = getNextPageIndexWithAnnotations(thisPage, annotationsByPage, numPages)\n    if (nextPageWithAnnotations === undefined)\n      return undefined\n\n    const annotations = annotationsByPage[nextPageWithAnnotations]\n    return annotations[0]\n  }\n}\n\n\nexport {\n  range,\n  constructGetAnnotationsQueryUrl,\n  constructGetDocumentQueryUrl,\n  renderMathJax,\n  getNextAnnotation,\n  getPrevAnnotation,\n}\n","import * as actions from '../../actions';\n\nimport { copyToClipboard, getCookie } from '../../utilities/helper';\nimport { faEllipsisV, faLink, faLocationArrow, faPencilAlt, faReply, faThumbsUp as faThumbsUped, faTrashAlt } from '@fortawesome/free-solid-svg-icons'\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Chip from '@material-ui/core/Chip';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport Grid from '@material-ui/core/Grid';\nimport KeyboardArrowDown from '@material-ui/icons/KeyboardArrowDown';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport React from 'react'\nimport ReactDOM from 'react-dom';\nimport TimeAgo from 'react-timeago';\nimport Typography from '@material-ui/core/Typography';\nimport axios from 'axios'\nimport { connect } from 'react-redux';\nimport { faThumbsUp } from '@fortawesome/fontawesome-free-regular'\nimport {\n  renderMathJax,\n} from './document_viewer_helper'\nimport { withStyles } from '@material-ui/core/styles';\n\nconst SmallChip = withStyles({\n  root: {\n    height: '20px',\n    margin: '5px',\n  },\n  avatar: {\n    height: '20px',\n    width: '20px',\n  },\n})(Chip);\n\nconst SmallButton = withStyles({\n  root: {\n    minWidth: 0,\n  }\n})(Button);\n\nfunction reduce_comment(comment) {\n  var nickname, portrait_url, prefix, timeago, content\n  var isAnnotation = comment.annotator ? true : false\n  var author = isAnnotation ? comment.annotator : comment.replier\n  var authorpk = author.pk\n  nickname = author.nickname ? author.nickname : 'Anonymous'\n  portrait_url = author.portrait_url ? (\n    author.portrait_url\n    ) : ('/media/portrait/anonymous_portrait.png')\n  if (comment.edit_time === null) {\n    prefix = 'posted'\n    timeago = comment.post_time\n  } else {\n    prefix = 'edited'\n    timeago = comment.edit_time\n  }\n  content = comment.content\n  return {\n    nickname: nickname,\n    portrait_url: portrait_url,\n    prefix: prefix,\n    timeago: timeago,\n    content: content,\n    uuid: comment.uuid,\n    pk: comment.pk,\n    numReplies: comment.replies ? comment.replies.length : 0,\n    isAnnotation: isAnnotation,\n    authorpk: authorpk,\n  }\n}\n\nconst MENU_ITEM_HEIGHT = 48;\n\nclass AnnotationThread extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state.likeSet = new Set();\n  }\n\n  commentBlock (comment, isHead=false) {\n    return (\n      <div key={comment.uuid} className={isHead ? 'comment-head' : 'comment-body'}>\n        <Grid>\n          <Grid container justify=\"flex-start\" alignItems=\"center\" wrap=\"nowrap\">\n            <Grid item>\n              <SmallChip\n                label={comment.nickname}\n                avatar={<Avatar src={comment.portrait_url} />}\n              />\n            </Grid>\n            <Grid item>\n              <Typography variant=\"caption\">{comment.prefix} <TimeAgo date={comment.timeago} /></Typography>\n            </Grid>\n          </Grid>\n          {/* TOP ROW OF COMMENT --- Contains: content */}\n          <Grid>\n            <div className='comment-text' dangerouslySetInnerHTML={{__html: comment.content}}></div>\n          </Grid>\n          {/* BOTTOM ROW OF COMMENT --- Contains: User info, 4 buttons to modify comment */}\n          <Grid container justify=\"space-between\" alignItems=\"center\" wrap=\"nowrap\">\n            {/* BOTTOM ROW LEFT SIDE --- Contains: portrait, name, post/edit time */}\n            <Grid container justify=\"flex-start\" alignItems=\"center\" wrap=\"nowrap\">\n              {isHead && <SmallChip icon={<KeyboardArrowDown/>} label={comment.numReplies + ((comment.numReplies === 1) ? ' reply' : ' replies')} variant='outlined'></SmallChip>}\n            </Grid>\n            {/* BOTTOM ROW RIGHT SIDE --- Contains: Locate, Reply, Like, More options */}\n            <Grid container justify=\"flex-end\" alignItems=\"center\" wrap=\"nowrap\">\n              {isHead && //Locate Arrow only exists for header\n              <Grid item>\n                <SmallButton color=\"primary\" onClick={() => {this.locateComment(this.props.annotationArea)}} >\n                  <FontAwesomeIcon icon={faLocationArrow} />\n                </SmallButton>\n              </Grid>}\n              <Grid item>\n                <SmallButton color=\"primary\" onClick={() => {isHead ? this.replyAnnotation(comment) : this.replyReply(comment)}} >\n                  <FontAwesomeIcon icon={faReply} />\n                </SmallButton>\n              </Grid>\n              <Grid item>\n                <SmallButton color=\"primary\" style={{color: '#1BA39C'}} disabled={this.state.likeSet.has(comment.uuid)} onClick={() => {isHead ? this.likeAnnotation(comment) : this.likeReply(comment)}} >\n                  <FontAwesomeIcon icon={this.state.likeSet.has(comment.uuid) ? faThumbsUped : faThumbsUp} />\n                </SmallButton>\n              </Grid>\n              <Grid item>\n                <SmallButton color=\"primary\" onClick={event => this.openContextMenu(event, comment, isHead)}>\n                  <FontAwesomeIcon icon={faEllipsisV} />\n                </SmallButton>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </div>\n    )\n  }\n\n  state = {\n    commentMenuElement: null,\n    commentMenuUuid: null,\n  };\n\n  openContextMenu = (event, comment, isHead) => {\n    this.setState({\n      commentMenuElement: event.currentTarget,\n      selectedComment: comment,\n      selectedCommentIsReply: !isHead,\n    });\n  };\n\n  closeContextMenu = value => {\n    this.setState({\n      commentMenuElement: null,\n      selectedComment: null,\n    });\n  };\n\n  /** LOCATE REPLY LIKE EDIT SHARE DELETE */\n\n  locateComment = (element) => {\n    element.scrollIntoView({behavior: \"smooth\"});\n  }\n\n  replyAnnotation = (comment) => {\n    this.props.setParentState({\n      replyToAnnotationReplyId: null,\n      replyToAnnotationReplyUuid: null,\n      annotationOpen: false,\n      annotationLinearLinkedListOpen: true,\n    }) /**Hide current annotation drawer and show text input */\n  }\n\n  replyReply = (comment) => {\n    this.props.setParentState({\n      replyToAnnotationReplyId: comment.pk,\n      replyToAnnotationReplyUuid: comment.uuid,\n      annotationOpen: false,\n      annotationLinearLinkedListOpen: true,\n    }) /**Hide current annotation drawer and show text input */\n  }\n\n  likeAnnotation = (comment) => {\n    var data = new FormData()\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n    data.append('operation', 'like_annotation')\n    data.append('annotation_id', comment.pk)\n    axios.post(window.location.pathname + '/', data).then(response => {\n      this.setState({likeSet: this.state.likeSet.add(comment.uuid)})\n    })\n  }\n\n  likeReply = (comment) => {\n    var data = new FormData()\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n    data.append('operation', 'like_annotation_reply')\n    data.append('annotation_reply_id', comment.pk)\n    axios.post(window.location.pathname + '/', data).then(response => {\n      this.setState({likeSet: this.state.likeSet.add(comment.uuid)})\n    })\n  }\n\n  editComment = () => {\n    this.closeContextMenu();\n    this.props.setParentState({\n      annotationOpen: false,\n      editCommentOpen: true,\n      editTextContent: this.state.selectedComment.content,\n      selectedComment: this.state.selectedComment,\n    })\n  }\n\n  shareComment = () => {\n    let url = [window.location.protocol, '//', window.location.host, window.location.pathname].join('') + '?annotation=' + this.state.selectedComment.uuid;\n    copyToClipboard(url);\n    /* TODO: Debug why not copying. Add toast to indicate copied to clipboard to util? or here. Change to share function in future?*/\n    console.log(url)\n    this.closeContextMenu();\n  }\n\n  deleteComment = () => {\n    var operation = this.state.selectedCommentIsReply ? 'delete_annotation_reply' : 'delete_annotation'\n    var idType = this.state.selectedCommentIsReply ? 'reply_id' : 'annotation_id'\n    var index = parseInt(this.state.selectedComment.page_index)\n    var data = new FormData()\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n    data.append('operation', operation)\n    data.append(idType, this.state.selectedComment.pk)\n    data.append('document_id', this.props.pdfDocument.pk)\n    console.log(this.state.selectedComment)\n    var selectedAnnotation = this.props.selectedAnnotation;\n    var annotations = this.props.annotations\n    var annotationsByPage = this.props.annotationsByPage\n    var selectedComment = this.state.selectedComment\n    axios.post(window.location.pathname + '/', data).then(response => {\n      console.log(response)\n      console.log(annotations)\n      console.log(annotationsByPage)\n      if (this.state.selectedCommentIsReply) {\n        var i = 0\n        selectedAnnotation.replies.map((reply) => {\n          if (reply.uuid == selectedComment.uuid) {\n            selectedAnnotation.replies.splice(i, 1)\n            annotations[selectedAnnotation.uuid] = selectedAnnotation\n            this.props.setParentState({annotations: annotations})\n          }\n          i++;\n        })\n      } else {\n        delete annotations[selectedAnnotation.uuid]\n        var i = 0\n        annotationsByPage[selectedAnnotation.page_index].map((annotation) => {\n          if (annotation.uuid == selectedAnnotation.uuid) {\n            annotationsByPage[selectedAnnotation.page_index].splice(i, 1)\n            this.props.setParentState({\n              annotations: annotations,\n              annotationsByPage: annotationsByPage,\n              annotationOpen: false,\n              selectedAnnotation: undefined,\n            })\n          }\n          i ++;\n        })\n      }\n    })\n    this.closeContextMenu();\n  }\n\n  componentDidMount() {\n    renderMathJax()\n  }\n\n  render() {\n    const { commentMenuElement } = this.state;\n    const open = Boolean(commentMenuElement);\n    var selectedAnnotation = this.props.selectedAnnotation;\n    return (\n      <div>\n        {this.commentBlock(reduce_comment(selectedAnnotation), true)}\n        {selectedAnnotation.replies.map(reply =>\n          this.commentBlock(reduce_comment(reply))\n        )}\n        <Menu\n          className='menu'\n          anchorEl={commentMenuElement}\n          open={open}\n          onClose={this.closeContextMenu}\n          PaperProps={{\n            style: {\n              maxHeight: MENU_ITEM_HEIGHT * 4.5,\n            },\n          }}\n        >\n          { this.state.selectedComment && this.props.user.pk == this.state.selectedComment.authorpk && <MenuItem onClick={this.editComment}>\n            <SmallButton color=\"primary\">\n              <FontAwesomeIcon icon={faPencilAlt} />\n            </SmallButton><Typography>Edit</Typography>\n          </MenuItem> }\n          <MenuItem onClick={this.shareComment}>\n            <SmallButton color=\"primary\">\n              <FontAwesomeIcon icon={faLink} />\n            </SmallButton><Typography>Share link</Typography>\n          </MenuItem>\n          { this.state.selectedComment && this.props.user.pk == this.state.selectedComment.authorpk && <MenuItem onClick={this.deleteComment}>\n            <SmallButton color=\"primary\">\n              <FontAwesomeIcon icon={faTrashAlt} />\n            </SmallButton><Typography>Delete</Typography>\n          </MenuItem> }\n        </Menu>\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    coteries: state.coteries,\n    // document: state.document,\n  };\n}\n\nexport default connect(mapStateToProps, actions)(AnnotationThread);\n","import Button from '@material-ui/core/Button';\nimport React from 'react'\nimport { withStyles } from '@material-ui/core/styles';\nimport Grow from '@material-ui/core/Grow';\n\n\nconst styles = theme => ({\n  root: {\n    position: 'relative',\n    minHeight: 200,\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing.unit * 2,\n    right: theme.spacing.unit * 2,\n  },\n});\n\n\nclass FlaoatingButton extends React.Component {\n  constructor(props, context) {\n    super(props, context)\n    this.state = {\n      value: 0,\n      content: undefined,\n    };\n\n    this.onClick = () => {\n      this.props.clickCallback()\n    }\n  }\n\n\n  render() {\n    const { classes, theme } = this.props;\n    const transitionDuration = {\n      enter: theme.transitions.duration.enteringScreen,\n      exit: theme.transitions.duration.leavingScreen,\n    };\n\n    return (\n      // <div>\n        <Grow in={this.props.show}>\n          <Button\n            variant=\"fab\"\n            className={classes.fab + ' scan-receipt-btn'}\n            style={{position: 'fixed', bottom: 60, zIndex: 1000, backgroundColor: this.props.color,}}\n            onClick={this.onClick}\n          >\n            {this.props.icon}\n          </Button>\n        </Grow>\n      // </div>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(FlaoatingButton);\n","import './document_viewer.css'\n\nimport * as actions from '../../actions';\n\nimport { ActivityIndicator, Icon, Modal, NavBar, TextareaItem } from 'antd-mobile';\nimport {MuiThemeProvider, createMuiTheme} from '@material-ui/core/styles';\nimport {\n  constructGetAnnotationsQueryUrl,\n  constructGetDocumentQueryUrl,\n  range,\n  getNextAnnotation,\n  getPrevAnnotation,\n} from './document_viewer_helper'\nimport {\n  faPaperPlane,\n  faTimesCircle\n} from '@fortawesome/free-solid-svg-icons'\n\nimport AddComment from '@material-ui/icons/AddComment';\nimport AnnotationThread from './annotation_thread'\nimport Avatar from '@material-ui/core/Avatar';\nimport DoneAll from '@material-ui/icons/DoneAll';\nimport Drawer from '@material-ui/core/Drawer';\nimport FloatButton from './float_button'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport Grid from '@material-ui/core/Grid';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport FormatListBulletedRounded from '@material-ui/icons/FormatListBulletedRounded';\nimport React from 'react'\nimport { Rnd } from 'react-rnd'\nimport Tappable from 'react-tappable';\nimport TextField from '@material-ui/core/TextField';\nimport axios from 'axios'\nimport { connect } from 'react-redux';\nimport { getCookie } from '../../utilities/helper';\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport IconButton from '@material-ui/core/IconButton';\n\nlibrary.add(faPaperPlane, faTimesCircle)\n\n// import Drawer from 'rc-drawer';\n\n// const TAP_TIME_THRESHOLD = 180  // in milisecond\n\n/*eslint no-undef: \"off\"*/\n\nconst RENDERING = 'RENDERING'\nconst ANNOTATION_WIDTH_THRESHOLD = 8\nconst ANNOTATION_HEIGHT_THRESHOLD = 8\nconst alert = Modal.alert;\n\n\nclass DocumentViewer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.pdfDoc = undefined\n    this.taskList = []\n    this.finishList = []\n    this.rendering = false\n    this.clearnessLevel = 3.8  // too small then not clear, not large then rendering consumes much resource\n    this.currentPageIndex = 1\n    this.annotationAreas = {}\n    this.prevScroll = window.pageYOffset\n    this.annotationFirstTouch = false\n    // this.touchLength = 0\n    this.state = {\n      document: {\n        title: ''\n      },\n      loading: true,\n      numPages: 0,\n      currentScale: 1,\n      scaleFactor: 1.08,\n      sampleWidth: undefined,\n      sampleHeight: undefined,\n      annotations: {},\n      annotationsByPage: {},\n      annotationOpen: false,\n      annotationLinearLinkedListOpen: false,\n      editCommentOpen: false,\n      newAnnotationInputOpen: false,\n      selectedAnnotation: undefined,\n      mode: 'view',  // view or comment\n      showFloatButton: true,\n      creatingAnnotationAtPageIndex: undefined,\n      newAnnotationContent: '',\n      newAnnotationReplyContent: '',\n      editTextContent: '',\n      // pageCanvasWidth: 660,\n    }\n\n    this.dynamicRenderOnScroll = () => {\n      var pageIndex = Math.ceil((window.pageYOffset / this.viewerWrappper.scrollHeight * this.state.numPages))\n      if (pageIndex === this.currentPageIndex)\n        return\n\n      this.currentPageIndex = pageIndex\n\n      const left = 2\n      const right = 6\n      var renderOrNot = range(right + left + 1).map(i => true)\n\n      // clear pages which are out of view\n      var index = 0\n      for (var i = 0; i < this.finishList.length; i++) {\n        if (this.finishList[index] - pageIndex >= -left && this.finishList[index] - pageIndex <= right) {\n          renderOrNot[this.finishList[index] - (pageIndex - left)] = false\n          index += 1\n        } else {\n          var pre = document.getElementById('page-canvas-' + this.finishList[index])\n          pre.width = 0\n          pre.height = 0\n          this.finishList.splice(index, 1)\n        }\n      }\n\n      // keep the first renderTask since it is still in RENDERING status,\n      // delete the rest since they are in PENDING status\n      this.taskList.splice(1)\n\n      // add in the new task\n      for (var i = 0; i < renderOrNot.length; i++)\n        if (renderOrNot[i])\n          this.pushNewPageRenderingTask(pageIndex - left + i)\n      if (!this.rendering)\n        this.renderTaskList()\n    }\n\n    this.handleScroll = () => {\n      this.dynamicRenderOnScroll()\n      const thisScroll = window.pageYOffset\n      if (thisScroll - this.prevScroll > 8)  // scroll down\n        this.setState({showFloatButton: false})\n      else if (this.prevScroll - thisScroll > 8)\n        this.setState({showFloatButton: true})\n      this.prevScroll = thisScroll\n    }\n\n    this.pushNewPageRenderingTask = (pageIndex) => {\n      if (pageIndex >= 1 && pageIndex <= this.state.numPages)\n        this.taskList.push({\n          pageIndex: pageIndex,\n          status: RENDERING,\n          taskObj: null,\n        })\n    }\n\n    this.renderTaskList = () => {\n      if (this.taskList.length <= 0)\n        return\n      this.rendering = true\n      var scale = this.state.currentScale\n      var clearnessLevel = this.clearnessLevel\n\n      var currentPageIndex = this.taskList[0].pageIndex\n      const self = this\n      this.pdfDoc.getPage(currentPageIndex).then(function(page) {\n        var canvas = document.getElementById('page-canvas-' + currentPageIndex)\n        if (canvas === null) return\n        var context = canvas.getContext('2d')\n        var viewport = page.getViewport(clearnessLevel * scale)\n        canvas.height = viewport.height\n        canvas.width = viewport.width\n        canvas.style.height = viewport.height / clearnessLevel + 'px'\n        canvas.style.width = viewport.width / clearnessLevel + 'px'\n        var renderContext = {\n          canvasContext: context,\n          viewport: viewport,\n        }\n        self.taskList[0].status = RENDERING\n        self.taskList[0].taskObj = page.render(renderContext)\n        self.taskList[0].taskObj.promise.then(function() {\n          self.taskList.shift()\n          self.finishList.push(currentPageIndex)\n          self.rendering = false\n          self.renderTaskList()\n        })\n      })\n    }\n\n    this.renderAnnotationAreas = (numPages) => {\n      axios.get(constructGetAnnotationsQueryUrl(this.props.match.params.slug, this.props.isGroupDocument)).then(response => {\n        var data = response.data\n\n        var annotationsByPage = {}\n        var annotations = {}\n        for (var i = 1; i <= numPages; i++)\n          annotationsByPage[i] = []\n        for (var annotation of data) {\n          annotationsByPage[parseInt(annotation.page_index)].push(annotation)\n          annotations[annotation.uuid] = annotation\n        }\n\n        this.setState({\n          annotations: annotations,\n          annotationsByPage: annotationsByPage\n        })\n        console.log(annotations)\n        console.log(annotationsByPage)\n      })\n    }\n\n    this.configSizeAccordingToLastPageAndRenderTheFirstSeveralPages = (pdf) => {\n      const self = this\n      pdf.getPage(pdf.numPages).then(function(lastPage) {\n        var currentScale = (window.innerWidth * 1.0) / lastPage.getViewport(1).width\n\n        self.setState({\n          currentScale: currentScale,\n          sampleWidth: lastPage.getViewport(currentScale).width,\n          sampleHeight: lastPage.getViewport(currentScale).height\n        })\n        self.pushNewPageRenderingTask(1)\n        self.pushNewPageRenderingTask(2)\n        self.pushNewPageRenderingTask(3)\n        self.pushNewPageRenderingTask(4)\n        self.renderTaskList()\n      })\n    }\n\n    this.styleDrawer = () => {\n      if (this.annotationWrapper === undefined) return\n      if (this.annotationWrapper.parentElement.classList.contains('annotation-drawer')) return\n      this.annotationWrapper.parentElement.classList.add('annotation-drawer')\n    }\n\n    this.selectAnnotation = (uuid) => {\n      if (this.state.selectedAnnotation !== undefined)\n        this.annotationAreas[this.state.selectedAnnotation.uuid].classList.remove('highlighted-annotation-area')\n\n      this.setState({selectedAnnotation: this.state.annotations[uuid]})\n      this.annotationAreas[uuid].classList.add('highlighted-annotation-area')\n      const rgba = this.annotationAreas[uuid].style.background\n      this.annotationAreas[uuid].style.borderColor = rgba.split(',').slice(0,3).join(',') + ', 0.38)'\n\n      if (!this.state.annotationOpen) {\n        this.styleDrawer()\n        this.setState({ annotationOpen: true, annotationLinearLinkedListOpen: false, editCommentOpen: false });\n      }\n    }\n\n    this.deselectAnnotation = () => {\n      if (this.state.selectedAnnotation !== undefined)\n        this.annotationAreas[this.state.selectedAnnotation.uuid].classList.remove('highlighted-annotation-area')\n      this.setState({ annotationOpen: false });\n      this.setState({ selectedAnnotation: undefined })\n    }\n\n    this.lockScroll = (e) => {\n      if (e.targetTouches.length === 1)\n        e.preventDefault()\n    }\n\n    this.changeToCommentMode = () => {\n      this.setState({mode: 'comment'})\n      document.getElementsByTagName(\"BODY\")[0].addEventListener('touchmove', this.lockScroll, { passive: false })\n    }\n\n    this.changeToViewMode = () => {\n      this.setState({mode: 'view', creatingAnnotationAtPageIndex: undefined, newAnnotationInputOpen: false})\n      document.getElementsByTagName(\"BODY\")[0].removeEventListener('touchmove', this.lockScroll)\n    }\n\n    this.postAnnotation = () => {\n      if (this.state.newAnnotationWidth < ANNOTATION_WIDTH_THRESHOLD || this.state.newAnnotationHeight < ANNOTATION_HEIGHT_THRESHOLD)\n        return\n\n      var data = new FormData()\n      data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n      data.append('operation', 'annotate')\n      data.append('page_id', 'page_id_' + this.state.creatingAnnotationAtPageIndex)\n      data.append('annotation_content', this.state.newAnnotationContent)\n      data.append('top_percent', this.state.newAnnotationY / this.state.sampleHeight)\n      data.append('left_percent', this.state.newAnnotationX / this.state.sampleWidth)\n      data.append('height_percent', this.state.newAnnotationHeight / this.state.sampleHeight)\n      data.append('width_percent', this.state.newAnnotationWidth / this.state.sampleWidth)\n      data.append('frame_color', window.getComputedStyle(document.getElementById('annotation-being-created') ,null).getPropertyValue('background-color'))\n      data.append('document_id', this.state.document.pk)\n      data.append('is_public', true)\n      axios.post(window.location.pathname + '/', data).then(response => {\n        var newAnnotation = response.data['new_annotation_json']\n        var annotationsByPage = this.state.annotationsByPage\n        var annotations = this.state.annotations\n        annotationsByPage[parseInt(newAnnotation.page_index)].push(newAnnotation)\n        annotations[newAnnotation.uuid] = newAnnotation\n        this.setState({\n          annotations: annotations,\n          annotationsByPage: annotationsByPage,\n          newAnnotationContent: '',\n          mode: 'view', creatingAnnotationAtPageIndex: undefined, newAnnotationInputOpen: false\n        })\n        document.getElementsByTagName(\"BODY\")[0].removeEventListener('touchmove', this.lockScroll)\n      }).catch(err => {\n        alert('', 'You need to login to post', [\n          { text: 'Cancel', onPress: () => {} },\n          { text: 'Go login', onPress: () => this.props.history.push('/sign-in') },\n        ])\n      })\n    }\n\n    this.cancelCurrentAnnotation = () => {\n      this.setState({creatingAnnotationAtPageIndex: undefined, newAnnotationInputOpen: false})\n    }\n\n    this.postAnnotationReply = () => {\n      var data = new FormData()\n      console.log(this.state.replyToAnnotationReplyId)\n      data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n      data.append('operation', 'reply_annotation')\n      data.append('annotation_reply_content', this.state.newAnnotationReplyContent)\n      data.append('reply_to_annotation_id', this.state.selectedAnnotation.pk)\n      this.state.replyToAnnotationReplyId && data.append('reply_to_annotation_reply_id', this.state.replyToAnnotationReplyId)\n      data.append('document_id', this.state.document.pk)\n      data.append('is_public', true)\n      axios.post(window.location.pathname + '/', data).then(response => {\n        var annotations = this.state.annotations\n        annotations[this.state.selectedAnnotation.uuid].replies.push(response.data['new_annotationreply_json'])\n        this.setState({annotations: annotations,\n                        newAnnotationReplyContent: '',\n                        annotationOpen: true, annotationLinearLinkedListOpen: false,})\n      })\n    }\n\n    this.cancelCurrentAnnotationReply = () => {\n      this.setState({annotationOpen: true, annotationLinearLinkedListOpen: false,})\n    }\n\n    this.postEdit = () => {\n      var appName = window.location.pathname.split('/')[1]\n      var api = this.state.selectedComment.isAnnotation ? '/api/annotations/' : '/api/annotationreplies/'\n      var path = '/' + appName + api + this.state.selectedComment.pk + '/edit'\n      console.log(path)\n      var data = new FormData()\n      data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n      data.append('new_content', this.state.editTextContent)\n      axios.post(path, data).then(response => {\n        var annotations = this.state.annotations\n        if (this.state.selectedComment.isAnnotation) {\n          annotations[this.state.selectedAnnotation.uuid].content = this.state.editTextContent\n        } else {\n          for (var i=0; i < annotations[this.state.selectedAnnotation.uuid].replies.length; i++) {\n            if (annotations[this.state.selectedAnnotation.uuid].replies[i].uuid == this.state.selectedComment.uuid) {\n              annotations[this.state.selectedAnnotation.uuid].replies[i].content = this.state.editTextContent\n              break\n            }\n          }\n        }\n        this.setState({\n          annotationOpen: true,\n          editCommentOpen: false,\n          annotations: annotations,\n        })\n      })\n    }\n\n    this.cancelEdit = () => {\n      this.setState({annotationOpen: true, editCommentOpen: false,})\n    }\n  }\n\n  componentDidMount() {\n    axios.get(constructGetDocumentQueryUrl(this.props.match.params.slug, this.props.isGroupDocument)).then(response => {\n      this.setState({\n        document: response.data\n      })\n      console.log(response.data)\n      PDFJS.workerSrc = '/static/pdfjs/pdf.worker.js'\n\n      const self = this\n      PDFJS.getDocument(response.data.url).then(function(pdf) {  // hard code a pdf ulr and test\n        self.pdfDoc = pdf\n        self.setState({\n          numPages: pdf.numPages,\n        })\n        self.setState({loading: false})\n        self.renderAnnotationAreas(pdf.numPages)\n        self.configSizeAccordingToLastPageAndRenderTheFirstSeveralPages(pdf)\n      })\n\n      window.addEventListener('scroll', this.handleScroll, { passive: true })\n    })\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll)\n  }\n\n  render() {\n    var selectedAnnotation = this.state.selectedAnnotation\n\n    function getPositionRelativeToPageTopLeft(e, pageIndex) {\n      var touch_absolute_x = e.touches.item(0).pageX  // relative to the left top corner of the body\n      var touch_absolute_y = e.touches.item(0).pageY\n      const page = document.getElementById('page-div-' + pageIndex)\n      const page_top_left_x = page.offsetLeft\n      const page_top_left_y = page.offsetTop\n      return [touch_absolute_x - page_top_left_x, touch_absolute_y - page_top_left_y]\n    }\n\n    function gestureOnRND(e) {\n      var target;\n      if (e.touches.item(0) === null)\n        target = e.target\n      else\n        target = e.touches.item(0).target\n      const annotationBeingCreated = document.getElementById('annotation-being-created')\n      if (annotationBeingCreated !== null)\n        if (annotationBeingCreated === target || annotationBeingCreated.contains(target))\n          return true\n      return false\n    }\n\n    var viewWrapper = (\n      <div\n        ref={(ele) => this.viewerWrappper = ele}\n        className='viewer-wrapper'\n      >\n        {\n          range(this.state.numPages).map((i) => {\n            const pageIndex = i + 1\n            return (\n              <div\n                className='page-div' key={pageIndex}\n                id={'page-div-' + pageIndex}\n                style={{position: 'relative', width: this.state.sampleWidth, height: this.state.sampleHeight}}\n                onTouchStart={(e) => {\n                  if (this.state.mode === 'view') return\n                  if (gestureOnRND(e)) return\n                  if (this.state.creatingAnnotationAtPageIndex !== undefined) return  // && this.state.creatingAnnotationAtPageIndex === pageIndex\n\n                  this.annotationFirstTouch = true\n                  const [bottom_right_relative_x, bottom_right_relative_y] = getPositionRelativeToPageTopLeft(e, pageIndex)\n                  this.setState({\n                    creatingAnnotationAtPageIndex: pageIndex,\n                    originalAnnotationX: bottom_right_relative_x,\n                    originalAnnotationY: bottom_right_relative_y,\n                    newAnnotationX: bottom_right_relative_x,\n                    newAnnotationY: bottom_right_relative_y,\n                    newAnnotationWidth: 0,\n                    newAnnotationHeight: 0,\n                  })\n                }}\n                onTouchMove={(e) => {\n                  if (this.state.mode === 'view') return\n                  if (gestureOnRND(e)) return\n                  if (!this.annotationFirstTouch) return\n\n                  const [bottom_right_relative_x, bottom_right_relative_y] = getPositionRelativeToPageTopLeft(e, pageIndex)\n                  var newAnnotationX = bottom_right_relative_x > this.state.originalAnnotationX ? this.state.originalAnnotationX : bottom_right_relative_x\n                  newAnnotationX = Math.max(0.01, newAnnotationX)\n                  var newAnnotationY = bottom_right_relative_y > this.state.originalAnnotationY ? this.state.originalAnnotationY : bottom_right_relative_y\n                  newAnnotationY = Math.max(0.01, newAnnotationY)\n\n                  var newAnnotationWidth = Math.abs(bottom_right_relative_x - this.state.originalAnnotationX)\n                  if (bottom_right_relative_x < this.state.originalAnnotationX)\n                    newAnnotationWidth = Math.min(newAnnotationWidth, this.state.originalAnnotationX)\n                  else\n                    newAnnotationWidth = Math.min(newAnnotationWidth, this.state.sampleWidth - newAnnotationX)\n\n                  var newAnnotationHeight = Math.abs(bottom_right_relative_y - this.state.originalAnnotationY)\n                  if (bottom_right_relative_y < this.state.originalAnnotationY)\n                    newAnnotationHeight = Math.min(newAnnotationHeight, this.state.originalAnnotationY)\n                  else\n                    newAnnotationHeight = Math.min(newAnnotationHeight, this.state.sampleHeight - newAnnotationY)\n\n                  this.setState({ newAnnotationWidth: newAnnotationWidth, newAnnotationHeight: newAnnotationHeight })\n                  this.rnd.updatePosition({ x: newAnnotationX, y: newAnnotationY })\n                }}\n                onTouchEnd={(e) => {\n                  if (this.state.mode === 'view') return\n                  if (gestureOnRND(e)) return\n                  this.setState({\n                    newAnnotationX: this.rnd.draggable.state.x,\n                    newAnnotationY: this.rnd.draggable.state.y,\n                    newAnnotationWidth: this.rnd.props.size.width,\n                    newAnnotationHeight: this.rnd.props.size.height,\n                  })\n                  if (this.annotationFirstTouch) {\n                    this.annotationFirstTouch = false\n                    this.setState({newAnnotationInputOpen: true})\n                    return\n                  }\n                }}\n              >\n                <canvas style={{position: 'absolute'}} className='page-canvas' id={'page-canvas-' + (i + 1)}></canvas>\n                {\n                  this.state.creatingAnnotationAtPageIndex === pageIndex ?\n                  <Rnd\n                    ref={c => { this.rnd = c; }}\n                    bounds='parent'\n                    size={{ width: this.state.newAnnotationWidth,  height: this.state.newAnnotationHeight }}\n                    id='annotation-being-created'\n                    className='annotation-area'\n                    onDragStop={(e, d) => { this.setState({ newAnnotationX: d.x, newAnnotationY: d.y }) }}\n                    onResizeStop={(e, direction, ref, delta, position) => {\n                      direction = direction.toLowerCase()\n                      this.setState({\n                        newAnnotationWidth: parseFloat(ref.style.width),\n                        newAnnotationHeight: parseFloat(ref.style.height),\n                        newAnnotationX: position.x - (direction.includes(\"left\") ? delta.width : 0),\n                        newAnnotationY: position.y - (direction.includes(\"top\") ? delta.height : 0),\n                      });\n                    }}\n                  >\n                  </Rnd> : null\n                }\n                {\n                  this.state.annotationsByPage[pageIndex] !== undefined ?\n                    this.state.annotationsByPage[pageIndex].map(annotation =>\n                      <Tappable\n                        key={annotation.pk}\n                        moveThreshold={10}\n                        onTap={() => {\n                          if (this.state.mode === 'comment') return\n                          this.selectAnnotation(annotation.uuid)\n                        }}\n                      >\n                        <div\n                          className='annotation-area'\n                          style={{\n                            background: annotation.frame_color,\n                            position: 'absolute',\n                            width: this.state.sampleWidth * annotation.width_percent,\n                            height: this.state.sampleHeight * annotation.height_percent,\n                            left: this.state.sampleWidth * annotation.left_percent,\n                            top: this.state.sampleHeight * annotation.top_percent,\n                          }}\n                          ref={ele => this.annotationAreas[annotation.uuid] = ele}\n                          annotation-id={annotation.pk}\n                          annotation-uuid={annotation.uuid}\n                        >\n                        </div>\n                      </Tappable>\n                    ) : null\n                }\n              </div>\n            )\n          })\n        }\n      </div>\n    )\n\n    return (\n      <div>\n        <NavBar\n          mode=\"light\"\n          icon={<Icon type=\"left\" onClick={() => {\n            this.props.history.goBack()\n          }}/>}\n          rightContent={[\n            <Icon key=\"1\" type=\"ellipsis\" />,\n          ]}\n          style={{\n            boxShadow: '0px 1px 3px rgba(28, 28, 28, .1)',\n            zIndex: 10000000, position: 'relative',\n            // borderBottom: '1px solid #c8c8c8',\n            // height: 38\n          }}\n        >\n          <span className='document-title'>{this.state.document.title}</span>\n        </NavBar>\n\n        <ActivityIndicator toast animating={this.state.loading} />\n\n        <Tappable\n          // onTouchStart={e => this.touchTimer = setInterval((() => this.touchLength += 10), 10)}\n          moveThreshold={10}\n          onTap={(e) => {\n            // console.log(e.targetTouches)\n            // console.log(e.target)\n            // console.log(e.touches)\n            // console.log(this.touchLength)\n            // if (this.touchLength < TAP_TIME_THRESHOLD) {\n            if (this.state.mode === 'comment') return\n            const target = e.target\n            if (target.classList.contains('page-canvas'))\n              this.deselectAnnotation()\n            this.setState({showFloatButton: !this.state.showFloatButton})\n            // }\n            // this.touchLength = 0\n            // clearInterval(this.touchTimer)\n          }}\n        >\n          {viewWrapper}\n        </Tappable>\n\n        <Drawer\n          anchor=\"bottom\"\n          open={this.state.annotationOpen}\n          onClose={() => this.deselectAnnotation()}\n          // ModalProps={{BackdropProps: {invisible: true}}}\n          variant='persistent'\n        >\n          <div>\n            <div\n              // style={{borderBottom: 'solid #ddd 1px', marginBottom: 8}}\n            >\n              <IconButton component=\"span\" style={{left: 8, padding: 6}}\n                disabled={getPrevAnnotation(this.state.selectedAnnotation, this.state.annotationsByPage) === undefined}\n                onClick={e => {\n                  const prevAnnotation = getPrevAnnotation(this.state.selectedAnnotation, this.state.annotationsByPage)\n                  this.selectAnnotation(prevAnnotation.uuid)\n                  this.annotationAreas[prevAnnotation.uuid].scrollIntoView({block: \"start\", behavior: \"smooth\"})\n                }}\n              >\n                <KeyboardArrowLeft />\n              </IconButton>\n              <IconButton component=\"span\" style={{position: 'absolute', right: '12vw', padding: 6}}>\n                <FormatListBulletedRounded />\n              </IconButton>\n              <IconButton component=\"span\" style={{position: 'absolute', right: 8, padding: 6}}\n                disabled={getNextAnnotation(this.state.selectedAnnotation, this.state.annotationsByPage, this.state.numPages) === undefined}\n                onClick={e => {\n                  const nextAnnotation = getNextAnnotation(this.state.selectedAnnotation, this.state.annotationsByPage, this.state.numPages)\n                  this.selectAnnotation(nextAnnotation.uuid)\n                  this.annotationAreas[nextAnnotation.uuid].scrollIntoView({block: \"start\", behavior: \"smooth\"})\n                }}\n              >\n                <KeyboardArrowRight />\n              </IconButton>\n            </div>\n\n            <div ref={ele => this.annotationWrapper = ele}>\n              {\n                selectedAnnotation !== undefined ? (\n                  <AnnotationThread\n                    document={this.state.document}\n                    selectedAnnotation={selectedAnnotation}\n                    annotationArea={this.annotationAreas[selectedAnnotation.uuid]}\n                    annotations={this.state.annotations}\n                    annotationsByPage={this.state.annotationsByPage}\n                    setParentState={this.setState.bind(this)}\n                    pdfDocument={this.state.document}\n                  />\n                ) : null\n              }\n            </div>\n          </div>\n        </Drawer>\n\n        <Drawer\n          anchor=\"bottom\" variant='persistent'\n          open={this.state.newAnnotationInputOpen}\n        >\n          <div style={{textAlign: 'center'}}>\n            {/* <TextareaItem\n              title={<img\n                alt=\"Remy Sharp\"\n                style={{ height: 28, width: 28 }}\n                src=\"https://pmcvariety.files.wordpress.com/2015/07/naruto_movie-lionsgate.jpg?w=1000\"\n              />}\n              placeholder=\"auto focus in Alipay client\"\n              data-seed=\"logId\"\n              ref={el => this.autoFocusInst = el}\n              autoHeight\n            /> */}\n            <Avatar\n              alt=\"User Portrait\"\n              style={{ float: 'left', marginTop: '2%', marginLeft: '2%'}}\n              src={this.props.user.portrait_url}\n            />\n            <MuiThemeProvider theme={createMuiTheme({\n                palette: {\n                  primary: {\n                    main: '#3498db',\n                  }\n                },\n              })}\n            >\n              <TextField\n                id=\"standard-bare\"\n                // className={classes.textField}\n                // defaultValue=\"Bare\"\n                // onFocus={() => {\n                //   window.scrollTo(0, document.getElementById('annotation-being-created').getBoundingClientRect().top + window.scrollY)\n                // }}\n                placeholder=\"Type in your comment...\" margin=\"normal\" style={{width: '66vw', top: -2}}\n                multiline fullWidth value={this.state.newAnnotationContent}\n                onChange={event => {\n                  this.setState({newAnnotationContent: event.target.value})\n                }}\n              />\n            </MuiThemeProvider>\n            {\n              this.state.newAnnotationContent.length === 0\n              ? <FontAwesomeIcon icon={['fas', 'times-circle']} id='cancel-annotation-btn' onClick={this.cancelCurrentAnnotation} />\n              : <FontAwesomeIcon icon={['fas', 'paper-plane']} id='post-annotation-btn' onClick={this.postAnnotation} />\n            }\n          </div>\n        </Drawer>\n\n        <Drawer\n          anchor=\"bottom\"\n          open={this.state.annotationLinearLinkedListOpen}\n          onClose={() => this.reopenAnnotationThread()}\n          variant='persistent'\n        >\n          {/* <Grid container justify=\"space-between\" alignItems=\"center\"> */}\n          <div style={{textAlign: 'center'}}>\n            <Avatar\n              alt=\"User Portrait\"\n              style={{ float: 'left', marginTop: '2%', marginLeft: '2%'}}\n              src={this.props.user.portrait_url}\n            />\n            <MuiThemeProvider theme={createMuiTheme({\n                palette: {\n                  primary: {\n                    main: '#3498db',\n                  }\n                },\n              })}\n            >\n              <TextField\n                ref={ele => this.annotationReplyText = ele}\n                // className={classes.textField}\n                // defaultValue=\"Bare\"\n                placeholder=\"Type in your reply...\" margin=\"normal\" style={{width: '66vw', top: -2}}\n                multiline fullWidth value={this.state.newAnnotationReplyContent}\n                onChange={event => {\n                  this.setState({newAnnotationReplyContent: event.target.value})\n                }}\n              />\n            </MuiThemeProvider>\n            {\n              this.state.newAnnotationReplyContent.length === 0\n              ? <FontAwesomeIcon icon={['fas', 'times-circle']} className='cancel-comment-btn' onClick={this.cancelCurrentAnnotationReply} />\n              : <FontAwesomeIcon icon={['fas', 'paper-plane']} className='commit-comment-btn' onClick={this.postAnnotationReply} />\n            }\n          </div>\n          {/* </Grid> */}\n        </Drawer>\n\n        <Drawer\n          anchor=\"bottom\"\n          open={this.state.editCommentOpen}\n          onClose={() => this.reopenAnnotationThread()}\n          variant='persistent'\n        >\n          {/* <Grid container justify=\"space-between\" alignItems=\"center\"> */}\n          <div style={{textAlign: 'center'}}>\n            <Avatar\n              alt=\"User Portrait\"\n              style={{ float: 'left', marginTop: '2%', marginLeft: '2%'}}\n              src={this.props.user.portrait_url}\n            />\n            <MuiThemeProvider theme={createMuiTheme({\n                palette: {\n                  primary: {\n                    main: '#3498db',\n                  }\n                },\n              })}\n            >\n              <TextField\n                ref={ele => this.editText = ele}\n                // className={classes.textField}\n                // defaultValue=\"Bare\"\n                placeholder=\"Type in your edit...\" margin=\"normal\" style={{width: '66vw', top: -2}}\n                multiline fullWidth value={this.state.editTextContent}\n                onChange={event => {\n                  this.setState({editTextContent: event.target.value})\n                }}\n              />\n            </MuiThemeProvider>\n            {\n              this.state.editTextContent.length === 0\n              ? <FontAwesomeIcon icon={['fas', 'times-circle']} className='cancel-comment-btn' onClick={this.cancelEdit} />\n              : <FontAwesomeIcon icon={['fas', 'paper-plane']} className='commit-comment-btn' onClick={this.postEdit} />\n            }\n          </div>\n          {/* </Grid> */}\n        </Drawer>\n\n        { this.state.mode === 'view'\n          ? <FloatButton color='rgb(27, 163, 156)' icon={<AddComment style={{ color: 'white' }} />} show={this.state.showFloatButton} clickCallback={this.changeToCommentMode} />\n          : <FloatButton color='#108ee9' icon={<DoneAll style={{ color: 'white' }} />} show={true} clickCallback={this.changeToViewMode} />}\n      </div>\n    );\n  }\n}\n\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    coteries: state.coteries\n  };\n}\n\nexport default connect(mapStateToProps, actions)(DocumentViewer);\n","import React, { Component } from 'react';\nimport * as actions from '../actions';\nimport { connect } from 'react-redux';\nimport Navbar from './nav_bar';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { WhiteSpace, List, NavBar, Icon, Toast } from 'antd-mobile';\nimport moment from 'moment';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport CardActions from '@material-ui/core/CardActions';\nimport IconButton from '@material-ui/core/IconButton';\nimport Favorite from '@material-ui/icons/FavoriteBorder';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ShareIcon from '@material-ui/icons/Share';\nimport Avatar from '@material-ui/core/Avatar';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport EditIcon from '@material-ui/icons/Edit';\nimport TimeAgo from 'react-timeago'\n\nimport { getCookie, copyToClipboard } from '../utilities/helper';\n\nclass Readlist extends Component {\n\n  state = {\n    collected: false,\n    loading: true\n  }\n\n  componentDidMount() {\n    const { slug } = this.props.match.params;\n    const fetchData = async () => {\n      try {\n        await this.props.getReadlist(slug);\n        await this.props.getUser();\n        await this.props.getMyReadlists();\n      } catch (error) {\n        console.error(error);\n        return;\n      }\n      const collected = this.props.user.collectedReadlists.includes(this.props.readlists.readlist.slug);\n      const isOwner = this.props.user.pk == this.props.readlists.readlist.owner.pk;\n      console.log(this.props.user);\n      this.setState({\n        collected,\n        isOwner,\n        loading: false\n      });\n    };\n    fetchData();\n  }\n\n  onCollectIconClick = () => {\n    const readlist = this.props.readlists.readlist;\n    if (this.state.isOwner) {\n      Toast.fail('You are the owner of this readlist')\n      return\n    }\n    let data = new FormData();\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n    if (this.state.collected) {\n      console.log(\"uncollectin\")\n      this.props.uncollectReadlist(data, readlist.slug).then(() => {\n        this.setState({collected: false})\n        console.log(\"uncollected\")\n      });\n    } else {\n      console.log(\"collectin\")\n      this.props.collectReadlist(data, readlist.slug).then(() => {\n        this.setState({collected: true})\n        console.log(\"collected\")\n      });\n    }\n    // this.props.uncollectDocument(currDocument.uncollectUrl, data, currDocument.slug);\n  }\n\n  onShareIconClick() {\n    const url = window.location;\n    copyToClipboard(url);\n    Toast.success('Copied to clipboard!', 1);\n  }\n\n  renderDocumentList() {\n    const data = this.props.readlists.readlist.documents.map(element => {\n      return (\n        <List.Item\n          key={element.slug}\n          arrow=\"horizontal\"\n          thumb=\"https://cdn1.iconfinder.com/data/icons/file-types-23/48/PDF-128.png\"\n          multipleLine\n          onClick={() => {this.props.history.push(`/documents/${element.slug}`)}}\n        >\n          {element.title}\n          <List.Item.Brief>{moment(element.upload_time).format(\"MMMM Do YYYY, h:mm a\")}</List.Item.Brief>\n        </List.Item>\n      )\n    })\n    return (\n      <div>\n        <WhiteSpace />\n        <List>\n          {data}\n        </List>\n      </div>\n    )\n  }\n\n  renderReadlistCard() {\n    const readlist = this.props.readlists.readlist;\n    const isOwner = this.state.isOwner;\n    return (\n      <Card style={{margin: '15px 15px 5px 15px'}}>\n        <CardContent>\n          <CardHeader\n            style={{paddingTop: '0', paddingRight: '0'}}\n            action={\n              isOwner ? (\n                <IconButton>\n                  <EditIcon onClick={() => {this.props.history.push(\"/edit-readlist-form/\" + this.props.readlists.readlist.slug)}} />\n                </IconButton>\n              ) : (\n                <div></div>\n              )\n            }\n          />\n          <div style={{textAlign: 'center'}}>\n            <Typography variant=\"h5\" component=\"h5\">\n              {readlist.name}\n            </Typography>\n            <Typography variant=\"subtitle1\" style={{ whiteSpace: 'pre-wrap', wordBreak: 'break-all', hyphens: 'auto', fontSize: 12, marginTop: 12 }}>\n              {readlist.description}\n            </Typography>\n            <br />\n            <div style={{display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\n              <Avatar alt={readlist.owner.nickname} src={readlist.owner.portrait_url} style={{width: 28, height: 28}}/>\n              <Typography variant=\"subtitle2\" color=\"textSecondary\" style={{paddingLeft: 5}}>\n                {readlist.owner.nickname} created {<TimeAgo date={readlist.create_time} />}\n              </Typography>\n            </div>\n          </div>\n        </CardContent>\n        <CardActions>\n          <IconButton aria-label=\"Add to favorites\">\n            {this.state.collected?\n              <FavoriteIcon onClick={this.onCollectIconClick}/> :\n              <Favorite onClick={this.onCollectIconClick}/>\n            }\n          </IconButton>\n          <IconButton aria-label=\"Share\">\n            <ShareIcon onClick={this.onShareIconClick}/>\n          </IconButton>\n        </CardActions>\n      </Card>\n    )\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div>\n          <Navbar title=\"Readlists\" history={this.props.history} match={this.props.match}/>\n          <CircularProgress style={{color:\"#1BA39C\",  marginTop: \"38vh\"}} size='10vw' thickness={5} />\n        </div>\n      )\n    }\n    return (\n      <div>\n        <NavBar\n          mode=\"light\"\n          history={this.props.history}\n          icon={<Icon type=\"left\" onClick={() => this.props.history.goBack()}/>}\n          style={{\n            boxShadow: '0px 1px 3px rgba(28, 28, 28, .1)',\n            zIndex: 10000000,\n            position: 'relative',\n            // borderBottom: '1px solid #c8c8c8',\n            // height: 38\n          }}\n        >\n          <span className='document-title'>\n          Readlists\n          </span>\n        </NavBar>\n        {this.renderReadlistCard()}\n        {this.renderDocumentList()}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    readlists: state.readlists,\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Readlist);\n","import _ from 'lodash';\nimport React from 'react'\nimport { NavBar, Icon, ActivityIndicator, List, WhiteSpace, Button } from 'antd-mobile';\nimport { connect } from 'react-redux';\nimport Navbar from './nav_bar';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport * as actions from '../actions';\nimport { StickyContainer } from 'react-sticky';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { getCookie } from '../utilities/helper';\n\nclass AddToReadlist extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: true,\n      currDocument: {},\n      readlists: []\n    }\n  }\n\n  componentDidMount() {\n    let groupUuid = this.props.match.params.groupUuid;\n    const fetchData = async () => {\n      try {\n        if (groupUuid) {\n        } else {\n          await this.props.getMyDocuments();\n          await this.props.getMyReadlists();\n        }\n      } catch (error) {\n        console.error(error);\n        return;\n      }\n      const currDocument = this.props.documents[window.location.href.split('/').pop()]\n      const currDocumentUuid = currDocument.uuid.replace(/-/g, '');\n      let readlists = this.props.user.createdReadlists.map(slug => {\n        let element = this.props.readlists[slug];\n          return {\n            uuid: element.uuid,\n            name: element.name,\n            count: element.documents_uuids.length,\n            checked: element.documents_uuids.includes(currDocumentUuid)\n          }\n        })\n      this.setState({currDocument: currDocument, loading: false, readlists: readlists})\n    }\n    fetchData();\n  }\n\n  handleChange = (index) => () => {\n    console.log(this.state);\n    const {readlists} = this.state;\n    readlists[index].checked = !readlists[index].checked;\n    readlists[index].checked ? readlists[index].count++ : readlists[index].count--;\n    this.setState({\n      readlists\n    });\n  }\n\n  handleSubmit = () => {\n    const {currDocument, readlists} = this.state;\n    const addReadlists = readlists.filter((element) => {return element.checked}).map((element) => {return element.uuid});\n    const removeReadlists = readlists.filter((element) => {return !element.checked}).map((element) => {return element.uuid});\n    let data = new FormData();\n    data.append('csrfmiddlewaretoken', getCookie('csrftoken'));\n    for (let i = 0; i < addReadlists.length; i++) {\n      data.append('add_readlists[]', addReadlists[i]);\n    }\n    for (let i = 0; i < removeReadlists.length; i++) {\n      data.append('remove_readlists[]', removeReadlists[i]);\n    }\n    this.props.documentChangeReadlists(currDocument.pk, data);\n    this.props.history.goBack();\n  }\n\n  renderOwnedReadlists() {\n    if (_.isEmpty(this.state.readlists)) {\n      return (\n        <div></div>\n      )\n    }\n    const data = this.state.readlists.map((readlist, index) => {\n      return (\n        <div key={readlist.uuid}>\n          <List.Item\n            thumb={\n              <Checkbox\n                color=\"primary\"\n                checked={readlist.checked}\n                onChange={this.handleChange(index)}\n              />\n            }\n            multipleLine\n          >\n            {readlist.name}\n            <List.Item.Brief>{readlist.count + \" Document(s)\"}</List.Item.Brief>\n          </List.Item>\n        </div>\n      )\n    })\n    return (\n      <div>\n        <List>\n          {data}\n          <List.Item>\n            <Button\n              type=\"primary\"\n              style={{backgroundColor: \"#1BA39C\"}}\n              onClick={() => this.handleSubmit()}\n            >OK</Button>\n          </List.Item>\n        </List>\n      </div>\n    )\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div>\n          <Navbar title=\"Add To Readlist\" history={this.props.history} match={this.props.match}/>\n          <CircularProgress style={{color:\"#1BA39C\",  marginTop: \"38vh\"}} size='10vw' thickness={5} />\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <NavBar\n          mode=\"light\"\n          icon={<Icon type=\"left\" onClick={() => this.props.history.goBack()}/>}\n          style={{\n            boxShadow: '0px 1px 3px rgba(28, 28, 28, .1)',\n            zIndex: 10000000,\n            position: 'relative',\n            // borderBottom: '1px solid #c8c8c8',\n            // height: 38\n          }}\n        >\n          <span className='document-title'>\n            Add To Readlist\n          </span>\n        </NavBar>\n        <StickyContainer>\n        <WhiteSpace />\n        <div style={{ justifyContent: 'center', height: '100%'}}>\n          {this.renderOwnedReadlists(this.props.user.createdReadlists)}\n        </div>\n        </StickyContainer>\n        <WhiteSpace />\n\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    readlists: state.readlists,\n    documents: state.documents,\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps, actions)(AddToReadlist);\n","import 'regenerator-runtime/runtime'\nimport 'antd-mobile/dist/antd-mobile.css'\n\nimport { Icon, Toast, NavBar, Button } from 'antd-mobile';\nimport {\n  faFacebook,\n  faGoogle\n} from '@fortawesome/free-brands-svg-icons'\nimport {\n  faUserPlus,\n  faUsers\n} from '@fortawesome/free-solid-svg-icons'\n\nimport Card from '@material-ui/core/Card';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport Logo from '../../logo.svg'\nimport MButton from '@material-ui/core/Button';\nimport React from 'react'\nimport Snackbar from '@material-ui/core/Snackbar';\nimport TextField from '@material-ui/core/TextField';\nimport axios from 'axios'\nimport { getCookie } from '../../utilities/helper';\nimport { library } from '@fortawesome/fontawesome-svg-core'\n\n// import { MySnackbarContentWrapper } from './components/alert_message.jsx'\n\nlibrary.add(faFacebook, faGoogle, faUsers, faUserPlus)\n\n/*eslint no-undef: \"off\"*/\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n    }\n\n    this.signOff = () => {\n      var data = new FormData()\n      data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n      axios.post('/api/signoff', data).then(response => {\n        window.location.href = '/sign-in'\n      })\n    }\n  }\n\n  componentDidMount() {\n  }\n\n  render() {\n    return (\n      <div>\n        <NavBar\n          mode=\"light\"\n          icon={<Icon type=\"left\" onClick={() => this.props.history.goBack()}/>}\n          style={{\n            boxShadow: '0px 1px 3px rgba(28, 28, 28, .1)',\n            zIndex: 10000000,\n            position: 'relative',\n            // borderBottom: '1px solid #c8c8c8',\n            // height: 38\n          }}\n        >\n          <span>\n            Profile\n          </span>\n        </NavBar>\n\n        <Button\n          type=\"primary\"\n          style={{backgroundColor: \"#1BA39C\", marginTop: 28}}\n          onClick={() => this.signOff()}\n        >\n          Log out\n        </Button>\n      </div>\n    )\n  }\n}\n\nexport default Profile\n","import _ from 'lodash';\nimport React from 'react'\nimport { NavBar, Icon, ActivityIndicator, List, WhiteSpace } from 'antd-mobile';\nimport { connect } from 'react-redux';\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport * as actions from '../actions';\nimport TimeAgo from 'react-timeago'\nimport { StickyContainer } from 'react-sticky';\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: false,\n      searchTerm: ''\n    }\n  }\n\n  componentDidMount() {\n    this.props.getMyCoteries();\n  }\n\n  onChange = (e) => {\n    e.preventDefault();\n    const searchTerm = e.target.value;\n    const groupUuid = this.props.match.params.groupUuid;\n    this.setState({searchTerm: searchTerm})\n    if (searchTerm !== '') {\n      if (groupUuid) {\n        this.props.getCoterieSearchResults(searchTerm, groupUuid);\n        return;\n      }\n      this.props.getSearchResults(searchTerm);\n    }\n  };\n\n  renderSearchResultList(results) {\n    if (!results || this.state.searchTerm === '') {\n      return (\n        <div></div>\n      )\n    }\n    const groupUuid = this.props.match.params.groupUuid;\n    let data = [];\n    let documentsPath = `/documents/`\n    if (groupUuid) {\n      documentsPath = `/group-documents/`\n    }\n    if (results.documents) {\n      const documents = results.documents.map(element => {\n        return ({\n          sortKey: element.title,\n          jsx: (\n            <List.Item\n              key={element.slug}\n              arrow=\"horizontal\"\n              thumb=\"https://cdn1.iconfinder.com/data/icons/file-types-23/48/PDF-128.png\"\n              multipleLine\n              onClick={() => {this.props.history.push(documentsPath + `${element.slug}`)}}\n            >\n              {element.title}\n              <List.Item.Brief>\n                Uploaded by {element.uploader_name}, <TimeAgo date={element.upload_time} />\n              </List.Item.Brief>\n            </List.Item>\n          )\n        })\n      })\n      data = data.concat(documents);\n    }\n    if (results.readlists) {\n      const readlists = results.readlists.map(element => {\n        return ({\n          sortKey: element.name,\n          jsx: (\n            <List.Item\n              key={element.slug}\n              arrow=\"horizontal\"\n              thumb=\"https://cdn0.iconfinder.com/data/icons/small-n-flat/24/678072-folder-document-512.png\"\n              multipleLine\n              onClick={() => {this.props.history.push(`readlists/${element.slug}`)}}\n            >\n              {element.name}\n              <List.Item.Brief>\n                Created by {element.owner.nickname}, <TimeAgo date={element.create_time} />\n              </List.Item.Brief>\n            </List.Item>\n          )\n        })\n      })\n      data = data.concat(readlists);\n    }\n    if (results.users) {\n      const users = results.users.map(element => {\n        return ({\n          sortKey: element.nickname,\n          jsx: (\n            <List.Item\n              key={element.pk}\n              arrow=\"horizontal\"\n              thumb={element.portrait_url}\n              multipleLine\n              onClick={() => {console.log(\"user with pk \" + element.pk + \" clicked\")}}\n            >\n              {element.nickname}\n              <List.Item.Brief>\n                {element.email_address}\n              </List.Item.Brief>\n            </List.Item>\n          )\n        })\n      })\n      data = data.concat(users);\n    }\n\n    data = data\n      .sort((a, b) => ('' + a.sortKey).localeCompare(b.sortKey))\n      .map(element => element.jsx);\n\n    return (\n      <div>\n        <List>\n          {data}\n        </List>\n      </div>\n    )\n  }\n\n  render() {\n    let placeholder = \"Search globally..\"\n    let groupUuid = this.props.match.params.groupUuid;\n    if (groupUuid && this.props.coteries[this.props.match.params.groupUuid]) {\n      placeholder = \"Search within \" + this.props.coteries[this.props.match.params.groupUuid]['name'];\n    }\n    return (\n      <div>\n        <NavBar\n          mode=\"light\"\n          icon={<Icon type=\"left\" onClick={() => this.props.history.goBack()}/>}\n          style={{\n            boxShadow: '0px 1px 3px rgba(28, 28, 28, .1)',\n            zIndex: 10000000,\n            position: 'relative',\n            // borderBottom: '1px solid #c8c8c8',\n            // height: 38\n          }}\n        >\n          <span className='document-title'>\n            <Toolbar>\n              <InputBase \n                placeholder={placeholder}\n                autoFocus={true}\n                value={this.state.searchTerm || ''}\n                onChange={this.onChange}\n                fullWidth={true}\n              />\n            </Toolbar>\n          </span>\n        </NavBar>\n        <WhiteSpace />\n        <StickyContainer>\n\n        <div style={{ justifyContent: 'center', height: '100%'}}>\n          {this.renderSearchResultList(this.props.search)}\n        </div>\n        </StickyContainer>\n        <WhiteSpace />\n\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    search: state.search,\n    coteries: state.coteries\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Search);\n","import 'regenerator-runtime/runtime'\n// import 'typeface-roboto'\nimport 'antd-mobile/dist/antd-mobile.css'\nimport './login.css'\n\nimport { Icon, WhiteSpace, Toast } from 'antd-mobile';\nimport {\n  faFacebook,\n  faGoogle\n} from '@fortawesome/free-brands-svg-icons'\nimport {\n  faUserPlus,\n  faUsers\n} from '@fortawesome/free-solid-svg-icons'\n\nimport Card from '@material-ui/core/Card';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport Logo from '../../logo.svg'\nimport MButton from '@material-ui/core/Button';\nimport React from 'react'\nimport Snackbar from '@material-ui/core/Snackbar';\nimport TextField from '@material-ui/core/TextField';\nimport axios from 'axios'\nimport { getCookie } from '../../utilities/helper';\nimport { library } from '@fortawesome/fontawesome-svg-core'\n\n// import { MySnackbarContentWrapper } from './components/alert_message.jsx'\n\nlibrary.add(faFacebook, faGoogle, faUsers, faUserPlus)\n\n/*eslint no-undef: \"off\"*/\nclass Login extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isAuthenticated: false,\n      username: '',\n      password: '',\n      token: '',\n      errorMessage: false,\n    }\n\n    const self = this\n    this.clickLogin = function () {\n      var data = new FormData()\n      data.append('email_address', this.state.username)\n      data.append('password', this.state.password)\n      data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n      axios.post('/api/signin', data)\n        .then(function(response) {\n          if (response.status === 200) {\n            self.props.history.push('/uploads')\n          }\n        })\n        .catch(function (error) {\n          console.log(error)\n          self.setState({ errorMessage: true })\n          Toast.offline('Email or password incorrect', 1.8);\n        });\n    }\n\n    this.facebookLogin = () => {\n      FB.login(function (response) {\n        var data = new FormData()\n        data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n        data.append('auth_response', JSON.stringify(response.authResponse))\n        axios.post('/api/signin/facebook', data).then((response) => {\n          window.location.href = '/'\n        }).catch(e => {\n          Toast.offline('Facebook login unsuccessful', 1.8);\n        })\n      }, { scope: 'email' })  // TODO: get user' friends also\n    }\n\n    this.handleMessageClose = (event, reason) => {\n      if (reason === 'clickaway') {\n        return\n      }\n      this.setState({ errorMessage: false })\n    }\n  }\n\n  componentDidMount() {\n    const self = this\n    function loadFBSdk(d, s, id) {\n      var js, fjs = d.getElementsByTagName(s)[0]\n      if (d.getElementById(id)) return\n      js = d.createElement(s); js.id = id\n      js.src = 'https://connect.facebook.net/en_US/sdk.js'\n      fjs.parentNode.insertBefore(js, fjs)\n    }\n    loadFBSdk(document, 'script', 'facebook-jssdk')\n    window.fbAsyncInit = function() {\n      FB.init({\n        appId: '213151942857648',  // TODO:\n        cookie: true,\n        xfbml: true,\n        version: 'v3.0'\n      })\n      FB.AppEvents.logPageView()\n      self.setState({ fbLoginButtonLoading: false })\n    }\n\n\n    var auth2 = undefined\n    function attachSignin(element) {\n      auth2.attachClickHandler(element, {},\n        function(googleUser) {\n          var data = new FormData()\n          data.append('csrfmiddlewaretoken', getCookie('csrftoken'))\n          data.append('id_token', googleUser.getAuthResponse().id_token)\n          axios.post('/api/signin/google', data).then((response) => {\n            window.location.href = '/'\n          }).catch(e => {\n            console.log(e.response)\n            Toast.offline('Google login unsuccessful', 1.8)\n          })\n        }, function(error) {\n          console.log(JSON.stringify(error, undefined, 2))\n          Toast.offline('Google login unsuccessful', 1.8)\n        }\n      )\n    }\n    gapi.load('auth2', function(){\n      auth2 = gapi.auth2.init({\n        client_id: '887521980338-fj0n0r7ui5cn313f4vh6paqm411upf3o.apps.googleusercontent.com',\n        cookiepolicy: 'single_host_origin',\n      })\n      attachSignin(document.getElementById('google-button'))\n    })\n  }\n\n\n  render() {\n    return (\n      <div>\n        <Card id=\"login-card\">\n          <div className=\"social\" id=\"logo-div\">\n            <img id='logo' src={Logo} />\n          </div>\n\n          <div className=\"social\">\n            <MButton\n              // onClick = {() => this.setState({ showSettleUpModal: true })}\n              variant=\"contained\" size=\"small\"\n              id=\"google-button\"\n              className=\"social-button\"\n            >\n              <FontAwesomeIcon icon={['fab', 'google']} className=\"social-icon\" />\n              <span className=\"social-text\">Log in with Google</span>\n            </MButton>\n          </div>\n\n\n          <WhiteSpace size=\"lg\" />\n          <WhiteSpace size=\"lg\" />\n\n          <div className=\"social\">\n            <MButton\n              // onClick = {() => this.setState({ showSettleUpModal: true })}\n              variant=\"contained\" color=\"primary\" size=\"small\"\n              id=\"facebook-button\"\n              className=\"social-button\"\n              onClick={this.facebookLogin}\n            >\n              <FontAwesomeIcon icon={['fab', 'facebook']} className=\"social-icon\" />\n              <span className=\"social-text\">Log in with Facebook</span>\n            </MButton>\n          </div>\n\n          <WhiteSpace size=\"lg\" />\n          <WhiteSpace size=\"lg\" />\n\n\n\n\n          <div style={{ textAlign: 'center' }}>\n            <TextField\n              className=\"input-width\"\n              label=\"Email Address\"\n              value={this.state.username}\n              onChange={(event) => {\n                this.setState({ username: event.target.value })\n              }}\n            />\n            <WhiteSpace size=\"lg\" />\n            <TextField\n              className=\"input-width\"\n              type=\"password\"\n              label=\"Password\"\n              value={this.state.password}\n              onChange={(event) => this.setState({ password: event.target.value })}\n            />\n          </div>\n\n          <WhiteSpace size=\"lg\" />\n          <WhiteSpace size=\"lg\" />\n\n          <div className=\"social\">\n            <MButton\n              onClick={(event) => this.clickLogin()}\n              variant=\"outlined\" color=\"primary\" size=\"small\"\n              className=\"social-button\"\n            >\n              <Icon type={'check-circle-o'} id=\"submit-icon\" style={{ color: '#1BA39C', marginRight: 8 }} />\n              <span className=\"login-text\" style={{ color: '#1BA39C' }}>Log in</span>\n            </MButton>\n          </div>\n\n          <WhiteSpace size=\"lg\" />\n\n          <div className=\"social\">\n            <MButton\n              // onClick={(event) => window.location.href='/register'}\n              color=\"primary\" size=\"small\"\n              className='social-butto'\n            >\n              {/*<FontAwesomeIcon icon='user-plus' id=\"submit-icon\" style={{ color: '0060c0', marginRight: 8 }} />*/}\n              <span className=\"login-text\" style={{ color: '#1BA39C' }}>Create an Account <br />(Coming soon)</span>\n            </MButton>\n          </div>\n        </Card>\n      </div>\n    )\n  }\n}\n\nexport { Login }\n","import { combineReducers } from 'redux';\nimport user from './reducer_user';\nimport documents from './reducer_documents';\nimport readlists from './reducer_readlists';\nimport explore from './reducer_explore';\nimport notifications from './reducer_notifications';\nimport coteries from './reducer_coteries';\nimport search from './reducer_search';\nimport invitations from './reducer_invitations';\n\nconst rootReducer = combineReducers({\n  user,\n  documents,\n  coteries,\n  readlists,\n  explore,\n  notifications,\n  invitations,\n  search\n});\n\nexport default rootReducer;\n","import _ from 'lodash';\nimport {\n  USER_GET,\n  DOCUMENT_GET_MY,\n  DOCUMENT_UPLOAD,\n  DOCUMENT_DELETE_SUCCESS,\n  DOCUMENT_UNCOLLECT_SUCCESS,\n  READLIST_GET_MY,\n  COTERIE_GET_MY,\n  COTERIE_GET_MY_DOCUMENTS,\n  COTERIE_DOCUMENT_UPLOAD,\n  COTERIE_LEAVE,\n  COTERIE_DELETE,\n} from '../actions/types';\n\nexport default function (state = [], action) {\n  switch (action.type) {\n    case USER_GET:\n      const user = action.payload.data;\n      return _.extend({}, state, user);\n\n    case DOCUMENT_GET_MY:\n      const uploadedDocuments = action.payload.data.uploadedDocuments;\n      const collectedDocuments = action.payload.data.collectedDocuments;\n      return _.extend({}, state,\n        { uploadedDocuments: _.map(uploadedDocuments, 'slug'),\n          collectedDocuments: _.map(collectedDocuments, 'slug')\n        });\n\n    case COTERIE_GET_MY_DOCUMENTS:\n      const coterieMyUploadedDocuments = action.payload.data;\n      return _.extend({}, state,\n        { uploadedDocuments: _.map(coterieMyUploadedDocuments, 'slug'),\n          collectedDocuments: []\n      });\n\n    case DOCUMENT_UPLOAD:\n    case COTERIE_DOCUMENT_UPLOAD:\n      const addedUploadedDocuments = _.concat(state.uploadedDocuments, action.payload.data.slug);\n      return _.extend({}, state, { uploadedDocuments: addedUploadedDocuments });\n\n    case DOCUMENT_DELETE_SUCCESS:\n      const newUploadedDocuments = _.filter(state.uploadedDocuments, (slug) => {return slug !== action.payload});\n      const newCollectedDocuments = _.filter(state.collectedDocuments, (slug) => {return slug !== action.payload});\n      return _.extend({}, state,\n        { uploadedDocuments: newUploadedDocuments,\n          collectedDocuments: newCollectedDocuments\n        });\n\n    case DOCUMENT_UNCOLLECT_SUCCESS:\n      const newCollected = _.filter(state.collectedDocuments, (slug) => {return slug !== action.payload});\n      return _.extend({}, state, {collectedDocuments: newCollected});\n\n    case COTERIE_GET_MY:\n      const joinedCoteries = action.payload.data.joinedCoteries;\n      const administratedCoteries = action.payload.data.administratedCoteries;\n      return _.extend({}, state,\n        { joinedCoteries: _.map(joinedCoteries, 'uuid'),\n          administratedCoteries: _.map(administratedCoteries, 'uuid')\n        });\n\n    case COTERIE_LEAVE:\n      const joinedCoteriesAfterLeave = _.filter(state.joinedCoteries, (uuid) => {return uuid !== action.uuid});\n      return _.extend({}, state, { joinedCoteries: joinedCoteriesAfterLeave});\n\n    case COTERIE_DELETE:\n      const administratedCoteriesAfterDelete = _.filter(state.administratedCoteries, (uuid) => {return uuid !== action.uuid});\n      return _.extend({}, state, { administratedCoteries: administratedCoteriesAfterDelete});\n\n    case READLIST_GET_MY:\n      const createdReadlists = action.payload.data.created_readlists;\n      const collectedReadlists = action.payload.data.collected_readlists;\n      return _.extend({}, state,\n        { createdReadlists: _.map(createdReadlists, 'slug'),\n          collectedReadlists: _.map(collectedReadlists, 'slug')\n        });\n\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport {\n  DOCUMENT_GET_MY,\n  DOCUMENT_UPLOAD,\n  DOCUMENT_RENAME,\n  DOCUMENT_DELETE_SUCCESS,\n  COTERIE_GET_MY_DOCUMENTS,\n  COTERIE_DOCUMENT_UPLOAD,\n} from '../actions/types';\n\nexport default function (state = [], action) {\n  switch (action.type) {\n    case DOCUMENT_GET_MY:\n      const uploadedDocuments = action.payload.data.uploadedDocuments;\n      const collectedDocuments = action.payload.data.collectedDocuments;\n      return _.extend(\n        _.extend({}, state, _.keyBy(uploadedDocuments, 'slug')),\n        _.keyBy(collectedDocuments, 'slug'));\n\n    case COTERIE_GET_MY_DOCUMENTS:\n      const myUploadedDocuments = action.payload.data;\n      return _.extend({}, state, _.keyBy(myUploadedDocuments, 'slug'));\n\n    case DOCUMENT_UPLOAD:\n    case COTERIE_DOCUMENT_UPLOAD:\n      const uploadedDocument = action.payload.data;\n      return _.extend({}, state, {[uploadedDocument.slug]: uploadedDocument});\n\n    case DOCUMENT_RENAME:\n      const renamedDocument = action.payload.data;\n      return _.extend({}, state, {[renamedDocument.slug]: renamedDocument});\n\n    case DOCUMENT_DELETE_SUCCESS:\n      return _.omit(state, action.payload);\n\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport {\n  COTERIE_GET_MY,\n  COTERIE_CREATE,\n  COTERIE_DELETE,\n  COTERIE_UPDATE_SUCCESS,\n  COTERIE_MEMBER_REMOVE,\n} from '../actions/types';\n\nexport default function (state = [], action) {\n  switch (action.type) {\n    case COTERIE_GET_MY:\n      const joinedCoteries = action.payload.data.joinedCoteries;\n      const administratedCoteries = action.payload.data.administratedCoteries;\n      return _.extend(\n        _.extend({}, state, _.keyBy(joinedCoteries, 'uuid')),\n        _.keyBy(administratedCoteries, 'uuid'));\n    case COTERIE_CREATE:\n      const new_coterie = action.payload.data;\n      return _.extend({}, state, {[new_coterie.uuid]: new_coterie});\n    case COTERIE_DELETE:\n      return _.omit(state, action.uuid);\n    case COTERIE_UPDATE_SUCCESS:\n      const updated_coterie = state[action.payload.uuid];\n      if (action.payload.name) updated_coterie.name = action.payload.name;\n      if (action.payload.description) updated_coterie.description = action.payload.description;\n      return _.extend({}, state, {[action.payload.uuid]: updated_coterie});\n    case COTERIE_MEMBER_REMOVE:\n    console.log(action);\n      const member_removed_coterie = state[action.payload.uuid];\n      member_removed_coterie.members = member_removed_coterie.members.filter(member => member.email_address !== action.payload.email);\n      return _.extend({}, state, {[member_removed_coterie.uuid]: member_removed_coterie});\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport {\n  READLIST_GET_MY,\n  READLIST_GET,\n  READLIST_REMOVE_DOCUMENT_SUCCESS\n} from '../actions/types';\n\nexport default function (state = [], action) {\n  switch (action.type) {\n    case READLIST_GET:\n      const readlist = action.payload.data;\n      return _.extend({}, state, {\n        readlist: readlist\n      });\n    case READLIST_GET_MY:\n      const createdReadlists = action.payload.data.created_readlists;\n      const collectedReadlists = action.payload.data.collected_readlists;\n      return _.extend(\n        _.extend({}, state, _.keyBy(createdReadlists, 'slug')),\n        _.keyBy(collectedReadlists, 'slug'));\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport {\n  DOCUMENT_GET_EXPLORE,\n  READLIST_GET_EXPLORE,\n} from '../actions/types';\n\nexport default function (state = [], action) {\n  switch (action.type) {\n    case DOCUMENT_GET_EXPLORE:\n      const mostViewsDocuments = action.payload.data.filter(item => item.description === 'most_views');\n      const mostStarsDocuments = action.payload.data.filter(item => item.description === 'most_collectors');\n      const mostAnnotationsDocuments = action.payload.data.filter(item => item.description === 'most_annotations');\n      return _.extend({}, state, {\n        documents:\n        { mostViewsDocuments: mostViewsDocuments,\n          mostStarsDocuments: mostStarsDocuments,\n          mostAnnotationsDocuments: mostAnnotationsDocuments,\n        }\n      });\n    case READLIST_GET_EXPLORE:\n      const mostCollectorsReadlists = action.payload.data.most_collectors_readlists;\n      const newestReadlists = action.payload.data.newest_readlists;\n      return _.extend({}, state, {\n        readlists:\n        { mostCollectorsReadlists: mostCollectorsReadlists,\n          newestReadlists: newestReadlists,\n        }\n      });\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport {\n  NOTIFICATION_GET_COMBINED,\n  NOTIFICATION_READ\n} from '../actions/types';\n\nexport default function (state = [], action) {\n  switch (action.type) {\n    case NOTIFICATION_GET_COMBINED:\n      const notifications = action.payload.data;\n      return _.extend({}, state, _.keyBy(notifications, 'slug'))\n    case NOTIFICATION_READ:\n      let notification_read = state[action.slug];\n      notification_read.unread = false;\n      return _.extend({}, state, {[notification_read.slug]: notification_read});\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport {\n  INVITATION_GET,\n  INVITATION_ACCEPT,\n  INVITATION_DECLINE,\n} from '../actions/types';\n\nexport default function (state = [], action) {\n  switch (action.type) {\n    case INVITATION_GET:\n      const invitations = action.payload.data;\n      return _.extend({}, state, _.keyBy(invitations, 'pk'));\n    case INVITATION_ACCEPT:\n    case INVITATION_DECLINE:\n      return _.omit(state, action.pk);\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport {\n  SEARCHRESULT_GET,\n  SEARCH_ERROR\n} from '../actions/types';\n\nexport default function (state = [], action) {\n  switch (action.type) {\n    case SEARCHRESULT_GET:\n      const readlists = action.payload.data.resultReadlists;\n      const documents = action.payload.data.resultDocuments;\n      const users = action.payload.data.resultUsers;\n      return _.extend({}, state, {\n        readlists: readlists,\n        documents: documents,\n        users: users,\n      });\n    case SEARCH_ERROR:\n      return {};\n    default:\n      return state;\n  }\n}\n","import './index.css';\nimport 'antd-mobile/dist/antd-mobile.css';\nimport 'typeface-roboto'\n\nimport * as serviceWorker from './serviceWorker';\n\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport { applyMiddleware, compose, createStore } from 'redux';\n\nimport App from './App';\nimport AuthContainer from './components/auth_container';\nimport CreateCoterieForm from './components/create_coterie_form';\nimport CreateReadlistForm from './components/create_readlist_form';\nimport EditReadlistForm from './components/edit_readlist_form';\nimport DocumentViewer from './components/document_viewer/document_viewer';\nimport Readlist from './components/readlist';\nimport AddToReadlist from './components/add_to_readlist';\nimport Profile from './components/profile/profile'\nimport Search from './components/search';\n\nimport { Login } from './components/login/login'\nimport { Provider } from 'react-redux';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport ReduxPromise from 'redux-promise';\nimport ReduxThunk from 'redux-thunk';\n\nimport reducers from './reducers';\n\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\n\nconst theme = createMuiTheme({\n  typography: {\n    useNextVariants: true,\n    suppressDeprecationWarnings: true\n  },\n  palette: {\n    primary: {\n      main: \"#1BA39C\"\n    },\n  }\n});\n\nconst store = createStore(\n  reducers,\n  compose(\n    applyMiddleware(ReduxPromise, ReduxThunk),\n  )\n);\n\nconst renderDocumentViewer = (match, location, history) => {\n  return (\n    <DocumentViewer\n      isGroupDocument={false}\n      match={match}\n      location={location}\n      history={history}\n    />\n)\n}\n\nconst renderGroupDocumentViewer = (match, location, history) => {\n  return (\n    <DocumentViewer\n      isGroupDocument={true}\n      match={match}\n      location={location}\n      history={history}\n    />\n  )\n}\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nReactDOM.render(\n  <MuiThemeProvider theme={theme}>\n    <Provider store={store}>\n      <AuthContainer>\n        <BrowserRouter>\n          <Switch>\n            <Route path=\"/documents/:slug\" render={({match, location, history}) => renderDocumentViewer(match, location, history)} />\n            <Route path=\"/coteries/:coterieId/documents/:slug\" render={({match, location, history}) => renderGroupDocumentViewer(match, location, history)} />\n            <Route path='/readlists/:slug' component={Readlist}/>\n            <Route path=\"/search/:groupUuid\" component={Search} />\n            <Route path=\"/search\" component={Search} />\n            <Route path=\"/profile\" component={Profile} />\n            <Route path=\"/add-to-readlists\" component={AddToReadlist} />\n            <Route path=\"/create-coterie-form\" component={CreateCoterieForm} />\n            <Route path=\"/create-readlist-form\" component={CreateReadlistForm} />\n            <Route path=\"/edit-readlist-form/:slug\" component={EditReadlistForm} />\n            <Route path=\"/sign-in\" component={Login} />\n            <Route exact path=\"/\"render={() => <Redirect to=\"/uploads\" />} />\n            <Route path=\"/\" component={App} />\n          </Switch>\n        </BrowserRouter>\n      </AuthContainer>\n    </Provider>\n  </MuiThemeProvider>\n  , document.getElementById('root'));\nserviceWorker.unregister();\n"],"sourceRoot":""}