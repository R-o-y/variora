<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="icon" href="/media/logo.png">

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-7088638806330528",
      enable_page_level_ads: true
    });
  </script>

  <!-- Hotjar Tracking Code for variora.ml -->
  <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:932030,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
  </script>

  {% include "home/tools_import_subpage.html" %}
  <title>Variora</title>
</head>

<body>
    <div id="main"></div>
</body>

{% if DEBUG %}
  <script src="/static/bundle/home/test_index.js"></script>
{% else %}
  <script src="/static/bundle/home/test_index.js"></script>
{% endif %}

<script>
const isLocalhost = Boolean(
  window.location.hostname === 'localhost' ||
    // [::1] is the IPv6 localhost address.
    window.location.hostname === '[::1]' ||
    // 127.0.0.1/8 is considered localhost for IPv4.
    window.location.hostname.match(
      /^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/
    )
)

if ('serviceWorker' in navigator && !isLocalhost) {
  console.log('Service Worker Supported');
  window.addEventListener('load', () => {

    navigator.serviceWorker.register('/sw', { scope: '/' }).then(function(registration) {
      // console.log('Service Worker Registered');
      registration.onupdatefound = () => {
        const installingWorker = registration.installing;
        installingWorker.onstatechange = () => {
          if (installingWorker.state === 'installed') {
            if (navigator.serviceWorker.controller) {
              // At this point, the old content will have been purged and
              // the fresh content will have been added to the cache.
              // It's the perfect time to display a "New content is
              // available; please refresh." message in your web app.
              // console.log('New content is available; please refresh.');
              // location.reload(true)
            }
          }
        };
      }
    });

    navigator.serviceWorker.ready.then(function(registration) {
      // console.log('Service Worker Ready');
    });
  })
}
</script>

</html>
